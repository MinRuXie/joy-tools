"use strict";(self["webpackChunkvue3_tools"]=self["webpackChunkvue3_tools"]||[]).push([[259],{3259:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ve}});var n=t(6768),o=t(5130);const l={class:"sixteen-grider"};function i(e,a,t,i,r,u){const c=(0,n.g2)("SixteenGriderChooseTemplate"),p=(0,n.g2)("SixteenGriderBody"),d=(0,n.g2)("SixteenGriderToolbox"),s=(0,n.g2)("SixteenGriderOutput");return(0,n.uX)(),(0,n.CE)("div",l,[i.data.choosed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(c,{key:0,onEventChooseTemplate:i.chooseTemplate},null,8,["onEventChooseTemplate"])),i.data.choosed?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(p,{ref:"bodyRef",data:i.data},null,8,["data"]),(0,n.bF)(d,{data:i.data,onEventChangeYearDisplay:i.changeYearDisplay,onEventChangeYearText:i.changeYearText,onEventChangeYearColor:i.changeYearColor,onEventChangeYearWeight:i.changeYearWeight,onEventChangeYearFont:i.changeYearFont,onEventchangeFontLink:i.changeFontLink,onEventChangeGridGap:i.changeGridGap,onEventChangeBackgroundColor:i.changeBackgroundColor,onEventChangeOutputSize:i.changeOutputSize,onEventGetScreenshot:i.getScreenshot},null,8,["data","onEventChangeYearDisplay","onEventChangeYearText","onEventChangeYearColor","onEventChangeYearWeight","onEventChangeYearFont","onEventchangeFontLink","onEventChangeGridGap","onEventChangeBackgroundColor","onEventChangeOutputSize","onEventGetScreenshot"]),(0,n.bo)((0,n.bF)(s,{ref:"outputRef",onEventClosedModal:i.closedModal},null,8,["onEventClosedModal"]),[[o.aG,i.isShowOutput]])],64)):(0,n.Q3)("",!0)])}var r=t(2125),u=t.n(r),c=t(144);const p={class:"toolbox-wrap"},d={class:"toolbox-inner"},s=(0,n.Lk)("h5",{class:"toolbox-title"},"年份樣式",-1),g={class:"form-group"},h=(0,n.Lk)("label",{for:"year-show"},"顯示文字",-1),f=["checked"],k={class:"form-group"},y=(0,n.Lk)("label",{for:"year-text"},"文字",-1),m={class:"form-group"},v=(0,n.Lk)("label",{for:"year-color"},"顏色",-1),_={class:"form-group"},L=(0,n.Lk)("label",{for:"year-font-size"},"字體大小",-1),b={class:"form-group"},C=(0,n.Lk)("label",{for:"year-font-weight"},"字重",-1),x=(0,n.Fv)('<option value="normal">normal</option><option value="bold">bold</option><option value="bolder">bolder</option><option value="lighter">lighter</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option><option value="600">600</option><option value="700">700</option><option value="800">800</option><option value="900">900</option>',13),Y=[x],S={class:"form-group"},D=(0,n.Lk)("label",{for:"year-font-family-link"},"Google 字型 link",-1),G={class:"form-group"},w=(0,n.Lk)("label",{for:"year-font-family-name"},"Google 字型 CSS 名稱",-1),z=(0,n.Lk)("h5",{class:"toolbox-title"},"輸出",-1),F={class:"form-group"},E=(0,n.Lk)("label",{for:"bg-color"},"背景顏色",-1),R={class:"form-group"},T=(0,n.Lk)("label",{for:"grid-gap"},"格子間隙",-1),V={class:"form-group"},K=(0,n.Lk)("label",{for:"output-size"},"輸出尺寸 (寬度)",-1),U={class:"form-group"};function W(e,a,t,l,i,r){return(0,n.uX)(),(0,n.CE)("section",p,[(0,n.Lk)("div",d,[s,(0,n.Lk)("div",g,[h,(0,n.Lk)("input",{type:"checkbox",id:"year-show",name:"year-show",checked:l.initData.year_display,onChange:a[0]||(a[0]=(...e)=>l.changeYearDisplay&&l.changeYearDisplay(...e))},null,40,f)]),(0,n.Lk)("div",k,[y,(0,n.bo)((0,n.Lk)("input",{id:"year-text",name:"year-text",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>l.initData.year_text=e),onChange:a[2]||(a[2]=(...e)=>l.changeYearText&&l.changeYearText(...e)),onKeyup:a[3]||(a[3]=(...e)=>l.changeYearText&&l.changeYearText(...e))},null,544),[[o.Jo,l.initData.year_text]])]),(0,n.Lk)("div",m,[v,(0,n.bo)((0,n.Lk)("input",{id:"year-color",name:"year-color",type:"color","onUpdate:modelValue":a[4]||(a[4]=e=>l.initData.year_color=e),onChange:a[5]||(a[5]=(...e)=>l.changeYearColor&&l.changeYearColor(...e)),onKeyup:a[6]||(a[6]=(...e)=>l.changeYearColor&&l.changeYearColor(...e))},null,544),[[o.Jo,l.initData.year_color]])]),(0,n.Lk)("div",_,[L,(0,n.bo)((0,n.Lk)("input",{name:"year-font-size",min:"12",max:"100",type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>l.initData.year_font_size=e),onChange:a[8]||(a[8]=(...a)=>e.changeYearSize&&e.changeYearSize(...a)),onKeyup:a[9]||(a[9]=(...a)=>e.changeYearSize&&e.changeYearSize(...a))},null,544),[[o.Jo,l.initData.year_font_size]]),(0,n.eW)("px ")]),(0,n.Lk)("div",b,[C,(0,n.bo)((0,n.Lk)("select",{name:"year-font-weight",id:"year-font-weight","onUpdate:modelValue":a[10]||(a[10]=e=>l.initData.year_font_weight=e),onChange:a[11]||(a[11]=(...e)=>l.changeYearWeight&&l.changeYearWeight(...e))},Y,544),[[o.u1,l.initData.year_font_weight]])]),(0,n.Lk)("div",S,[D,(0,n.bo)((0,n.Lk)("textarea",{id:"year-font-family-link",name:"year-font-family-link",cols:"40",rows:"2","onUpdate:modelValue":a[12]||(a[12]=e=>l.initData.year_font_family_link=e),onKeydown:a[13]||(a[13]=(0,o.jR)((0,o.D$)((()=>{}),["exact","prevent"]),["enter"])),onKeyup:[a[14]||(a[14]=(0,o.jR)((0,o.D$)(((...e)=>l.changeFontLink&&l.changeFontLink(...e)),["exact"]),["enter"])),a[15]||(a[15]=(...e)=>l.changeFontLink&&l.changeFontLink(...e))]},null,544),[[o.Jo,l.initData.year_font_family_link]])]),(0,n.Lk)("div",G,[w,(0,n.bo)((0,n.Lk)("input",{id:"year-font-family-name",name:"year-font-family-name",type:"text","onUpdate:modelValue":a[16]||(a[16]=e=>l.initData.year_font_family_name=e),onChange:a[17]||(a[17]=(...e)=>l.changeYearFont&&l.changeYearFont(...e)),onKeyup:a[18]||(a[18]=(...e)=>l.changeYearFont&&l.changeYearFont(...e))},null,544),[[o.Jo,l.initData.year_font_family_name]])]),z,(0,n.Lk)("div",F,[E,(0,n.bo)((0,n.Lk)("input",{type:"color",id:"bg-color",name:"bg-color","onUpdate:modelValue":a[19]||(a[19]=e=>l.initData.background_color=e),onChange:a[20]||(a[20]=(...e)=>l.changeBackgroundColor&&l.changeBackgroundColor(...e))},null,544),[[o.Jo,l.initData.background_color]])]),(0,n.Lk)("div",R,[T,(0,n.bo)((0,n.Lk)("input",{type:"number",min:"0",id:"grid-gap",name:"grid-gap","onUpdate:modelValue":a[21]||(a[21]=e=>l.initData.grid_gap=e),onChange:a[22]||(a[22]=(...e)=>l.changeGridGap&&l.changeGridGap(...e))},null,544),[[o.Jo,l.initData.grid_gap]]),(0,n.eW)("px ")]),(0,n.Lk)("div",V,[K,(0,n.bo)((0,n.Lk)("input",{type:"number",min:"1",id:"output-size",name:"output-size","onUpdate:modelValue":a[23]||(a[23]=e=>l.initData.output_size=e),onChange:a[24]||(a[24]=(...e)=>l.changeOutputSize&&l.changeOutputSize(...e))},null,544),[[o.Jo,l.initData.output_size]]),(0,n.eW)("px ")]),(0,n.Lk)("div",U,[(0,n.Lk)("button",{id:"takeshot-btn",onClick:a[25]||(a[25]=(...e)=>l.getScreenshot&&l.getScreenshot(...e))},"產生圖檔")])])])}var $={name:"SixteenGriderToolbox",props:["data"],emits:["eventChangeYearDisplay","eventChangeYearText","eventChangeYearColor","eventChangeYearWeight","eventChangeYearFont","eventchangeFontLink","eventGetScreenshot","eventChangeGridGap","eventChangeBackgroundColor","eventChangeOutputSize"],setup(e,a){const t=(0,c.lW)(e,"data");function n(){a.emit("eventChangeYearDisplay",!t.value.year_display)}function o(){a.emit("eventChangeYearText",t.value.year_text)}function l(){a.emit("eventChangeYearColor",t.value.year_color)}function i(){a.emit("eventChangeYearWeight",t.value.year_font_weight)}function r(){a.emit("eventChangeYearFont",t.value.year_font_family_name)}function u(){a.emit("eventchangeFontLink",t.value.year_font_family_link)}function p(){a.emit("eventChangeGridGap",t.value.grid_gap)}function d(){a.emit("eventChangeBackgroundColor",t.value.background_color)}function s(){a.emit("eventChangeOutputSize",t.value.output_size)}function g(){a.emit("eventGetScreenshot")}return{initData:t,changeYearDisplay:n,changeYearText:o,changeYearColor:l,changeYearWeight:i,changeYearFont:r,changeFontLink:u,changeGridGap:p,changeBackgroundColor:d,changeOutputSize:s,getScreenshot:g}}},X=t(1241);const I=(0,X.A)($,[["render",W]]);var O=I;const B={class:"output-wrap"},J={ref:"imgWrapRef"};function M(e,a,t,o,l,i){return(0,n.uX)(),(0,n.CE)("section",B,[(0,n.Lk)("div",{class:"colsed-btn",onClick:a[0]||(a[0]=(...e)=>o.closedModal&&o.closedModal(...e))}),(0,n.Lk)("div",J,null,512)])}var A={name:"SixteenGriderOutput",emits:["eventClosedModal"],setup(e,a){let t=(0,c.KR)(null);function n(){a.emit("eventClosedModal")}return{imgWrapRef:t,closedModal:n}}};const j=(0,X.A)(A,[["render",M]]);var q=j,Q=t(4232);const H={ref:"captureRef",class:"capture-wrap"},N={class:"year-wrap"},P=["onChange"],Z=["onClick"],ee={class:"control-wrap"},ae=["id","onUpdate:modelValue"],te=["for"],ne=["for"],oe=["name","id","onUpdate:modelValue"];function le(e,a,t,l,i,r){return(0,n.uX)(),(0,n.CE)("section",{class:"work-wrap",style:(0,Q.Tr)({"aspect-ratio":l.initData.ratio})},[(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("div",N,[(0,n.Lk)("span",{ref:"yearRef",style:(0,Q.Tr)({color:l.initData.year_color,"font-size":l.initData.year_font_size+"px","font-weight":l.initData.year_font_weight,"font-family":l.initData.year_font_family_name,transform:"scale(1)"})},(0,Q.v_)(l.initData.year_text),5)],512),[[o.aG,l.initData.year_display]]),(0,n.Lk)("div",{class:"grid-wrap",style:(0,Q.Tr)({"grid-template-columns":`repeat(${l.initData.count_x}, 1fr)`,"grid-template-rows":`repeat(${l.initData.count_y}, 1fr)`,gap:`${l.initData.grid_gap}px`,"background-color":l.initData.background_color})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.imgInfo,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"image-wrap"},[((0,n.uX)(),(0,n.CE)("input",{type:"file",class:"edit-btn",onChange:e=>l.setImage(e,a),key:e.fileInputKey},null,40,P)),(0,n.bo)((0,n.Lk)("button",{class:"reset-btn",onClick:e=>l.resetImage(a)},"重設圖片",8,Z),[[o.aG,e.imgSrc]]),(0,n.Lk)("div",ee,[(0,n.bo)((0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{id:`img-type-${a}`,type:"checkbox","onUpdate:modelValue":a=>e.coverSize=a},null,8,ae),[[o.lH,e.coverSize]]),(0,n.Lk)("label",{for:`img-type-${a}`},"cover尺寸",8,te)],512),[[o.aG,e.imgSrc]]),(0,n.Lk)("fieldset",null,[(0,n.Lk)("label",{for:`img-type-${a}`},"背景色",8,ne),(0,n.bo)((0,n.Lk)("input",{type:"color",name:`img-bg-color-${a}`,id:`img-bg-color-${a}`,"onUpdate:modelValue":a=>e.bgColor=a},null,8,oe),[[o.Jo,e.bgColor]])])]),(0,n.Lk)("div",{class:"bg-color",style:(0,Q.Tr)({"background-color":e.bgColor})},null,4),(0,n.bo)((0,n.Lk)("div",{class:"bg-img",style:(0,Q.Tr)({"background-image":`url(${e.imgSrc})`,"background-size":e.coverSize?"cover":"contain"})},null,4),[[o.aG,e.imgSrc]])])))),128))],4)],512)],4)}t(4114);var ie={name:"SixteenGriderBody",props:["data"],setup(e){const a=(0,c.lW)(e,"data");let t=(0,c.Kh)([]);for(let r=0;r<a.value.count_x*a.value.count_y;r++)t.push({fileInputKey:`${r}-0`,imgSrc:"",coverSize:!0,bgColor:"transparent"});let n=(0,c.KR)(null),o=(0,c.KR)(null);function l(e,a){if(e.target.files&&e.target.files[0]){var n=new FileReader;n.onload=function(e){t[a].imgSrc=e.target.result},n.readAsDataURL(e.target.files[0])}}function i(e){t[e].imgSrc="";let a=t[e].fileInputKey.split("-"),n=parseInt(a[1])+1;t[e].fileInputKey=`${a[0]}-${n}`}return{initData:a,imgInfo:t,captureRef:n,yearRef:o,setImage:l,resetImage:i}}};const re=(0,X.A)(ie,[["render",le]]);var ue=re;const ce={class:"choose-wrap"},pe={class:"choose-inner"},de=(0,n.Lk)("h3",null,"請選擇版型",-1),se=(0,n.Lk)("label",{for:"picked_x"},"寬邊格數",-1),ge=(0,n.Lk)("label",{for:"picked_y"},"高邊格數",-1),he=(0,n.Lk)("h3",null,"請選擇比例",-1),fe=(0,n.Lk)("label",{for:"1/1"},"1/1",-1),ke=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"1/1"}},null,-1),ye=(0,n.Lk)("label",{for:"5/4"},"5/4",-1),me=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"5/4"}},null,-1),ve=(0,n.Lk)("label",{for:"4/3"},"4/3",-1),_e=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"4/3"}},null,-1),Le=(0,n.Lk)("label",{for:"3/2"},"3/2",-1),be=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"3/2"}},null,-1),Ce=(0,n.Lk)("label",{for:"16/10"},"16/10",-1),xe=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"16/10"}},null,-1),Ye=(0,n.Lk)("label",{for:"16/9"},"16/9",-1),Se=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"16/9"}},null,-1),De=(0,n.Lk)("label",{for:"2/1"},"2/1",-1),Ge=(0,n.Lk)("div",{class:"box",style:{"aspect-ratio":"2/1"}},null,-1);function we(e,a,t,l,i,r){return(0,n.uX)(),(0,n.CE)("div",ce,[(0,n.Lk)("div",pe,[(0,n.Lk)("div",null,[de,(0,n.Lk)("fieldset",null,[se,(0,n.bo)((0,n.Lk)("input",{type:"number",min:"1",id:"picked_x","onUpdate:modelValue":a[0]||(a[0]=e=>l.picked_x=e)},null,512),[[o.Jo,l.picked_x]])]),(0,n.Lk)("fieldset",null,[ge,(0,n.bo)((0,n.Lk)("input",{type:"number",min:"1",id:"picked_y","onUpdate:modelValue":a[1]||(a[1]=e=>l.picked_y=e)},null,512),[[o.Jo,l.picked_y]])])]),(0,n.Lk)("div",null,[he,(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"1/1",value:"1/1","onUpdate:modelValue":a[2]||(a[2]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),fe,ke]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"5/4",value:"5/4","onUpdate:modelValue":a[3]||(a[3]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),ye,me]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"4/3",value:"4/3","onUpdate:modelValue":a[4]||(a[4]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),ve,_e]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"3/2",value:"3/2","onUpdate:modelValue":a[5]||(a[5]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),Le,be]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"16/10",value:"16/10","onUpdate:modelValue":a[6]||(a[6]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),Ce,xe]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"16/9",value:"16/9","onUpdate:modelValue":a[7]||(a[7]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),Ye,Se]),(0,n.Lk)("fieldset",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",id:"2/1",value:"2/1","onUpdate:modelValue":a[8]||(a[8]=e=>l.picked_ratio=e)},null,512),[[o.XL,l.picked_ratio]]),De,Ge])]),(0,n.Lk)("div",null,[(0,n.Lk)("button",{onClick:a[9]||(a[9]=(...e)=>l.chooseTemplate&&l.chooseTemplate(...e))},"確定")])])])}var ze={name:"SixteenGriderChooseTemplate",emits:["eventChooseTemplate"],setup(e,a){let t=(0,c.KR)(4),n=(0,c.KR)(4),o=(0,c.KR)("1/1");function l(){a.emit("eventChooseTemplate",`${t.value}x${n.value}`,o.value)}return{picked_x:t,picked_y:n,picked_ratio:o,chooseTemplate:l}}};const Fe=(0,X.A)(ze,[["render",we]]);var Ee=Fe,Re={name:"SixteenGrider",components:{SixteenGriderToolbox:O,SixteenGriderOutput:q,SixteenGriderBody:ue,SixteenGriderChooseTemplate:Ee},setup(){const e=(0,c.Kh)({choosed:!1,ratio:"1-1",count_x:4,count_y:4,year_text:"",year_display:!0,year_color:"#000000",year_font_size:35,year_font_weight:"400",year_font_family_link:"https://fonts.googleapis.com/css2?family=Vast+Shadow&display=swap",year_font_family_name:"Vast Shadow",grid_gap:0,background_color:"#FFFFFF",output_size:1024});let a=(0,c.KR)(!1),t=(0,c.KR)(null),o=(0,c.KR)(null);function l(a,t){let n=a.split("x");e.count_x=parseInt(n[0]),e.count_y=parseInt(n[1]),e.ratio=t,setTimeout((()=>{e.choosed=!0}),100)}function i(a){e.year_display=a}function r(a){e.year_text=a}function p(a){e.year_color=a}function d(a){e.year_font_weight=a}function s(a){e.year_font_family_name=a}function g(a){e.grid_gap=a}function h(a){e.background_color=a}function f(a){e.output_size=a}function k(a){e.year_font_family_link=a,document.querySelector('link[data-type="temp"]').href=e.year_font_family_link}function y(){a.value=!0;let n=e.output_size/t.value.captureRef.offsetWidth;t.value.yearRef.style.transform=`scale(${Math.floor(100*n)/100})`;let l=e.ratio.split("/"),i=l[1]/l[0];t.value.captureRef.style.width=`${e.output_size}px`,t.value.captureRef.style.height=e.output_size*i+"px",o.value.imgWrapRef.replaceChildren(),u()(t.value.captureRef).then((e=>{o.value.imgWrapRef.append(e),t.value.captureRef.style.width="",t.value.captureRef.style.height="",t.value.yearRef.style.transform=""}))}function m(){a.value=!1}return(0,n.sV)((()=>{let a=new Date;e.year_text=a.getFullYear();let t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e.year_font_family_link,t.setAttribute("data-type","temp"),document.head.appendChild(t)})),(0,n.hi)((()=>{document.querySelector('link[data-type="temp"]').remove()})),{data:e,isShowOutput:a,bodyRef:t,outputRef:o,changeYearDisplay:i,changeYearText:r,changeYearColor:p,changeYearWeight:d,changeYearFont:s,changeFontLink:k,chooseTemplate:l,changeGridGap:g,changeBackgroundColor:h,changeOutputSize:f,getScreenshot:y,closedModal:m}}};const Te=(0,X.A)(Re,[["render",i]]);var Ve=Te}}]);
//# sourceMappingURL=259.11675c29.js.map