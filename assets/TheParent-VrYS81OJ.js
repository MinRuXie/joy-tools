import{N as y,M as b,a as m,c as f,b as t,t as s,e as u,r as h,i as C,g as A,h as H,d as _,L as g,O as U,o as E}from"./index-Z7JVEGZy.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={name:"TheSon",props:["car"],emits:["eventUpdateHobby","eventAddCar"],setup(o,n){let d=y("person"),e=b(o,"car");function r(){n.emit("eventUpdateHobby")}function i(){let a={name:"法拉利",price:100};n.emit("eventAddCar",a)}return{person:d,initCar:e,updateHobby:r,addCar:i}}},V={class:"son"},R=t("h4",null,"Son子組件",-1);function S(o,n,d,e,r,i){return m(),f("div",V,[R,t("ul",null,[t("li",null,s(e.person),1),t("li",null,s(e.initCar),1)]),t("button",{onClick:n[0]||(n[0]=(...a)=>e.updateHobby&&e.updateHobby(...a))},"修改興趣"),t("button",{onClick:n[1]||(n[1]=(...a)=>e.addCar&&e.addCar(...a))},"新增一台車")])}const k=v(T,[["render",S]]),B={name:"TheChild",components:{TheSon:k},props:["modelValue","age","car"],emits:["update:modelValue","eventUpdateAge","eventUpdateHobby","eventAddCar"],setup(o,n){let d=u(null);console.log("props",o);let e=b(o.age),r=b(o,"car");function i(){n.emit("eventUpdateAge",e.value)}function a(){n.emit("eventUpdateHobby")}function l(c){n.emit("eventAddCar",c)}return{childRef:d,initAge:e,initCar:r,updateAge:i,updateHobby:a,addCar:l}}},x={class:"child"},D={ref:"childRef"},N=["value"];function M(o,n,d,e,r,i){const a=h("TheSon");return m(),f("div",x,[t("h3",D,"Child子組件",512),t("ul",null,[t("li",null,[C("姓名: "),t("input",{type:"text",value:d.modelValue,onInput:n[0]||(n[0]=l=>o.$emit("update:modelValue",l.target.value))},null,40,N)]),t("li",null,[C("年齡: "),A(t("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=l=>e.initAge=l),onChange:n[2]||(n[2]=(...l)=>e.updateAge&&e.updateAge(...l))},null,544),[[H,e.initAge]])])]),_(a,{onEventUpdateHobby:e.updateHobby,car:e.initCar,onEventAddCar:e.addCar},null,8,["onEventUpdateHobby","car","onEventAddCar"])])}const j=v(B,[["render",M]]),w={name:"DashBoard",components:{TheChild:j},setup(){let o=u(null),n=g({name:"李四",age:38,hobby:["看電視","睡覺"]}),d=u("張三"),e=u(18),r=g([{name:"奔馳",price:40}]);function i(p){e.value=p}function a(){n.hobby[0]+="~"}function l(p){r.push(p)}function c(){console.log("來自子組件的ref",o.value.childRef)}return U("person",n),E(()=>{console.log(o.value)}),{parentRef:o,person:n,name:d,age:e,car:r,updateAge:i,updateHobby:a,addCar:l,getChildRef:c}}},I={class:"parent"},L=t("h2",null,"DashBoard子組件",-1);function O(o,n,d,e,r,i){const a=h("TheChild");return m(),f("div",I,[L,t("ul",null,[t("li",null,"person: "+s(e.person),1),t("li",null,"姓名: "+s(e.name)+" ( "+s(e.age)+" )",1),t("li",null,"car: "+s(e.car),1)]),t("button",{onClick:n[0]||(n[0]=(...l)=>e.getChildRef&&e.getChildRef(...l))},"取得Child組件的childRef元素"),_(a,{ref:"parentRef",modelValue:e.name,"onUpdate:modelValue":n[1]||(n[1]=l=>e.name=l),age:e.age,onEventUpdateAge:e.updateAge,onEventUpdateHobby:e.updateHobby,car:e.car,onEventAddCar:e.addCar},null,8,["modelValue","age","onEventUpdateAge","onEventUpdateHobby","car","onEventAddCar"])])}const z=v(w,[["render",O]]);export{z as default};
