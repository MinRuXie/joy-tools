import{e as I,a as c,c as r,g as p,h as E,b as d,F,M as S,k as C,t as b,x as v,i as T,L,r as _,d as f}from"./index-Z7JVEGZy.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={name:"TodoList",emits:["eventAddItem"],setup(e,n){let a=I("");function t(){let l={};l.name=a.value,l.isFinish=!1,l.tempName=l.name,l.editStatus=!1,a.value="",n.emit("eventAddItem",l)}return{addItemName:a,addItem:t}}};function A(e,n,a,t,l,u){return c(),r(F,null,[p(d("input",{type:"text",placeholder:"請輸入項目","onUpdate:modelValue":n[0]||(n[0]=i=>t.addItemName=i)},null,512),[[E,t.addItemName]]),d("button",{onClick:n[1]||(n[1]=(...i)=>t.addItem&&t.addItem(...i))},"新增")],64)}const y=h(N,[["render",A]]),D={name:"TodoListBody",props:["data"],emits:["eventUpdateStatus","eventDelItem","eventEnableEditItem","eventDisableEditItem","eventEditItem"],setup(e,n){let a=S(e,"data");function t(s){n.emit("eventUpdateStatus",s)}function l(s){n.emit("eventDelItem",s)}function u(s){n.emit("eventEnableEditItem",s)}function i(s){n.emit("eventDisableEditItem",s)}function m(s){n.emit("eventEditItem",s)}return{fromData:a,updateItemStatus:t,delItem:l,enableEditItem:u,disableEditItem:i,editItem:m}}},$={class:"list-wrap"},g={key:0},B=["id","checked","onChange"],U=["for"],V=["onClick"],H=["onClick"],w={key:1},M=["onUpdate:modelValue"],j=["onClick"],q=["onClick"];function R(e,n,a,t,l,u){return c(),r("ul",$,[(c(!0),r(F,null,C(t.fromData.todos,(i,m)=>(c(),r("li",{key:m},[i.editStatus?v("",!0):(c(),r("div",g,[d("input",{type:"checkbox",id:"item"+m,checked:i.isFinish,onChange:s=>t.updateItemStatus(m)},null,40,B),d("label",{for:"item"+m},b(i.name),9,U),d("button",{onClick:s=>t.enableEditItem(m)},"編輯",8,V),d("button",{onClick:s=>t.delItem(m)},"刪除",8,H)])),i.editStatus?(c(),r("div",w,[p(d("input",{type:"text","onUpdate:modelValue":s=>i.tempName=s},null,8,M),[[E,i.tempName]]),d("button",{onClick:s=>t.disableEditItem(m)},"取消",8,j),d("button",{onClick:s=>t.editItem(m)},"確定",8,q)])):v("",!0)]))),128))])}const z=h(D,[["render",R]]),G={name:"TodoListFooter",emits:["eventClearFinish","eventSetAllFinish"],setup(e,n){let a=I(!1);function t(){a.value=!a.value,n.emit("eventSetAllFinish",a.value)}function l(){a.value=!1,n.emit("eventClearFinish")}return{all_finish:a,clearFinish:l,setAllFinish:t}}},J={class:"footer"},K={for:"all-finish"},O=["checked"];function P(e,n,a,t,l,u){return c(),r("div",J,[d("label",K,[d("input",{type:"checkbox",id:"all-finish",checked:t.all_finish,onChange:n[0]||(n[0]=(...i)=>t.setAllFinish&&t.setAllFinish(...i))},null,40,O),T("全選 ")]),d("button",{onClick:n[1]||(n[1]=(...i)=>t.clearFinish&&t.clearFinish(...i))},"刪除所有已完成項目")])}const Q=h(G,[["render",P]]),W={name:"TodoList",components:{TodoListBody:z,TodoListHeader:y,TodoListFooter:Q},setup(){const e=L({todos:[{name:"吃飯",isFinish:!1,tempName:"吃飯",editStatus:!1},{name:"睡覺",isFinish:!1,tempName:"睡覺",editStatus:!1}]});function n(o){e.todos.push(o)}function a(o){e.todos.splice(o,1)}function t(o){e.todos[o].isFinish=!e.todos[o].isFinish}function l(o){e.todos.forEach(k=>{k.isFinish=o})}function u(){for(let o=e.todos.length-1;o>=0;o--)e.todos[o].isFinish&&e.todos.splice(o,1)}function i(o){e.todos[o].editStatus=!0}function m(o){e.todos[o].tempName=e.todos[o].name,e.todos[o].editStatus=!1}function s(o){e.todos[o].name=e.todos[o].tempName,e.todos[o].editStatus=!1}return{data:e,addItem:n,delItem:a,updateItemStatus:t,clearFinish:u,setAllFinish:l,enableEditItem:i,disableEditItem:m,editItem:s}}},X={class:"todolist"},Y=d("h2",null,"Todolist子組件",-1),Z=d("hr",null,null,-1),x=d("hr",null,null,-1);function tt(e,n,a,t,l,u){const i=_("TodoListHeader"),m=_("TodoListBody"),s=_("TodoListFooter");return c(),r("div",X,[Y,f(i,{onEventAddItem:t.addItem},null,8,["onEventAddItem"]),Z,f(m,{data:t.data,onEventUpdateStatus:t.updateItemStatus,onEventDelItem:t.delItem,onEventEnableEditItem:t.enableEditItem,onEventDisableEditItem:t.disableEditItem,onEventEditItem:t.editItem},null,8,["data","onEventUpdateStatus","onEventDelItem","onEventEnableEditItem","onEventDisableEditItem","onEventEditItem"]),x,f(s,{onEventClearFinish:t.clearFinish,onEventSetAllFinish:t.setAllFinish},null,8,["onEventClearFinish","onEventSetAllFinish"]),d("blockquote",null,[d("pre",null,b(t.data),1)])])}const ot=h(W,[["render",tt]]);export{ot as default};
