import{m as G,j as F,a as _,c as y,b as e,g as l,v as $,h as u,i as x,q as V,J as R,K as C,E as I,e as f,H as k,G as h,t as S,n as K,F as z,k as M,u as U,L as b,o as T,s as E,I as P,x as O,d as w,l as B}from"./index.e8dd373d.js";import{a as D}from"./html2canvas.esm.e4335792.js";const N={class:"toolbox-wrap"},W={class:"toolbox-inner"},q=e("h5",{class:"toolbox-title"},"\u6587\u5B57\u6A23\u5F0F",-1),A={class:"form-group"},L=e("label",{for:"year-show"},"\u986F\u793A\u6587\u5B57",-1),j={class:"accordion",id:"accordionExample"},H={class:"accordion-item"},J=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"},"\u6587\u5B57")],-1),Y={id:"collapseOne",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},Q={class:"accordion-body"},X={class:"form-group"},Z=e("label",{for:"year-text"},"\u6587\u5B57",-1),ee={class:"form-group"},oe=e("label",{for:"year-color"},"\u6587\u5B57\u984F\u8272",-1),te={class:"form-group"},ae=e("label",{for:"year-font-size"},"\u5B57\u9AD4\u5927\u5C0F",-1),le={class:"form-group"},ne=e("label",{for:"year-font-weight"},"\u5B57\u91CD",-1),ie=I('<option value="normal">normal</option><option value="bold">bold</option><option value="bolder">bolder</option><option value="lighter">lighter</option><option value="100">100</option><option value="200">200</option><option value="300">300</option><option value="400">400</option><option value="500">500</option><option value="600">600</option><option value="700">700</option><option value="800">800</option><option value="900">900</option>',13),re=[ie],se={class:"form-group"},de=e("label",{for:"year-font-family-link"},"Google \u5B57\u578B link",-1),ue=["onKeyup"],pe={class:"form-group"},ce=e("label",{for:"year-font-family-name"},"Google \u5B57\u578B CSS \u540D\u7A31",-1),_e={class:"accordion-item"},ye=e("h2",{class:"accordion-header"},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"\u6587\u5B57\u80CC\u666F")],-1),me={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},ve={class:"accordion-body"},fe={class:"form-group"},ge=e("label",{for:"year-bg-show"},"\u555F\u7528",-1),be={class:"form-group"},he=e("label",{for:"year-bg-color"},"\u6587\u5B57\u80CC\u666F\u984F\u8272",-1),ke={class:"form-group"},xe=e("label",{for:"year-bg-style"},"\u6587\u5B57\u80CC\u666F\u5F62\u72C0",-1),we=e("option",{value:"rect"},"\u9577\u65B9\u5F62",-1),$e=e("option",{value:"square"},"\u6B63\u65B9\u5F62",-1),Ve=e("option",{value:"round"},"\u5713\u5F62",-1),Se=e("option",{value:"ellipse"},"\u6A62\u5713\u5F62",-1),Ue=[we,$e,Ve,Se],Fe={class:"form-group"},ze=e("label",{for:"year-bg-border"},"\u6587\u5B57\u80CC\u666F\u5C3A\u5BF8",-1),Re={class:"form-group"},Ce=e("label",{for:"year-bg-border"},"\u6587\u5B57\u80CC\u666F\u908A\u6846\u5C3A\u5BF8",-1),Oe={class:"form-group"},Ie=e("label",{for:"year-bg-border-color"},"\u6587\u5B57\u80CC\u666F\u908A\u6846\u984F\u8272",-1),Me=e("h5",{class:"toolbox-title"},"\u8F38\u51FA",-1),Ge={class:"form-group"},Ke=e("label",{for:"grid-gap"},"\u683C\u5B50\u9593\u9699",-1),Te={class:"form-group"},Ee=e("label",{for:"grid-gap-color"},"\u683C\u5B50\u9593\u9699\u984F\u8272",-1),Pe={class:"form-group"},Be=e("label",{for:"output-size"},"\u8F38\u51FA\u5C3A\u5BF8 (\u5BEC\u5EA6)",-1),De={__name:"SixteenGriderToolbox",props:{modelValue:{},modelModifiers:{}},emits:G(["eventGetScreenshot"],["update:modelValue"]),setup(g,{emit:s}){const o=F(g,"modelValue"),i=s;function c(){document.querySelector('link[data-type="temp"]').href=o.value.year_font_family_link}function r(){i("eventGetScreenshot")}return(n,a)=>(_(),y("section",N,[e("div",W,[q,e("div",A,[L,l(e("input",{type:"checkbox",id:"year-show",name:"year-show","onUpdate:modelValue":a[0]||(a[0]=t=>o.value.year_display=t)},null,512),[[$,o.value.year_display]])]),e("div",j,[e("div",H,[J,e("div",Y,[e("div",Q,[e("div",X,[Z,l(e("input",{id:"year-text",name:"year-text",type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>o.value.year_text=t)},null,512),[[u,o.value.year_text]])]),e("div",ee,[oe,l(e("input",{id:"year-color",name:"year-color",type:"color","onUpdate:modelValue":a[2]||(a[2]=t=>o.value.year_color=t)},null,512),[[u,o.value.year_color]])]),e("div",te,[ae,l(e("input",{name:"year-font-size",min:"12",max:"100",type:"range","onUpdate:modelValue":a[3]||(a[3]=t=>o.value.year_font_size=t)},null,512),[[u,o.value.year_font_size]]),l(e("input",{name:"year-font-size",min:"12",max:"100",type:"number","onUpdate:modelValue":a[4]||(a[4]=t=>o.value.year_font_size=t)},null,512),[[u,o.value.year_font_size]]),x("px ")]),e("div",le,[ne,l(e("select",{name:"year-font-weight",id:"year-font-weight","onUpdate:modelValue":a[5]||(a[5]=t=>o.value.year_font_weight=t)},re,512),[[V,o.value.year_font_weight]])]),e("div",se,[de,l(e("textarea",{id:"year-font-family-link",name:"year-font-family-link",cols:"40",rows:"2","onUpdate:modelValue":a[6]||(a[6]=t=>o.value.year_font_family_link=t),onKeydown:a[7]||(a[7]=R(C(()=>{},["exact","prevent"]),["enter"])),onKeyup:[R(C(c,["exact"]),["enter"]),c]},null,40,ue),[[u,o.value.year_font_family_link]])]),e("div",pe,[ce,l(e("input",{id:"year-font-family-name",name:"year-font-family-name",type:"text","onUpdate:modelValue":a[8]||(a[8]=t=>o.value.year_font_family_name=t)},null,512),[[u,o.value.year_font_family_name]])])])])]),e("div",_e,[ye,e("div",me,[e("div",ve,[e("div",fe,[ge,l(e("input",{type:"checkbox",id:"year-bg-show",name:"year-bg-show","onUpdate:modelValue":a[9]||(a[9]=t=>o.value.year_background_display=t)},null,512),[[$,o.value.year_background_display]])]),e("div",be,[he,l(e("input",{type:"color",id:"year-bg-color",name:"year-bg-color","onUpdate:modelValue":a[10]||(a[10]=t=>o.value.year_background_color=t)},null,512),[[u,o.value.year_background_color]])]),e("div",ke,[xe,l(e("select",{name:"year-bg-style",id:"year-bg-style","onUpdate:modelValue":a[11]||(a[11]=t=>o.value.year_background_style=t)},Ue,512),[[V,o.value.year_background_style]])]),e("div",Fe,[ze,l(e("input",{name:"year-bg-border",min:"10",max:"500",type:"range","onUpdate:modelValue":a[12]||(a[12]=t=>o.value.year_background_w=t)},null,512),[[u,o.value.year_background_w]]),l(e("input",{name:"year-bg-border",min:"10",max:"500",type:"number","onUpdate:modelValue":a[13]||(a[13]=t=>o.value.year_background_w=t)},null,512),[[u,o.value.year_background_w]]),x("px ")]),e("div",Re,[Ce,l(e("input",{name:"year-bg-border",min:"0",max:"100",type:"range","onUpdate:modelValue":a[14]||(a[14]=t=>o.value.year_background_border=t)},null,512),[[u,o.value.year_background_border]]),l(e("input",{name:"year-bg-border",min:"0",max:"100",type:"number","onUpdate:modelValue":a[15]||(a[15]=t=>o.value.year_background_border=t)},null,512),[[u,o.value.year_background_border]]),x("px ")]),e("div",Oe,[Ie,l(e("input",{type:"color",id:"year-bg-border-color",name:"year-bg-border-color","onUpdate:modelValue":a[16]||(a[16]=t=>o.value.year_background_border_color=t)},null,512),[[u,o.value.year_background_border_color]])])])])])]),Me,e("div",Ge,[Ke,l(e("input",{type:"range",min:"0",id:"grid-gap",name:"grid-gap","onUpdate:modelValue":a[17]||(a[17]=t=>o.value.grid_gap=t)},null,512),[[u,o.value.grid_gap]]),l(e("input",{type:"number",min:"0",id:"grid-gap-2",name:"grid-gap-2","onUpdate:modelValue":a[18]||(a[18]=t=>o.value.grid_gap=t)},null,512),[[u,o.value.grid_gap]]),x("px ")]),e("div",Te,[Ee,l(e("input",{type:"color",id:"grid-gap-color",name:"grid-gap-color","onUpdate:modelValue":a[19]||(a[19]=t=>o.value.grid_gap_color=t)},null,512),[[u,o.value.grid_gap_color]])]),e("div",Pe,[Be,l(e("input",{type:"number",min:"1",id:"output-size",name:"output-size","onUpdate:modelValue":a[20]||(a[20]=t=>o.value.output_size=t)},null,512),[[u,o.value.output_size]]),x("px ")]),e("div",{class:"form-group"},[e("button",{id:"takeshot-btn",onClick:r},"\u7522\u751F\u5716\u6A94")])])]))}},Ne={class:"output-wrap"},We={__name:"SixteenGriderOutput",props:{isShowOutput:{},isShowOutputModifiers:{}},emits:["update:isShowOutput"],setup(g,{expose:s}){const o=F(g,"isShowOutput");let i=f(null);s({imgWrapRef:i});function c(){o.value=!1}return(r,n)=>(_(),y("section",Ne,[e("div",{class:"colsed-btn",onClick:c}),e("div",{ref_key:"imgWrapRef",ref:i},null,512)]))}},qe={class:"year-wrap"},Ae={class:"control-wrap"},Le=["onChange"],je=["for"],He=["id","onUpdate:modelValue"],Je=["for"],Ye=["name","id","onUpdate:modelValue"],Qe=I('<option value="left top">\u5DE6\u4E0A</option><option value="center top">\u4E2D\u4E0A</option><option value="right top">\u53F3\u4E0A</option><option value="left center">\u5DE6\u4E2D</option><option value="center center" selected>\u7F6E\u4E2D</option><option value="right center">\u53F3\u4E2D</option><option value="left bottom">\u5DE6\u4E0B</option><option value="center bottom">\u4E2D\u4E0B</option><option value="right bottom">\u53F3\u4E0B</option>',9),Xe=[Qe],Ze=["for"],eo=["name","id","onUpdate:modelValue"],oo=["onClick"],to={__name:"SixteenGriderBody",props:{data:Object},setup(g,{expose:s}){const o=g;let i=f([]);for(let t=0;t<o.data.count_x*o.data.count_y;t++)i.value.push({fileInputKey:`${t}-0`,imgSrc:"",coverSize:!0,imgPosition:"center center",bgColor:"#FFFFFF"});let c=f(null),r=f(null);s({captureRef:c,yearRef:r});function n(t,v){if(t.target.files&&t.target.files[0]){var d=new FileReader;d.onload=function(p){i.value[v].imgSrc=p.target.result},d.readAsDataURL(t.target.files[0])}}function a(t){let v=i.value[t].fileInputKey.split("-"),d=parseInt(v[1])+1;i.value[t].fileInputKey=`${v[0]}-${d}`,i.value[t].imgSrc="",i.value[t].coverSize=!0,i.value[t].imgPosition="center center",i.value[t].bgColor="#FFFFFF"}return(t,v)=>(_(),y("section",{class:"work-wrap",style:h({"aspect-ratio":o.data.ratio})},[e("div",{ref_key:"captureRef",ref:c,class:"capture-wrap"},[l(e("div",qe,[e("div",{class:"year-inner",ref_key:"yearRef",ref:r,style:{transform:"scale(1)"}},[e("span",{class:"year-text",style:h({color:o.data.year_color,"font-size":o.data.year_font_size+"px","font-weight":o.data.year_font_weight,"font-family":o.data.year_font_family_name})},S(o.data.year_text),5),l(e("div",{class:K(["year-bg",o.data.year_background_style]),style:h({"background-color":o.data.year_background_color,"border-width":`${o.data.year_background_border}px`,"border-color":o.data.year_background_border_color,width:`${o.data.year_background_w}px`})},null,6),[[k,o.data.year_background_display]])],512)],512),[[k,o.data.year_display]]),e("div",{class:"grid-wrap",style:h({"grid-template-columns":`repeat(${o.data.count_x}, 1fr)`,"grid-template-rows":`repeat(${o.data.count_y}, 1fr)`,gap:`${o.data.grid_gap}px`,"background-color":o.data.grid_gap_color})},[(_(!0),y(z,null,M(U(i),(d,p)=>(_(),y("div",{key:p,class:"image-wrap"},[e("div",Ae,[(_(),y("input",{type:"file",class:"file-input",onChange:m=>n(m,p),key:d.fileInputKey},null,40,Le)),l(e("fieldset",null,[e("label",{for:`img-type-${p}`},"cover",8,je),l(e("input",{id:`img-type-${p}`,type:"checkbox","onUpdate:modelValue":m=>d.coverSize=m},null,8,He),[[$,d.coverSize]])],512),[[k,d.imgSrc]]),l(e("fieldset",null,[e("label",{for:`img-position-${p}`},"\u5C0D\u9F4A",8,Je),l(e("select",{name:`img-position-${p}`,id:`img-position-${p}`,"onUpdate:modelValue":m=>d.imgPosition=m,onChange:v[0]||(v[0]=(...m)=>t.changeImgPosition&&t.changeImgPosition(...m))},Xe,40,Ye),[[V,d.imgPosition]])],512),[[k,d.imgSrc]]),e("fieldset",null,[e("label",{for:`img-type-${p}`},"\u80CC\u666F\u8272",8,Ze),l(e("input",{type:"color",name:`img-bg-color-${p}`,id:`img-bg-color-${p}`,"onUpdate:modelValue":m=>d.bgColor=m},null,8,eo),[[u,d.bgColor]])]),e("button",{class:"reset-btn",onClick:m=>a(p)},"\u91CD\u8A2D",8,oo)]),e("div",{class:"bg-color",style:h({"background-color":d.bgColor})},null,4),l(e("div",{class:"bg-img",style:h({"background-image":`url(${d.imgSrc})`,"background-size":d.coverSize?"cover":"contain","background-position":d.imgPosition})},null,4),[[k,d.imgSrc]])]))),128))],4)],512)],4))}},ao={class:"choose-wrap"},lo={class:"container"},no={class:"row"},io={class:"col-12 col-lg-6"},ro={class:"option-wrap"},so={class:"option-count"},uo=e("label",{for:"picked_x"},"\u6A6B\u5411\u683C\u6578",-1),po=e("label",{for:"picked_y"},"\u7E31\u5411\u683C\u6578",-1),co={class:"option-ratio"},_o=e("label",{for:"1/1"},"1/1",-1),yo=e("div",{class:"box",style:{"aspect-ratio":"1/1"}},null,-1),mo=e("label",{for:"5/4"},"5/4",-1),vo=e("div",{class:"box",style:{"aspect-ratio":"5/4"}},null,-1),fo=e("label",{for:"4/3"},"4/3",-1),go=e("div",{class:"box",style:{"aspect-ratio":"4/3"}},null,-1),bo=e("label",{for:"3/2"},"3/2",-1),ho=e("div",{class:"box",style:{"aspect-ratio":"3/2"}},null,-1),ko=e("label",{for:"16/10"},"16/10",-1),xo=e("div",{class:"box",style:{"aspect-ratio":"16/10"}},null,-1),wo=e("label",{for:"16/9"},"16/9",-1),$o=e("div",{class:"box",style:{"aspect-ratio":"16/9"}},null,-1),Vo=e("label",{for:"2/1"},"2/1",-1),So=e("div",{class:"box",style:{"aspect-ratio":"2/1"}},null,-1),Uo={class:"col-12 col-lg-6"},Fo={class:"view-wrap"},zo=e("h4",null,"\u9810\u89BD\uFF1A",-1),Ro={__name:"SixteenGriderChooseTemplate",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(g){const s=F(g,"modelValue"),o=f({picked_x:4,picked_y:4,picked_ratio:"1/1"});function i(){s.value.count_x=parseInt(o.value.picked_x),s.value.count_y=parseInt(o.value.picked_y),s.value.ratio=o.value.picked_ratio,setTimeout(()=>{s.value.choosed=!0},100)}return(c,r)=>(_(),y("div",ao,[e("div",lo,[e("div",no,[e("div",io,[e("div",ro,[e("div",so,[e("h4",null,"\u8ACB\u9078\u64C7\u7248\u578B\uFF1A\u7E3D\u5171 "+S(o.value.picked_x*o.value.picked_y)+" \u683C",1),e("fieldset",null,[uo,l(e("input",{type:"number",min:"1",id:"picked_x","onUpdate:modelValue":r[0]||(r[0]=n=>o.value.picked_x=n)},null,512),[[u,o.value.picked_x]])]),e("fieldset",null,[po,l(e("input",{type:"number",min:"1",id:"picked_y","onUpdate:modelValue":r[1]||(r[1]=n=>o.value.picked_y=n)},null,512),[[u,o.value.picked_y]])])]),e("div",co,[e("h4",null,"\u8ACB\u9078\u64C7\u6BD4\u4F8B\uFF1A"+S(o.value.picked_ratio),1),e("fieldset",null,[l(e("input",{type:"radio",id:"1/1",value:"1/1","onUpdate:modelValue":r[2]||(r[2]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),_o,yo]),e("fieldset",null,[l(e("input",{type:"radio",id:"5/4",value:"5/4","onUpdate:modelValue":r[3]||(r[3]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),mo,vo]),e("fieldset",null,[l(e("input",{type:"radio",id:"4/3",value:"4/3","onUpdate:modelValue":r[4]||(r[4]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),fo,go]),e("fieldset",null,[l(e("input",{type:"radio",id:"3/2",value:"3/2","onUpdate:modelValue":r[5]||(r[5]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),bo,ho]),e("fieldset",null,[l(e("input",{type:"radio",id:"16/10",value:"16/10","onUpdate:modelValue":r[6]||(r[6]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),ko,xo]),e("fieldset",null,[l(e("input",{type:"radio",id:"16/9",value:"16/9","onUpdate:modelValue":r[7]||(r[7]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),wo,$o]),e("fieldset",null,[l(e("input",{type:"radio",id:"2/1",value:"2/1","onUpdate:modelValue":r[8]||(r[8]=n=>o.value.picked_ratio=n)},null,512),[[b,o.value.picked_ratio]]),Vo,So])]),e("div",{class:"option-btn"},[e("button",{onClick:i},"\u78BA\u5B9A")])])]),e("div",Uo,[e("div",Fo,[zo,e("div",{class:"box",style:h({"aspect-ratio":o.value.picked_ratio,"grid-template-columns":`repeat(${o.value.picked_x}, 1fr)`,"grid-template-rows":`repeat(${o.value.picked_y}, 1fr)`})},[(_(!0),y(z,null,M(o.value.picked_x*o.value.picked_y,n=>(_(),y("div",{class:"box-inner",key:n}))),128))],4)])])])])]))}},Co={class:"sixteen-grider"},Mo={__name:"SixteenGrider",setup(g){const s=f({choosed:!1,ratio:"1-1",count_x:4,count_y:4,year_display:!0,year_text:"",year_color:"#000000",year_font_size:35,year_font_weight:"400",year_background_display:!0,year_background_color:"#ffa500",year_background_style:"round",year_background_w:100,year_background_border:0,year_background_border_color:"#FFFFFF",year_font_family_link:"https://fonts.googleapis.com/css2?family=Vast+Shadow&display=swap",year_font_family_name:"Vast Shadow",grid_gap:0,grid_gap_color:"#FFFFFF",output_size:1024});let o=f(!1),i=f(null),c=f(null);function r(){o.value=!0;let n=s.value.output_size/i.value.captureRef.offsetWidth;i.value.yearRef.style.transform=`scale(${Math.floor(n*100)/100})`;let a=s.value.ratio.split("/"),t=a[1]/a[0];i.value.captureRef.style.width=`${s.value.output_size}px`,i.value.captureRef.style.height=`${s.value.output_size*t}px`,c.value.imgWrapRef.replaceChildren(),D(i.value.captureRef).then(v=>{c.value.imgWrapRef.append(v),i.value.captureRef.style.width="",i.value.captureRef.style.height="",i.value.yearRef.style.transform=""})}return T(()=>{let n=new Date;s.value.year_text=n.getFullYear();let a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=s.value.year_font_family_link,a.setAttribute("data-type","temp"),document.head.appendChild(a)}),E(()=>{document.querySelector('link[data-type="temp"]').remove()}),(n,a)=>(_(),y("div",Co,[s.value.choosed?O("",!0):(_(),P(Ro,{key:0,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=t=>s.value=t)},null,8,["modelValue"])),s.value.choosed?(_(),y(z,{key:1},[w(to,{ref_key:"bodyRef",ref:i,data:s.value},null,8,["data"]),w(De,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value=t),onEventGetScreenshot:r},null,8,["modelValue"]),l(w(We,{ref_key:"outputRef",ref:c,isShowOutput:U(o),"onUpdate:isShowOutput":a[2]||(a[2]=t=>B(o)?o.value=t:o=t)},null,8,["isShowOutput"]),[[k,U(o)]])],64)):O("",!0)]))}};export{Mo as default};
