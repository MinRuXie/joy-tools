import{e as Ut,o as Ne,T as Me,p as je,a as gt,c as vt,b as tt,i as Pt,g as It,h as Gt,t as Ct,v as pe,q as me,F as Lt,k as se,u as We,w as He,x as Bt}from"./index.9a26f015.js";import{c as Tt,b as Qt}from"./_commonjsHelpers.468b0bfa.js";function Ze(j,D){return D.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(m){if(m!=="default"&&!(m in j)){var e=Object.getOwnPropertyDescriptor(y,m);Object.defineProperty(j,m,e.get?e:{enumerable:!0,get:function(){return y[m]}})}})}),Object.freeze(j)}function xe(j,D){return new Promise(function(y,m){let e;return Ge(j).then(function(t){try{return e=t,y(new Blob([D.slice(0,2),e,D.slice(2)],{type:"image/jpeg"}))}catch(l){return m(l)}},m)})}const Ge=j=>new Promise((D,y)=>{const m=new FileReader;m.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return y("not a valid JPEG");for(l+=2;;){const r=t.getUint16(l);if(r===65498)break;const f=t.getUint16(l+2);if(r===65505&&t.getUint32(l+4)===1165519206){const g=l+10;let s;switch(t.getUint16(g)){case 18761:s=!0;break;case 19789:s=!1;break;default:return y("TIFF header contains invalid endian")}if(t.getUint16(g+2,s)!==42)return y("TIFF header contains invalid version");const o=t.getUint32(g+4,s),a=g+o+2+12*t.getUint16(g+o,s);for(let i=g+o+2;i<a;i+=12)if(t.getUint16(i,s)==274){if(t.getUint16(i+2,s)!==3)return y("Orientation data type is invalid");if(t.getUint32(i+4,s)!==1)return y("Orientation data count is invalid");t.setUint16(i+8,1,s);break}return D(e.slice(l,l+2+f))}l+=2+f}return D(new Blob)}),m.readAsArrayBuffer(j)});var Jt={},Ke={get exports(){return Jt},set exports(j){Jt=j}};(function(j){var D,y,m={};Ke.exports=m,m.parse=function(e,t){for(var l=m.bin.readUshort,r=m.bin.readUint,f=0,g={},s=new Uint8Array(e),o=s.length-4;r(s,o)!=101010256;)o--;f=o,f+=4;var a=l(s,f+=4);l(s,f+=2);var i=r(s,f+=2),c=r(s,f+=4);f+=4,f=c;for(var u=0;u<a;u++){r(s,f),f+=4,f+=4,f+=4,r(s,f+=4),i=r(s,f+=4);var v=r(s,f+=4),d=l(s,f+=4),A=l(s,f+2),E=l(s,f+4);f+=6;var z=r(s,f+=8);f+=4,f+=d+A+E,m._readLocal(s,z,g,i,v,t)}return g},m._readLocal=function(e,t,l,r,f,g){var s=m.bin.readUshort,o=m.bin.readUint;o(e,t),s(e,t+=4),s(e,t+=2);var a=s(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var i=s(e,t+=8),c=s(e,t+=2);t+=2;var u=m.bin.readUTF8(e,t,i);if(t+=i,t+=c,g)l[u]={size:f,csize:r};else{var v=new Uint8Array(e.buffer,t);if(a==0)l[u]=new Uint8Array(v.buffer.slice(t,t+r));else{if(a!=8)throw"unknown compression method: "+a;var d=new Uint8Array(f);m.inflateRaw(v,d),l[u]=d}}},m.inflateRaw=function(e,t){return m.F.inflate(e,t)},m.inflate=function(e,t){return e[0],e[1],m.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},m.deflate=function(e,t){t==null&&(t={level:6});var l=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[l]=120,r[l+1]=156,l+=2,l=m.F.deflateRaw(e,r,l,t.level);var f=m.adler(e,0,e.length);return r[l+0]=f>>>24&255,r[l+1]=f>>>16&255,r[l+2]=f>>>8&255,r[l+3]=f>>>0&255,new Uint8Array(r.buffer,0,l+4)},m.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),r=m.F.deflateRaw(e,l,r,t.level);return new Uint8Array(l.buffer,0,r)},m.encode=function(e,t){t==null&&(t=!1);var l=0,r=m.bin.writeUint,f=m.bin.writeUshort,g={};for(var s in e){var o=!m._noNeed(s)&&!t,a=e[s],i=m.crc.crc(a,0,a.length);g[s]={cpr:o,usize:a.length,crc:i,file:o?m.deflateRaw(a):a}}for(var s in g)l+=g[s].file.length+30+46+2*m.bin.sizeUTF8(s);l+=22;var c=new Uint8Array(l),u=0,v=[];for(var s in g){var d=g[s];v.push(u),u=m._writeHeader(c,u,s,d,0)}var A=0,E=u;for(var s in g)d=g[s],v.push(u),u=m._writeHeader(c,u,s,d,1,v[A++]);var z=u-E;return r(c,u,101010256),u+=4,f(c,u+=4,A),f(c,u+=2,A),r(c,u+=2,z),r(c,u+=4,E),u+=4,u+=2,c.buffer},m._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},m._writeHeader=function(e,t,l,r,f,g){var s=m.bin.writeUint,o=m.bin.writeUshort,a=r.file;return s(e,t,f==0?67324752:33639248),t+=4,f==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,r.cpr?8:0),s(e,t+=2,0),s(e,t+=4,r.crc),s(e,t+=4,a.length),s(e,t+=4,r.usize),o(e,t+=4,m.bin.sizeUTF8(l)),o(e,t+=2,0),t+=2,f==1&&(t+=2,t+=2,s(e,t+=6,g),t+=4),t+=m.bin.writeUTF8(e,t,l),f==0&&(e.set(a,t),t+=a.length),t},m.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,r=0;r<8;r++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,r){for(var f=0;f<r;f++)e=m.crc.table[255&(e^t[l+f])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^m.crc.update(4294967295,e,t,l)}},m.adler=function(e,t,l){for(var r=1,f=0,g=t,s=t+l;g<s;){for(var o=Math.min(g+5552,s);g<o;)f+=r+=e[g++];r%=65521,f%=65521}return f<<16|r},m.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var r="",f=0;f<l;f++)r+=String.fromCharCode(e[t+f]);return r},writeASCII:function(e,t,l){for(var r=0;r<l.length;r++)e[t+r]=l.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var r,f="",g=0;g<l;g++)f+="%"+m.bin.pad(e[t+g].toString(16));try{r=decodeURIComponent(f)}catch{return m.bin.readASCII(e,t,l)}return r},writeUTF8:function(e,t,l){for(var r=l.length,f=0,g=0;g<r;g++){var s=l.charCodeAt(g);if((4294967168&s)==0)e[t+f]=s,f++;else if((4294965248&s)==0)e[t+f]=192|s>>6,e[t+f+1]=128|s>>0&63,f+=2;else if((4294901760&s)==0)e[t+f]=224|s>>12,e[t+f+1]=128|s>>6&63,e[t+f+2]=128|s>>0&63,f+=3;else{if((4292870144&s)!=0)throw"e";e[t+f]=240|s>>18,e[t+f+1]=128|s>>12&63,e[t+f+2]=128|s>>6&63,e[t+f+3]=128|s>>0&63,f+=4}}return f},sizeUTF8:function(e){for(var t=e.length,l=0,r=0;r<t;r++){var f=e.charCodeAt(r);if((4294967168&f)==0)l++;else if((4294965248&f)==0)l+=2;else if((4294901760&f)==0)l+=3;else{if((4292870144&f)!=0)throw"e";l+=4}}return l}},m.F={},m.F.deflateRaw=function(e,t,l,r){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],g=m.F.U,s=m.F._goodIndex;m.F._hash;var o=m.F._putsE,a=0,i=l<<3,c=0,u=e.length;if(r==0){for(;a<u;)o(t,i,a+(x=Math.min(65535,u-a))==u?1:0),i=m.F._copyExact(e,a,x,t,i+8),a+=x;return i>>>3}var v=g.lits,d=g.strt,A=g.prev,E=0,z=0,B=0,S=0,O=0,k=0;for(u>2&&(d[k=m.F._hash(e,0)]=0),a=0;a<u;a++){if(O=k,a+1<u-2){k=m.F._hash(e,a+1);var _=a+1&32767;A[_]=d[k],d[k]=_}if(c<=a){(E>14e3||z>26697)&&u-a>100&&(c<a&&(v[E]=a-c,E+=2,c=a),i=m.F._writeBlock(a==u-1||c==u?1:0,v,E,S,e,B,a-B,t,i),E=z=S=0,B=a);var R=0;a<u-2&&(R=m.F._bestMatch(e,a,A,O,Math.min(f[2],u-a),f[3]));var x=R>>>16,h=65535&R;if(R!=0){h=65535&R;var w=s(x=R>>>16,g.of0);g.lhst[257+w]++;var n=s(h,g.df0);g.dhst[n]++,S+=g.exb[w]+g.dxb[n],v[E]=x<<23|a-c,v[E+1]=h<<16|w<<8|n,E+=2,c=a+x}else g.lhst[e[a]]++;z++}}for(B==a&&e.length!=0||(c<a&&(v[E]=a-c,E+=2,c=a),i=m.F._writeBlock(1,v,E,S,e,B,a-B,t,i),E=0,z=0,E=z=S=0,B=a);(7&i)!=0;)i++;return i>>>3},m.F._bestMatch=function(e,t,l,r,f,g){var s=32767&t,o=l[s],a=s-o+32768&32767;if(o==s||r!=m.F._hash(e,t-a))return 0;for(var i=0,c=0,u=Math.min(32767,t);a<=u&&--g!=0&&o!=s;){if(i==0||e[t+i]==e[t+i-a]){var v=m.F._howLong(e,t,a);if(v>i){if(c=a,(i=v)>=f)break;a+2<v&&(v=a+2);for(var d=0,A=0;A<v-2;A++){var E=t-a+A+32768&32767,z=E-l[E]+32768&32767;z>d&&(d=z,o=E)}}}a+=(s=o)-(o=l[s])+32768&32767}return i<<16|c},m.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var r=t,f=Math.min(e.length,t+258);for(t+=3;t<f&&e[t]==e[t-l];)t++;return t-r},m.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},m.saved=0,m.F._writeBlock=function(e,t,l,r,f,g,s,o,a){var i,c,u,v,d,A,E,z,B,S=m.F.U,O=m.F._putsF,k=m.F._putsE;S.lhst[256]++,c=(i=m.F.getTrees())[0],u=i[1],v=i[2],d=i[3],A=i[4],E=i[5],z=i[6],B=i[7];var _=32+((a+3&7)==0?0:8-(a+3&7))+(s<<3),R=r+m.F.contSize(S.fltree,S.lhst)+m.F.contSize(S.fdtree,S.dhst),x=r+m.F.contSize(S.ltree,S.lhst)+m.F.contSize(S.dtree,S.dhst);x+=14+3*E+m.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var h=0;h<286;h++)S.lhst[h]=0;for(h=0;h<30;h++)S.dhst[h]=0;for(h=0;h<19;h++)S.ihst[h]=0;var w=_<R&&_<x?0:R<x?1:2;if(O(o,a,e),O(o,a+1,w),a+=3,w==0){for(;(7&a)!=0;)a++;a=m.F._copyExact(f,g,s,o,a)}else{var n,T;if(w==1&&(n=S.fltree,T=S.fdtree),w==2){m.F.makeCodes(S.ltree,c),m.F.revCodes(S.ltree,c),m.F.makeCodes(S.dtree,u),m.F.revCodes(S.dtree,u),m.F.makeCodes(S.itree,v),m.F.revCodes(S.itree,v),n=S.ltree,T=S.dtree,k(o,a,d-257),k(o,a+=5,A-1),k(o,a+=5,E-4),a+=4;for(var C=0;C<E;C++)k(o,a+3*C,S.itree[1+(S.ordr[C]<<1)]);a+=3*E,a=m.F._codeTiny(z,S.itree,o,a),a=m.F._codeTiny(B,S.itree,o,a)}for(var b=g,H=0;H<l;H+=2){for(var F=t[H],G=F>>>23,N=b+(8388607&F);b<N;)a=m.F._writeLit(f[b++],n,o,a);if(G!=0){var P=t[H+1],$=P>>16,Z=P>>8&255,L=255&P;k(o,a=m.F._writeLit(257+Z,n,o,a),G-S.of0[Z]),a+=S.exb[Z],O(o,a=m.F._writeLit(L,T,o,a),$-S.df0[L]),a+=S.dxb[L],b+=G}}a=m.F._writeLit(256,n,o,a)}return a},m.F._copyExact=function(e,t,l,r,f){var g=f>>>3;return r[g]=l,r[g+1]=l>>>8,r[g+2]=255-r[g],r[g+3]=255-r[g+1],g+=4,r.set(new Uint8Array(e.buffer,t,l),g),f+(l+4<<3)},m.F.getTrees=function(){for(var e=m.F.U,t=m.F._hufTree(e.lhst,e.ltree,15),l=m.F._hufTree(e.dhst,e.dtree,15),r=[],f=m.F._lenCodes(e.ltree,r),g=[],s=m.F._lenCodes(e.dtree,g),o=0;o<r.length;o+=2)e.ihst[r[o]]++;for(o=0;o<g.length;o+=2)e.ihst[g[o]]++;for(var a=m.F._hufTree(e.ihst,e.itree,7),i=19;i>4&&e.itree[1+(e.ordr[i-1]<<1)]==0;)i--;return[t,l,a,f,s,i,r,g]},m.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},m.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},m.F.contSize=function(e,t){for(var l=0,r=0;r<t.length;r++)l+=t[r]*e[1+(r<<1)];return l},m.F._codeTiny=function(e,t,l,r){for(var f=0;f<e.length;f+=2){var g=e[f],s=e[f+1];r=m.F._writeLit(g,t,l,r);var o=g==16?2:g==17?3:7;g>15&&(m.F._putsE(l,r,s,o),r+=o)}return r},m.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var r=0;r<l;r+=2){var f=e[r+1],g=r+3<l?e[r+3]:-1,s=r+5<l?e[r+5]:-1,o=r==0?-1:e[r-1];if(f==0&&g==f&&s==f){for(var a=r+5;a+2<l&&e[a+2]==f;)a+=2;(i=Math.min(a+1-r>>>1,138))<11?t.push(17,i-3):t.push(18,i-11),r+=2*i-2}else if(f==o&&g==f&&s==f){for(a=r+5;a+2<l&&e[a+2]==f;)a+=2;var i=Math.min(a+1-r>>>1,6);t.push(16,i-3),r+=2*i-2}else t.push(f,0)}return l>>>1},m.F._hufTree=function(e,t,l){var r=[],f=e.length,g=t.length,s=0;for(s=0;s<g;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<f;s++)e[s]!=0&&r.push({lit:s,f:e[s]});var o=r.length,a=r.slice(0);if(o==0)return 0;if(o==1){var i=r[0].lit;return a=i==0?1:0,t[1+(i<<1)]=1,t[1+(a<<1)]=1,1}r.sort(function(z,B){return z.f-B.f});var c=r[0],u=r[1],v=0,d=1,A=2;for(r[0]={lit:-1,f:c.f+u.f,l:c,r:u,d:0};d!=o-1;)c=v!=d&&(A==o||r[v].f<r[A].f)?r[v++]:r[A++],u=v!=d&&(A==o||r[v].f<r[A].f)?r[v++]:r[A++],r[d++]={lit:-1,f:c.f+u.f,l:c,r:u};var E=m.F.setDepth(r[d-1],0);for(E>l&&(m.F.restrictDepth(a,l,E),E=l),s=0;s<o;s++)t[1+(a[s].lit<<1)]=a[s].d;return E},m.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(m.F.setDepth(e.l,t+1),m.F.setDepth(e.r,t+1))},m.F.restrictDepth=function(e,t,l){var r=0,f=1<<l-t,g=0;for(e.sort(function(o,a){return a.d==o.d?o.f-a.f:a.d-o.d}),r=0;r<e.length&&e[r].d>t;r++){var s=e[r].d;e[r].d=t,g+=f-(1<<l-s)}for(g>>>=l-t;g>0;)(s=e[r].d)<t?(e[r].d++,g-=1<<t-s-1):r++;for(;r>=0;r--)e[r].d==t&&g<0&&(e[r].d--,g++);g!=0&&console.log("debt left")},m.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},m.F._writeLit=function(e,t,l,r){return m.F._putsF(l,r,t[e<<1]),r+t[1+(e<<1)]},m.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var r=m.F,f=r._bitsF,g=r._bitsE,s=r._decodeTiny,o=r.makeCodes,a=r.codes2map,i=r._get17,c=r.U,u=t==null;u&&(t=new l(e.length>>>2<<3));for(var v,d,A=0,E=0,z=0,B=0,S=0,O=0,k=0,_=0,R=0;A==0;)if(A=f(e,R,1),E=f(e,R+1,2),R+=3,E!=0){if(u&&(t=m.F._check(t,_+(1<<17))),E==1&&(v=c.flmap,d=c.fdmap,O=511,k=31),E==2){z=g(e,R,5)+257,B=g(e,R+5,5)+1,S=g(e,R+10,4)+4,R+=14;for(var x=0;x<38;x+=2)c.itree[x]=0,c.itree[x+1]=0;var h=1;for(x=0;x<S;x++){var w=g(e,R+3*x,3);c.itree[1+(c.ordr[x]<<1)]=w,w>h&&(h=w)}R+=3*S,o(c.itree,h),a(c.itree,h,c.imap),v=c.lmap,d=c.dmap,R=s(c.imap,(1<<h)-1,z+B,e,R,c.ttree);var n=r._copyOut(c.ttree,0,z,c.ltree);O=(1<<n)-1;var T=r._copyOut(c.ttree,z,B,c.dtree);k=(1<<T)-1,o(c.ltree,n),a(c.ltree,n,v),o(c.dtree,T),a(c.dtree,T,d)}for(;;){var C=v[i(e,R)&O];R+=15&C;var b=C>>>4;if(b>>>8==0)t[_++]=b;else{if(b==256)break;var H=_+b-254;if(b>264){var F=c.ldef[b-257];H=_+(F>>>3)+g(e,R,7&F),R+=7&F}var G=d[i(e,R)&k];R+=15&G;var N=G>>>4,P=c.ddef[N],$=(P>>>4)+f(e,R,15&P);for(R+=15&P,u&&(t=m.F._check(t,_+(1<<17)));_<H;)t[_]=t[_++-$],t[_]=t[_++-$],t[_]=t[_++-$],t[_]=t[_++-$];_=H}}}else{(7&R)!=0&&(R+=8-(7&R));var Z=4+(R>>>3),L=e[Z-4]|e[Z-3]<<8;u&&(t=m.F._check(t,_+L)),t.set(new l(e.buffer,e.byteOffset+Z,L),_),R=Z+L<<3,_+=L}return t.length==_?t:t.slice(0,_)},m.F._check=function(e,t){var l=e.length;if(t<=l)return e;var r=new Uint8Array(Math.max(l<<1,t));return r.set(e,0),r},m.F._decodeTiny=function(e,t,l,r,f,g){for(var s=m.F._bitsE,o=m.F._get17,a=0;a<l;){var i=e[o(r,f)&t];f+=15&i;var c=i>>>4;if(c<=15)g[a]=c,a++;else{var u=0,v=0;c==16?(v=3+s(r,f,2),f+=2,u=g[a-1]):c==17?(v=3+s(r,f,3),f+=3):c==18&&(v=11+s(r,f,7),f+=7);for(var d=a+v;a<d;)g[a]=u,a++}}return f},m.F._copyOut=function(e,t,l,r){for(var f=0,g=0,s=r.length>>>1;g<l;){var o=e[g+t];r[g<<1]=0,r[1+(g<<1)]=o,o>f&&(f=o),g++}for(;g<s;)r[g<<1]=0,r[1+(g<<1)]=0,g++;return f},m.F.makeCodes=function(e,t){for(var l,r,f,g,s=m.F.U,o=e.length,a=s.bl_count,i=0;i<=t;i++)a[i]=0;for(i=1;i<o;i+=2)a[e[i]]++;var c=s.next_code;for(l=0,a[0]=0,r=1;r<=t;r++)l=l+a[r-1]<<1,c[r]=l;for(f=0;f<o;f+=2)(g=e[f+1])!=0&&(e[f]=c[g],c[g]++)},m.F.codes2map=function(e,t,l){for(var r=e.length,f=m.F.U.rev15,g=0;g<r;g+=2)if(e[g+1]!=0)for(var s=g>>1,o=e[g+1],a=s<<4|o,i=t-o,c=e[g]<<i,u=c+(1<<i);c!=u;)l[f[c]>>>15-t]=a,c++},m.F.revCodes=function(e,t){for(var l=m.F.U.rev15,r=15-t,f=0;f<e.length;f+=2){var g=e[f]<<t-e[f+1];e[f]=l[g]>>>r}},m.F._putsE=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8},m.F._putsF=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8,e[r+2]|=l>>>16},m.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},m.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},m.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},m.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},m.F.U=(D=Uint16Array,y=Uint32Array,{next_code:new D(16),bl_count:new D(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new D(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new D(512),fltree:[],fdmap:new D(32),fdtree:[],lmap:new D(32768),ltree:[],ttree:[],dmap:new D(32768),dtree:[],imap:new D(512),itree:[],rev15:new D(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new D(65536),prev:new D(32768)}),function(){for(var e=m.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function r(f,g,s){for(;g--!=0;)f.push(0,s)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),m.F.makeCodes(e.fltree,9),m.F.codes2map(e.fltree,9,e.flmap),m.F.revCodes(e.fltree,9),r(e.fdtree,32,5),m.F.makeCodes(e.fdtree,5),m.F.codes2map(e.fdtree,5,e.fdmap),m.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)}()})();var Ve=Ze({__proto__:null,default:Jt},[Jt]);const St=function(){var j={nextZero(s,o){for(;s[o]!=0;)o++;return o},readUshort:(s,o)=>s[o]<<8|s[o+1],writeUshort(s,o,a){s[o]=a>>8&255,s[o+1]=255&a},readUint:(s,o)=>16777216*s[o]+(s[o+1]<<16|s[o+2]<<8|s[o+3]),writeUint(s,o,a){s[o]=a>>24&255,s[o+1]=a>>16&255,s[o+2]=a>>8&255,s[o+3]=255&a},readASCII(s,o,a){let i="";for(let c=0;c<a;c++)i+=String.fromCharCode(s[o+c]);return i},writeASCII(s,o,a){for(let i=0;i<a.length;i++)s[o+i]=a.charCodeAt(i)},readBytes(s,o,a){const i=[];for(let c=0;c<a;c++)i.push(s[o+c]);return i},pad:s=>s.length<2?`0${s}`:s,readUTF8(s,o,a){let i,c="";for(let u=0;u<a;u++)c+=`%${j.pad(s[o+u].toString(16))}`;try{i=decodeURIComponent(c)}catch{return j.readASCII(s,o,a)}return i}};function D(s,o,a,i){const c=o*a,u=t(i),v=Math.ceil(o*u/8),d=new Uint8Array(4*c),A=new Uint32Array(d.buffer),{ctype:E}=i,{depth:z}=i,B=j.readUshort;if(E==6){const F=c<<2;if(z==8)for(var S=0;S<F;S+=4)d[S]=s[S],d[S+1]=s[S+1],d[S+2]=s[S+2],d[S+3]=s[S+3];if(z==16)for(S=0;S<F;S++)d[S]=s[S<<1]}else if(E==2){const F=i.tabs.tRNS;if(F==null){if(z==8)for(S=0;S<c;S++){var O=3*S;A[S]=255<<24|s[O+2]<<16|s[O+1]<<8|s[O]}if(z==16)for(S=0;S<c;S++)O=6*S,A[S]=255<<24|s[O+4]<<16|s[O+2]<<8|s[O]}else{var k=F[0];const G=F[1],N=F[2];if(z==8)for(S=0;S<c;S++){var _=S<<2;O=3*S,A[S]=255<<24|s[O+2]<<16|s[O+1]<<8|s[O],s[O]==k&&s[O+1]==G&&s[O+2]==N&&(d[_+3]=0)}if(z==16)for(S=0;S<c;S++)_=S<<2,O=6*S,A[S]=255<<24|s[O+4]<<16|s[O+2]<<8|s[O],B(s,O)==k&&B(s,O+2)==G&&B(s,O+4)==N&&(d[_+3]=0)}}else if(E==3){const F=i.tabs.PLTE,G=i.tabs.tRNS,N=G?G.length:0;if(z==1)for(var R=0;R<a;R++){var x=R*v,h=R*o;for(S=0;S<o;S++){_=h+S<<2;var w=3*(n=s[x+(S>>3)]>>7-((7&S)<<0)&1);d[_]=F[w],d[_+1]=F[w+1],d[_+2]=F[w+2],d[_+3]=n<N?G[n]:255}}if(z==2)for(R=0;R<a;R++)for(x=R*v,h=R*o,S=0;S<o;S++)_=h+S<<2,w=3*(n=s[x+(S>>2)]>>6-((3&S)<<1)&3),d[_]=F[w],d[_+1]=F[w+1],d[_+2]=F[w+2],d[_+3]=n<N?G[n]:255;if(z==4)for(R=0;R<a;R++)for(x=R*v,h=R*o,S=0;S<o;S++)_=h+S<<2,w=3*(n=s[x+(S>>1)]>>4-((1&S)<<2)&15),d[_]=F[w],d[_+1]=F[w+1],d[_+2]=F[w+2],d[_+3]=n<N?G[n]:255;if(z==8)for(S=0;S<c;S++){var n;_=S<<2,w=3*(n=s[S]),d[_]=F[w],d[_+1]=F[w+1],d[_+2]=F[w+2],d[_+3]=n<N?G[n]:255}}else if(E==4){if(z==8)for(S=0;S<c;S++){_=S<<2;var T=s[C=S<<1];d[_]=T,d[_+1]=T,d[_+2]=T,d[_+3]=s[C+1]}if(z==16)for(S=0;S<c;S++){var C;_=S<<2,T=s[C=S<<2],d[_]=T,d[_+1]=T,d[_+2]=T,d[_+3]=s[C+2]}}else if(E==0)for(k=i.tabs.tRNS?i.tabs.tRNS:-1,R=0;R<a;R++){const F=R*v,G=R*o;if(z==1)for(var b=0;b<o;b++){var H=(T=255*(s[F+(b>>>3)]>>>7-(7&b)&1))==255*k?0:255;A[G+b]=H<<24|T<<16|T<<8|T}else if(z==2)for(b=0;b<o;b++)H=(T=85*(s[F+(b>>>2)]>>>6-((3&b)<<1)&3))==85*k?0:255,A[G+b]=H<<24|T<<16|T<<8|T;else if(z==4)for(b=0;b<o;b++)H=(T=17*(s[F+(b>>>1)]>>>4-((1&b)<<2)&15))==17*k?0:255,A[G+b]=H<<24|T<<16|T<<8|T;else if(z==8)for(b=0;b<o;b++)H=(T=s[F+b])==k?0:255,A[G+b]=H<<24|T<<16|T<<8|T;else if(z==16)for(b=0;b<o;b++)T=s[F+(b<<1)],H=B(s,F+(b<<1))==k?0:255,A[G+b]=H<<24|T<<16|T<<8|T}return d}function y(s,o,a,i){const c=t(s),u=Math.ceil(a*c/8),v=new Uint8Array((u+1+s.interlace)*i);return o=s.tabs.CgBI?e(o,v):m(o,v),s.interlace==0?o=l(o,s,0,a,i):s.interlace==1&&(o=function(A,E){const z=E.width,B=E.height,S=t(E),O=S>>3,k=Math.ceil(z*S/8),_=new Uint8Array(B*k);let R=0;const x=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],w=[8,8,8,4,4,2,2],n=[8,8,4,4,2,2,1];let T=0;for(;T<7;){const b=w[T],H=n[T];let F=0,G=0,N=x[T];for(;N<B;)N+=b,G++;let P=h[T];for(;P<z;)P+=H,F++;const $=Math.ceil(F*S/8);l(A,E,R,F,G);let Z=0,L=x[T];for(;L<B;){let et=h[T],st=R+Z*$<<3;for(;et<z;){var C;if(S==1&&(C=(C=A[st>>3])>>7-(7&st)&1,_[L*k+(et>>3)]|=C<<7-((7&et)<<0)),S==2&&(C=(C=A[st>>3])>>6-(7&st)&3,_[L*k+(et>>2)]|=C<<6-((3&et)<<1)),S==4&&(C=(C=A[st>>3])>>4-(7&st)&15,_[L*k+(et>>1)]|=C<<4-((1&et)<<2)),S>=8){const rt=L*k+et*O;for(let nt=0;nt<O;nt++)_[rt+nt]=A[(st>>3)+nt]}st+=S,et+=H}Z++,L+=b}F*G!=0&&(R+=G*(1+$)),T+=1}return _}(o,s)),o}function m(s,o){return e(new Uint8Array(s.buffer,2,s.length-6),o)}var e=function(){const s={H:{}};return s.H.N=function(o,a){const i=Uint8Array;let c,u,v=0,d=0,A=0,E=0,z=0,B=0,S=0,O=0,k=0;if(o[0]==3&&o[1]==0)return a||new i(0);const _=s.H,R=_.b,x=_.e,h=_.R,w=_.n,n=_.A,T=_.Z,C=_.m,b=a==null;for(b&&(a=new i(o.length>>>2<<5));v==0;)if(v=R(o,k,1),d=R(o,k+1,2),k+=3,d!=0){if(b&&(a=s.H.W(a,O+(1<<17))),d==1&&(c=C.J,u=C.h,B=511,S=31),d==2){A=x(o,k,5)+257,E=x(o,k+5,5)+1,z=x(o,k+10,4)+4,k+=14;let F=1;for(var H=0;H<38;H+=2)C.Q[H]=0,C.Q[H+1]=0;for(H=0;H<z;H++){const P=x(o,k+3*H,3);C.Q[1+(C.X[H]<<1)]=P,P>F&&(F=P)}k+=3*z,w(C.Q,F),n(C.Q,F,C.u),c=C.w,u=C.d,k=h(C.u,(1<<F)-1,A+E,o,k,C.v);const G=_.V(C.v,0,A,C.C);B=(1<<G)-1;const N=_.V(C.v,A,E,C.D);S=(1<<N)-1,w(C.C,G),n(C.C,G,c),w(C.D,N),n(C.D,N,u)}for(;;){const F=c[T(o,k)&B];k+=15&F;const G=F>>>4;if(G>>>8==0)a[O++]=G;else{if(G==256)break;{let N=O+G-254;if(G>264){const et=C.q[G-257];N=O+(et>>>3)+x(o,k,7&et),k+=7&et}const P=u[T(o,k)&S];k+=15&P;const $=P>>>4,Z=C.c[$],L=(Z>>>4)+R(o,k,15&Z);for(k+=15&Z;O<N;)a[O]=a[O++-L],a[O]=a[O++-L],a[O]=a[O++-L],a[O]=a[O++-L];O=N}}}}else{(7&k)!=0&&(k+=8-(7&k));const F=4+(k>>>3),G=o[F-4]|o[F-3]<<8;b&&(a=s.H.W(a,O+G)),a.set(new i(o.buffer,o.byteOffset+F,G),O),k=F+G<<3,O+=G}return a.length==O?a:a.slice(0,O)},s.H.W=function(o,a){const i=o.length;if(a<=i)return o;const c=new Uint8Array(i<<1);return c.set(o,0),c},s.H.R=function(o,a,i,c,u,v){const d=s.H.e,A=s.H.Z;let E=0;for(;E<i;){const z=o[A(c,u)&a];u+=15&z;const B=z>>>4;if(B<=15)v[E]=B,E++;else{let S=0,O=0;B==16?(O=3+d(c,u,2),u+=2,S=v[E-1]):B==17?(O=3+d(c,u,3),u+=3):B==18&&(O=11+d(c,u,7),u+=7);const k=E+O;for(;E<k;)v[E]=S,E++}}return u},s.H.V=function(o,a,i,c){let u=0,v=0;const d=c.length>>>1;for(;v<i;){const A=o[v+a];c[v<<1]=0,c[1+(v<<1)]=A,A>u&&(u=A),v++}for(;v<d;)c[v<<1]=0,c[1+(v<<1)]=0,v++;return u},s.H.n=function(o,a){const i=s.H.m,c=o.length;let u,v,d,A;const E=i.j;for(var z=0;z<=a;z++)E[z]=0;for(z=1;z<c;z+=2)E[o[z]]++;const B=i.K;for(u=0,E[0]=0,v=1;v<=a;v++)u=u+E[v-1]<<1,B[v]=u;for(d=0;d<c;d+=2)A=o[d+1],A!=0&&(o[d]=B[A],B[A]++)},s.H.A=function(o,a,i){const c=o.length,u=s.H.m.r;for(let v=0;v<c;v+=2)if(o[v+1]!=0){const d=v>>1,A=o[v+1],E=d<<4|A,z=a-A;let B=o[v]<<z;const S=B+(1<<z);for(;B!=S;)i[u[B]>>>15-a]=E,B++}},s.H.l=function(o,a){const i=s.H.m.r,c=15-a;for(let u=0;u<o.length;u+=2){const v=o[u]<<a-o[u+1];o[u]=i[v]>>>c}},s.H.M=function(o,a,i){i<<=7&a;const c=a>>>3;o[c]|=i,o[c+1]|=i>>>8},s.H.I=function(o,a,i){i<<=7&a;const c=a>>>3;o[c]|=i,o[c+1]|=i>>>8,o[c+2]|=i>>>16},s.H.e=function(o,a,i){return(o[a>>>3]|o[1+(a>>>3)]<<8)>>>(7&a)&(1<<i)-1},s.H.b=function(o,a,i){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)&(1<<i)-1},s.H.Z=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)},s.H.i=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16|o[3+(a>>>3)]<<24)>>>(7&a)},s.H.m=function(){const o=Uint16Array,a=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new a(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new a(286),Y:new a(30),a:new a(19),t:new a(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=s.H.m;for(var a=0;a<32768;a++){let c=a;c=(2863311530&c)>>>1|(1431655765&c)<<1,c=(3435973836&c)>>>2|(858993459&c)<<2,c=(4042322160&c)>>>4|(252645135&c)<<4,c=(4278255360&c)>>>8|(16711935&c)<<8,o.r[a]=(c>>>16|c<<16)>>>17}function i(c,u,v){for(;u--!=0;)c.push(0,v)}for(a=0;a<32;a++)o.q[a]=o.S[a]<<3|o.T[a],o.c[a]=o.p[a]<<4|o.z[a];i(o._,144,8),i(o._,112,9),i(o._,24,7),i(o._,8,8),s.H.n(o._,9),s.H.A(o._,9,o.J),s.H.l(o._,9),i(o.$,32,5),s.H.n(o.$,5),s.H.A(o.$,5,o.h),s.H.l(o.$,5),i(o.Q,19,0),i(o.C,286,0),i(o.D,30,0),i(o.v,320,0)}(),s.H.N}();function t(s){return[1,null,3,1,2,null,4][s.ctype]*s.depth}function l(s,o,a,i,c){let u=t(o);const v=Math.ceil(i*u/8);let d,A;u=Math.ceil(u/8);let E=s[a],z=0;if(E>1&&(s[a]=[0,0,1][E-2]),E==3)for(z=u;z<v;z++)s[z+1]=s[z+1]+(s[z+1-u]>>>1)&255;for(let B=0;B<c;B++)if(d=a+B*v,A=d+B+1,E=s[A-1],z=0,E==0)for(;z<v;z++)s[d+z]=s[A+z];else if(E==1){for(;z<u;z++)s[d+z]=s[A+z];for(;z<v;z++)s[d+z]=s[A+z]+s[d+z-u]}else if(E==2)for(;z<v;z++)s[d+z]=s[A+z]+s[d+z-v];else if(E==3){for(;z<u;z++)s[d+z]=s[A+z]+(s[d+z-v]>>>1);for(;z<v;z++)s[d+z]=s[A+z]+(s[d+z-v]+s[d+z-u]>>>1)}else{for(;z<u;z++)s[d+z]=s[A+z]+r(0,s[d+z-v],0);for(;z<v;z++)s[d+z]=s[A+z]+r(s[d+z-u],s[d+z-v],s[d+z-u-v])}return s}function r(s,o,a){const i=s+o-a,c=i-s,u=i-o,v=i-a;return c*c<=u*u&&c*c<=v*v?s:u*u<=v*v?o:a}function f(s,o,a){a.width=j.readUint(s,o),o+=4,a.height=j.readUint(s,o),o+=4,a.depth=s[o],o++,a.ctype=s[o],o++,a.compress=s[o],o++,a.filter=s[o],o++,a.interlace=s[o],o++}function g(s,o,a,i,c,u,v,d,A){const E=Math.min(o,c),z=Math.min(a,u);let B=0,S=0;for(let T=0;T<z;T++)for(let C=0;C<E;C++)if(v>=0&&d>=0?(B=T*o+C<<2,S=(d+T)*c+v+C<<2):(B=(-d+T)*o-v+C<<2,S=T*c+C<<2),A==0)i[S]=s[B],i[S+1]=s[B+1],i[S+2]=s[B+2],i[S+3]=s[B+3];else if(A==1){var O=s[B+3]*.00392156862745098,k=s[B]*O,_=s[B+1]*O,R=s[B+2]*O,x=i[S+3]*(1/255),h=i[S]*x,w=i[S+1]*x,n=i[S+2]*x;const b=1-O,H=O+x*b,F=H==0?0:1/H;i[S+3]=255*H,i[S+0]=(k+h*b)*F,i[S+1]=(_+w*b)*F,i[S+2]=(R+n*b)*F}else if(A==2)O=s[B+3],k=s[B],_=s[B+1],R=s[B+2],x=i[S+3],h=i[S],w=i[S+1],n=i[S+2],O==x&&k==h&&_==w&&R==n?(i[S]=0,i[S+1]=0,i[S+2]=0,i[S+3]=0):(i[S]=k,i[S+1]=_,i[S+2]=R,i[S+3]=O);else if(A==3){if(O=s[B+3],k=s[B],_=s[B+1],R=s[B+2],x=i[S+3],h=i[S],w=i[S+1],n=i[S+2],O==x&&k==h&&_==w&&R==n)continue;if(O<220&&x>20)return!1}return!0}return{decode:function(o){const a=new Uint8Array(o);let i=8;const c=j,u=c.readUshort,v=c.readUint,d={tabs:{},frames:[]},A=new Uint8Array(a.length);let E,z=0,B=0;const S=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(a[O]!=S[O])throw"The input is not a PNG file!";for(;i<a.length;){const T=c.readUint(a,i);i+=4;const C=c.readASCII(a,i,4);if(i+=4,C=="IHDR")f(a,i,d);else if(C=="iCCP"){for(var k=i;a[k]!=0;)k++;c.readASCII(a,i,k-i),a[k+1];const b=a.slice(k+2,i+T);let H=null;try{H=m(b)}catch{H=e(b)}d.tabs[C]=H}else if(C=="CgBI")d.tabs[C]=a.slice(i,i+4);else if(C=="IDAT"){for(O=0;O<T;O++)A[z+O]=a[i+O];z+=T}else if(C=="acTL")d.tabs[C]={num_frames:v(a,i),num_plays:v(a,i+4)},E=new Uint8Array(a.length);else if(C=="fcTL"){B!=0&&((n=d.frames[d.frames.length-1]).data=y(d,E.slice(0,B),n.rect.width,n.rect.height),B=0);const b={x:v(a,i+12),y:v(a,i+16),width:v(a,i+4),height:v(a,i+8)};let H=u(a,i+22);H=u(a,i+20)/(H==0?100:H);const F={rect:b,delay:Math.round(1e3*H),dispose:a[i+24],blend:a[i+25]};d.frames.push(F)}else if(C=="fdAT"){for(O=0;O<T-4;O++)E[B+O]=a[i+O+4];B+=T-4}else if(C=="pHYs")d.tabs[C]=[c.readUint(a,i),c.readUint(a,i+4),a[i+8]];else if(C=="cHRM")for(d.tabs[C]=[],O=0;O<8;O++)d.tabs[C].push(c.readUint(a,i+4*O));else if(C=="tEXt"||C=="zTXt"){d.tabs[C]==null&&(d.tabs[C]={});var _=c.nextZero(a,i),R=c.readASCII(a,i,_-i),x=i+T-_-1;if(C=="tEXt")w=c.readASCII(a,_+1,x);else{var h=m(a.slice(_+2,_+2+x));w=c.readUTF8(h,0,h.length)}d.tabs[C][R]=w}else if(C=="iTXt"){d.tabs[C]==null&&(d.tabs[C]={}),_=0,k=i,_=c.nextZero(a,k),R=c.readASCII(a,k,_-k);const b=a[k=_+1];var w;a[k+1],k+=2,_=c.nextZero(a,k),c.readASCII(a,k,_-k),k=_+1,_=c.nextZero(a,k),c.readUTF8(a,k,_-k),x=T-((k=_+1)-i),b==0?w=c.readUTF8(a,k,x):(h=m(a.slice(k,k+x)),w=c.readUTF8(h,0,h.length)),d.tabs[C][R]=w}else if(C=="PLTE")d.tabs[C]=c.readBytes(a,i,T);else if(C=="hIST"){const b=d.tabs.PLTE.length/3;for(d.tabs[C]=[],O=0;O<b;O++)d.tabs[C].push(u(a,i+2*O))}else if(C=="tRNS")d.ctype==3?d.tabs[C]=c.readBytes(a,i,T):d.ctype==0?d.tabs[C]=u(a,i):d.ctype==2&&(d.tabs[C]=[u(a,i),u(a,i+2),u(a,i+4)]);else if(C=="gAMA")d.tabs[C]=c.readUint(a,i)/1e5;else if(C=="sRGB")d.tabs[C]=a[i];else if(C=="bKGD")d.ctype==0||d.ctype==4?d.tabs[C]=[u(a,i)]:d.ctype==2||d.ctype==6?d.tabs[C]=[u(a,i),u(a,i+2),u(a,i+4)]:d.ctype==3&&(d.tabs[C]=a[i]);else if(C=="IEND")break;i+=T,c.readUint(a,i),i+=4}var n;return B!=0&&((n=d.frames[d.frames.length-1]).data=y(d,E.slice(0,B),n.rect.width,n.rect.height)),d.data=y(d,A,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(o){const a=o.width,i=o.height;if(o.tabs.acTL==null)return[D(o.data,a,i,o).buffer];const c=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const u=a*i*4,v=new Uint8Array(u),d=new Uint8Array(u),A=new Uint8Array(u);for(let z=0;z<o.frames.length;z++){const B=o.frames[z],S=B.rect.x,O=B.rect.y,k=B.rect.width,_=B.rect.height,R=D(B.data,k,_,o);if(z!=0)for(var E=0;E<u;E++)A[E]=v[E];if(B.blend==0?g(R,k,_,v,a,i,S,O,0):B.blend==1&&g(R,k,_,v,a,i,S,O,1),c.push(v.buffer.slice(0)),B.dispose!=0){if(B.dispose==1)g(d,k,_,v,a,i,S,O,0);else if(B.dispose==2)for(E=0;E<u;E++)v[E]=A[E]}}return c},_paeth:r,_copyTile:g,_bin:j}}();(function(){const{_copyTile:j}=St,{_bin:D}=St,y=St._paeth;var m={table:function(){const k=new Uint32Array(256);for(let _=0;_<256;_++){let R=_;for(let x=0;x<8;x++)1&R?R=3988292384^R>>>1:R>>>=1;k[_]=R}return k}(),update(k,_,R,x){for(let h=0;h<x;h++)k=m.table[255&(k^_[R+h])]^k>>>8;return k},crc:(k,_,R)=>4294967295^m.update(4294967295,k,_,R)};function e(k,_,R,x){_[R]+=k[0]*x>>4,_[R+1]+=k[1]*x>>4,_[R+2]+=k[2]*x>>4,_[R+3]+=k[3]*x>>4}function t(k){return Math.max(0,Math.min(255,k))}function l(k,_){const R=k[0]-_[0],x=k[1]-_[1],h=k[2]-_[2],w=k[3]-_[3];return R*R+x*x+h*h+w*w}function r(k,_,R,x,h,w,n){n==null&&(n=1);const T=x.length,C=[];for(var b=0;b<T;b++){const L=x[b];C.push([L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255])}for(b=0;b<T;b++){let L=4294967295;for(var H=0,F=0;F<T;F++){var G=l(C[b],C[F]);F!=b&&G<L&&(L=G,H=F)}}const N=new Uint32Array(h.buffer),P=new Int16Array(_*R*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(b=0;b<$.length;b++)$[b]=255*(($[b]+.5)/16-.5);for(let L=0;L<R;L++)for(let et=0;et<_;et++){var Z;b=4*(L*_+et),n!=2?Z=[t(k[b]+P[b]),t(k[b+1]+P[b+1]),t(k[b+2]+P[b+2]),t(k[b+3]+P[b+3])]:(G=$[4*(3&L)+(3&et)],Z=[t(k[b]+G),t(k[b+1]+G),t(k[b+2]+G),t(k[b+3]+G)]),H=0;let st=16777215;for(F=0;F<T;F++){const ot=l(Z,C[F]);ot<st&&(st=ot,H=F)}const rt=C[H],nt=[Z[0]-rt[0],Z[1]-rt[1],Z[2]-rt[2],Z[3]-rt[3]];n==1&&(et!=_-1&&e(nt,P,b+4,7),L!=R-1&&(et!=0&&e(nt,P,b+4*_-4,3),e(nt,P,b+4*_,5),et!=_-1&&e(nt,P,b+4*_+4,1))),w[b>>2]=H,N[b>>2]=x[H]}}function f(k,_,R,x,h){h==null&&(h={});const{crc:w}=m,n=D.writeUint,T=D.writeUshort,C=D.writeASCII;let b=8;const H=k.frames.length>1;let F,G=!1,N=33+(H?20:0);if(h.sRGB!=null&&(N+=13),h.pHYs!=null&&(N+=21),h.iCCP!=null&&(F=pako.deflate(h.iCCP),N+=21+F.length+4),k.ctype==3){for(var P=k.plte.length,$=0;$<P;$++)k.plte[$]>>>24!=255&&(G=!0);N+=8+3*P+4+(G?8+1*P+4:0)}for(var Z=0;Z<k.frames.length;Z++)H&&(N+=38),N+=(rt=k.frames[Z]).cimg.length+12,Z!=0&&(N+=4);N+=12;const L=new Uint8Array(N),et=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)L[$]=et[$];if(n(L,b,13),b+=4,C(L,b,"IHDR"),b+=4,n(L,b,_),b+=4,n(L,b,R),b+=4,L[b]=k.depth,b++,L[b]=k.ctype,b++,L[b]=0,b++,L[b]=0,b++,L[b]=0,b++,n(L,b,w(L,b-17,17)),b+=4,h.sRGB!=null&&(n(L,b,1),b+=4,C(L,b,"sRGB"),b+=4,L[b]=h.sRGB,b++,n(L,b,w(L,b-5,5)),b+=4),h.iCCP!=null){const nt=13+F.length;n(L,b,nt),b+=4,C(L,b,"iCCP"),b+=4,C(L,b,"ICC profile"),b+=11,b+=2,L.set(F,b),b+=F.length,n(L,b,w(L,b-(nt+4),nt+4)),b+=4}if(h.pHYs!=null&&(n(L,b,9),b+=4,C(L,b,"pHYs"),b+=4,n(L,b,h.pHYs[0]),b+=4,n(L,b,h.pHYs[1]),b+=4,L[b]=h.pHYs[2],b++,n(L,b,w(L,b-13,13)),b+=4),H&&(n(L,b,8),b+=4,C(L,b,"acTL"),b+=4,n(L,b,k.frames.length),b+=4,n(L,b,h.loop!=null?h.loop:0),b+=4,n(L,b,w(L,b-12,12)),b+=4),k.ctype==3){for(n(L,b,3*(P=k.plte.length)),b+=4,C(L,b,"PLTE"),b+=4,$=0;$<P;$++){const nt=3*$,ot=k.plte[$],lt=255&ot,ct=ot>>>8&255,pt=ot>>>16&255;L[b+nt+0]=lt,L[b+nt+1]=ct,L[b+nt+2]=pt}if(b+=3*P,n(L,b,w(L,b-3*P-4,3*P+4)),b+=4,G){for(n(L,b,P),b+=4,C(L,b,"tRNS"),b+=4,$=0;$<P;$++)L[b+$]=k.plte[$]>>>24&255;b+=P,n(L,b,w(L,b-P-4,P+4)),b+=4}}let st=0;for(Z=0;Z<k.frames.length;Z++){var rt=k.frames[Z];H&&(n(L,b,26),b+=4,C(L,b,"fcTL"),b+=4,n(L,b,st++),b+=4,n(L,b,rt.rect.width),b+=4,n(L,b,rt.rect.height),b+=4,n(L,b,rt.rect.x),b+=4,n(L,b,rt.rect.y),b+=4,T(L,b,x[Z]),b+=2,T(L,b,1e3),b+=2,L[b]=rt.dispose,b++,L[b]=rt.blend,b++,n(L,b,w(L,b-30,30)),b+=4);const nt=rt.cimg;n(L,b,(P=nt.length)+(Z==0?0:4)),b+=4;const ot=b;C(L,b,Z==0?"IDAT":"fdAT"),b+=4,Z!=0&&(n(L,b,st++),b+=4),L.set(nt,b),b+=P,n(L,b,w(L,ot,b-ot)),b+=4}return n(L,b,0),b+=4,C(L,b,"IEND"),b+=4,n(L,b,w(L,b-4,4)),b+=4,L.buffer}function g(k,_,R){for(let x=0;x<k.frames.length;x++){const h=k.frames[x];h.rect.width;const w=h.rect.height,n=new Uint8Array(w*h.bpl+w);h.cimg=i(h.img,w,h.bpp,h.bpl,n,_,R)}}function s(k,_,R,x,h){const w=h[0],n=h[1],T=h[2],C=h[3],b=h[4],H=h[5];let F=6,G=8,N=255;for(var P=0;P<k.length;P++){const K=new Uint8Array(k[P]);for(var $=K.length,Z=0;Z<$;Z+=4)N&=K[Z+3]}const L=N!=255,et=function(U,I,M,X,Q,W){const Y=[];for(var J=0;J<U.length;J++){const dt=new Uint8Array(U[J]),ht=new Uint32Array(dt.buffer);var q;let _t=0,ut=0,yt=I,Et=M,xt=X?1:0;if(J!=0){const Vt=W||X||J==1||Y[J-2].dispose!=0?1:2;let Ht=0,$t=1e9;for(let Ft=0;Ft<Vt;Ft++){var it=new Uint8Array(U[J-1-Ft]);const Xt=new Uint32Array(U[J-1-Ft]);let wt=I,At=M,jt=-1,Zt=-1;for(let Ot=0;Ot<M;Ot++)for(let Dt=0;Dt<I;Dt++)ht[at=Ot*I+Dt]!=Xt[at]&&(Dt<wt&&(wt=Dt),Dt>jt&&(jt=Dt),Ot<At&&(At=Ot),Ot>Zt&&(Zt=Ot));jt==-1&&(wt=At=jt=Zt=0),Q&&((1&wt)==1&&wt--,(1&At)==1&&At--);const de=(jt-wt+1)*(Zt-At+1);de<$t&&($t=de,Ht=Ft,_t=wt,ut=At,yt=jt-wt+1,Et=Zt-At+1)}it=new Uint8Array(U[J-1-Ht]),Ht==1&&(Y[J-1].dispose=2),q=new Uint8Array(yt*Et*4),j(it,I,M,q,yt,Et,-_t,-ut,0),xt=j(dt,I,M,q,yt,Et,-_t,-ut,3)?1:0,xt==1?a(dt,I,M,q,{x:_t,y:ut,width:yt,height:Et}):j(dt,I,M,q,yt,Et,-_t,-ut,0)}else q=dt.slice(0);Y.push({rect:{x:_t,y:ut,width:yt,height:Et},img:q,blend:xt,dispose:0})}if(X)for(J=0;J<Y.length;J++){if((mt=Y[J]).blend==1)continue;const dt=mt.rect,ht=Y[J-1].rect,_t=Math.min(dt.x,ht.x),ut=Math.min(dt.y,ht.y),yt={x:_t,y:ut,width:Math.max(dt.x+dt.width,ht.x+ht.width)-_t,height:Math.max(dt.y+dt.height,ht.y+ht.height)-ut};Y[J-1].dispose=1,J-1!=0&&o(U,I,M,Y,J-1,yt,Q),o(U,I,M,Y,J,yt,Q)}let ft=0;if(U.length!=1)for(var at=0;at<Y.length;at++){var mt;ft+=(mt=Y[at]).rect.width*mt.rect.height}return Y}(k,_,R,w,n,T),st={},rt=[],nt=[];if(x!=0){const K=[];for(Z=0;Z<et.length;Z++)K.push(et[Z].img.buffer);const U=function(Q){let W=0;for(var Y=0;Y<Q.length;Y++)W+=Q[Y].byteLength;const J=new Uint8Array(W);let q=0;for(Y=0;Y<Q.length;Y++){const it=new Uint8Array(Q[Y]),ft=it.length;for(let at=0;at<ft;at+=4){let mt=it[at],dt=it[at+1],ht=it[at+2];const _t=it[at+3];_t==0&&(mt=dt=ht=0),J[q+at]=mt,J[q+at+1]=dt,J[q+at+2]=ht,J[q+at+3]=_t}q+=ft}return J.buffer}(K),I=u(U,x);for(Z=0;Z<I.plte.length;Z++)rt.push(I.plte[Z].est.rgba);let M=0;for(Z=0;Z<et.length;Z++){const X=(lt=et[Z]).img.length;var ot=new Uint8Array(I.inds.buffer,M>>2,X>>2);nt.push(ot);const Q=new Uint8Array(I.abuf,M,X);H&&r(lt.img,lt.rect.width,lt.rect.height,rt,Q,ot),lt.img.set(Q),M+=X}}else for(P=0;P<et.length;P++){var lt=et[P];const K=new Uint32Array(lt.img.buffer);var ct=lt.rect.width;for($=K.length,ot=new Uint8Array($),nt.push(ot),Z=0;Z<$;Z++){const U=K[Z];if(Z!=0&&U==K[Z-1])ot[Z]=ot[Z-1];else if(Z>ct&&U==K[Z-ct])ot[Z]=ot[Z-ct];else{let I=st[U];if(I==null&&(st[U]=I=rt.length,rt.push(U),rt.length>=300))break;ot[Z]=I}}}const pt=rt.length;for(pt<=256&&b==0&&(G=pt<=2?1:pt<=4?2:pt<=16?4:8,G=Math.max(G,C)),P=0;P<et.length;P++){(lt=et[P]).rect.x,lt.rect.y,ct=lt.rect.width;const K=lt.rect.height;let U=lt.img;new Uint32Array(U.buffer);let I=4*ct,M=4;if(pt<=256&&b==0){I=Math.ceil(G*ct/8);var p=new Uint8Array(I*K);const X=nt[P];for(let Q=0;Q<K;Q++){Z=Q*I;const W=Q*ct;if(G==8)for(var V=0;V<ct;V++)p[Z+V]=X[W+V];else if(G==4)for(V=0;V<ct;V++)p[Z+(V>>1)]|=X[W+V]<<4-4*(1&V);else if(G==2)for(V=0;V<ct;V++)p[Z+(V>>2)]|=X[W+V]<<6-2*(3&V);else if(G==1)for(V=0;V<ct;V++)p[Z+(V>>3)]|=X[W+V]<<7-1*(7&V)}U=p,F=3,M=1}else if(L==0&&et.length==1){p=new Uint8Array(ct*K*3);const X=ct*K;for(Z=0;Z<X;Z++){const Q=3*Z,W=4*Z;p[Q]=U[W],p[Q+1]=U[W+1],p[Q+2]=U[W+2]}U=p,F=2,M=3,I=3*ct}lt.img=U,lt.bpl=I,lt.bpp=M}return{ctype:F,depth:G,plte:rt,frames:et}}function o(k,_,R,x,h,w,n){const T=Uint8Array,C=Uint32Array,b=new T(k[h-1]),H=new C(k[h-1]),F=h+1<k.length?new T(k[h+1]):null,G=new T(k[h]),N=new C(G.buffer);let P=_,$=R,Z=-1,L=-1;for(let st=0;st<w.height;st++)for(let rt=0;rt<w.width;rt++){const nt=w.x+rt,ot=w.y+st,lt=ot*_+nt,ct=N[lt];ct==0||x[h-1].dispose==0&&H[lt]==ct&&(F==null||F[4*lt+3]!=0)||(nt<P&&(P=nt),nt>Z&&(Z=nt),ot<$&&($=ot),ot>L&&(L=ot))}Z==-1&&(P=$=Z=L=0),n&&((1&P)==1&&P--,(1&$)==1&&$--),w={x:P,y:$,width:Z-P+1,height:L-$+1};const et=x[h];et.rect=w,et.blend=1,et.img=new Uint8Array(w.width*w.height*4),x[h-1].dispose==0?(j(b,_,R,et.img,w.width,w.height,-w.x,-w.y,0),a(G,_,R,et.img,w)):j(G,_,R,et.img,w.width,w.height,-w.x,-w.y,0)}function a(k,_,R,x,h){j(k,_,R,x,h.width,h.height,-h.x,-h.y,2)}function i(k,_,R,x,h,w,n){const T=[];let C,b=[0,1,2,3,4];w!=-1?b=[w]:(_*x>5e5||R==1)&&(b=[0]),n&&(C={level:0});const H=Ve;for(var F=0;F<b.length;F++){for(let P=0;P<_;P++)c(h,k,P,x,R,b[F]);T.push(H.deflate(h,C))}let G,N=1e9;for(F=0;F<T.length;F++)T[F].length<N&&(G=F,N=T[F].length);return T[G]}function c(k,_,R,x,h,w){const n=R*x;let T=n+R;if(k[T]=w,T++,w==0)if(x<500)for(var C=0;C<x;C++)k[T+C]=_[n+C];else k.set(new Uint8Array(_.buffer,n,x),T);else if(w==1){for(C=0;C<h;C++)k[T+C]=_[n+C];for(C=h;C<x;C++)k[T+C]=_[n+C]-_[n+C-h]+256&255}else if(R==0){for(C=0;C<h;C++)k[T+C]=_[n+C];if(w==2)for(C=h;C<x;C++)k[T+C]=_[n+C];if(w==3)for(C=h;C<x;C++)k[T+C]=_[n+C]-(_[n+C-h]>>1)+256&255;if(w==4)for(C=h;C<x;C++)k[T+C]=_[n+C]-y(_[n+C-h],0,0)+256&255}else{if(w==2)for(C=0;C<x;C++)k[T+C]=_[n+C]+256-_[n+C-x]&255;if(w==3){for(C=0;C<h;C++)k[T+C]=_[n+C]+256-(_[n+C-x]>>1)&255;for(C=h;C<x;C++)k[T+C]=_[n+C]+256-(_[n+C-x]+_[n+C-h]>>1)&255}if(w==4){for(C=0;C<h;C++)k[T+C]=_[n+C]+256-y(0,_[n+C-x],0)&255;for(C=h;C<x;C++)k[T+C]=_[n+C]+256-y(_[n+C-h],_[n+C-x],_[n+C-h-x])&255}}}function u(k,_){const R=new Uint8Array(k),x=R.slice(0),h=new Uint32Array(x.buffer),w=v(x,_),n=w[0],T=w[1],C=R.length,b=new Uint8Array(C>>2);let H;if(R.length<2e7)for(var F=0;F<C;F+=4)H=d(n,G=R[F]*(1/255),N=R[F+1]*(1/255),P=R[F+2]*(1/255),$=R[F+3]*(1/255)),b[F>>2]=H.ind,h[F>>2]=H.est.rgba;else for(F=0;F<C;F+=4){var G=R[F]*.00392156862745098,N=R[F+1]*(1/255),P=R[F+2]*(1/255),$=R[F+3]*(1/255);for(H=n;H.left;)H=A(H.est,G,N,P,$)<=0?H.left:H.right;b[F>>2]=H.ind,h[F>>2]=H.est.rgba}return{abuf:x.buffer,inds:b,plte:T}}function v(k,_,R){R==null&&(R=1e-4);const x=new Uint32Array(k.buffer),h={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=B(k,h.i0,h.i1),h.est=S(h.bst);const w=[h];for(;w.length<_;){let T=0,C=0;for(var n=0;n<w.length;n++)w[n].est.L>T&&(T=w[n].est.L,C=n);if(T<R)break;const b=w[C],H=E(k,x,b.i0,b.i1,b.est.e,b.est.eMq255);if(b.i0>=H||b.i1<=H){b.est.L=0;continue}const F={i0:b.i0,i1:H,bst:null,est:null,tdst:0,left:null,right:null};F.bst=B(k,F.i0,F.i1),F.est=S(F.bst);const G={i0:H,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};for(G.bst={R:[],m:[],N:b.bst.N-F.bst.N},n=0;n<16;n++)G.bst.R[n]=b.bst.R[n]-F.bst.R[n];for(n=0;n<4;n++)G.bst.m[n]=b.bst.m[n]-F.bst.m[n];G.est=S(G.bst),b.left=F,b.right=G,w[C]=F,w.push(G)}for(w.sort((T,C)=>C.bst.N-T.bst.N),n=0;n<w.length;n++)w[n].ind=n;return[h,w]}function d(k,_,R,x,h){if(k.left==null)return k.tdst=function(F,G,N,P,$){const Z=G-F[0],L=N-F[1],et=P-F[2],st=$-F[3];return Z*Z+L*L+et*et+st*st}(k.est.q,_,R,x,h),k;const w=A(k.est,_,R,x,h);let n=k.left,T=k.right;w>0&&(n=k.right,T=k.left);const C=d(n,_,R,x,h);if(C.tdst<=w*w)return C;const b=d(T,_,R,x,h);return b.tdst<C.tdst?b:C}function A(k,_,R,x,h){const{e:w}=k;return w[0]*_+w[1]*R+w[2]*x+w[3]*h-k.eMq}function E(k,_,R,x,h,w){for(x-=4;R<x;){for(;z(k,R,h)<=w;)R+=4;for(;z(k,x,h)>w;)x-=4;if(R>=x)break;const n=_[R>>2];_[R>>2]=_[x>>2],_[x>>2]=n,R+=4,x-=4}for(;z(k,R,h)>w;)R-=4;return R+4}function z(k,_,R){return k[_]*R[0]+k[_+1]*R[1]+k[_+2]*R[2]+k[_+3]*R[3]}function B(k,_,R){const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0],w=R-_>>2;for(let n=_;n<R;n+=4){const T=k[n]*.00392156862745098,C=k[n+1]*(1/255),b=k[n+2]*(1/255),H=k[n+3]*(1/255);h[0]+=T,h[1]+=C,h[2]+=b,h[3]+=H,x[0]+=T*T,x[1]+=T*C,x[2]+=T*b,x[3]+=T*H,x[5]+=C*C,x[6]+=C*b,x[7]+=C*H,x[10]+=b*b,x[11]+=b*H,x[15]+=H*H}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:h,N:w}}function S(k){const{R:_}=k,{m:R}=k,{N:x}=k,h=R[0],w=R[1],n=R[2],T=R[3],C=x==0?0:1/x,b=[_[0]-h*h*C,_[1]-h*w*C,_[2]-h*n*C,_[3]-h*T*C,_[4]-w*h*C,_[5]-w*w*C,_[6]-w*n*C,_[7]-w*T*C,_[8]-n*h*C,_[9]-n*w*C,_[10]-n*n*C,_[11]-n*T*C,_[12]-T*h*C,_[13]-T*w*C,_[14]-T*n*C,_[15]-T*T*C],H=b,F=O;let G=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,P=0;if(x!=0)for(let Z=0;Z<16&&(G=F.multVec(H,G),P=Math.sqrt(F.dot(G,G)),G=F.sml(1/P,G),!(Z!=0&&Math.abs(P-N)<1e-9));Z++)N=P;const $=[h*C,w*C,n*C,T*C];return{Cov:b,q:$,e:G,L:N,eMq255:F.dot(F.sml(255,$),G),eMq:F.dot(G,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var O={multVec:(k,_)=>[k[0]*_[0]+k[1]*_[1]+k[2]*_[2]+k[3]*_[3],k[4]*_[0]+k[5]*_[1]+k[6]*_[2]+k[7]*_[3],k[8]*_[0]+k[9]*_[1]+k[10]*_[2]+k[11]*_[3],k[12]*_[0]+k[13]*_[1]+k[14]*_[2]+k[15]*_[3]],dot:(k,_)=>k[0]*_[0]+k[1]*_[1]+k[2]*_[2]+k[3]*_[3],sml:(k,_)=>[k*_[0],k*_[1],k*_[2],k*_[3]]};St.encode=function(_,R,x,h,w,n,T){h==null&&(h=0),T==null&&(T=!1);const C=s(_,R,x,h,[!1,!1,!1,0,T,!1]);return g(C,-1),f(C,R,x,w,n)},St.encodeLL=function(_,R,x,h,w,n,T,C){const b={ctype:0+(h==1?0:2)+(w==0?0:4),depth:n,frames:[]},H=(h+w)*n,F=H*R;for(let G=0;G<_.length;G++)b.frames.push({rect:{x:0,y:0,width:R,height:x},img:new Uint8Array(_[G]),blend:0,dispose:1,bpp:Math.ceil(H/8),bpl:Math.ceil(F/8)});return g(b,0,!0),f(b,R,x,T,C)},St.encode.compress=s,St.encode.dither=r,St.quantize=u,St.quantize.getKDtree=v,St.quantize.getNearest=d})();const Ae={toArrayBuffer(j,D){const y=j.width,m=j.height,e=y<<2,t=j.getContext("2d").getImageData(0,0,y,m),l=new Uint32Array(t.data.buffer),r=(32*y+31)/32<<2,f=r*m,g=122+f,s=new ArrayBuffer(g),o=new DataView(s),a=1<<20;let i,c,u,v,d=a,A=0,E=0,z=0;function B(k){o.setUint16(E,k,!0),E+=2}function S(k){o.setUint32(E,k,!0),E+=4}function O(k){E+=k}B(19778),S(g),O(4),S(122),S(108),S(y),S(-m>>>0),B(1),B(32),S(3),S(f),S(2835),S(2835),O(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function k(){for(;A<m&&d>0;){for(v=122+A*r,i=0;i<e;)d--,c=l[z++],u=c>>>24,o.setUint32(v+i,c<<8|u),i+=4;A++}z<l.length?(d=a,setTimeout(k,Ae._dly)):D(s)}()},toBlob(j,D){this.toArrayBuffer(j,y=>{D(new Blob([y],{type:"image/bmp"}))})},_dly:9};var kt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$e={[kt.CHROME]:16384,[kt.FIREFOX]:11180,[kt.DESKTOP_SAFARI]:16384,[kt.IE]:8192,[kt.IOS]:4096,[kt.ETC]:8192};const fe=typeof window!="undefined",Ce=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,te=fe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Xe=(fe||Ce)&&(te&&te.getOriginalSymbol(window,"File")||typeof File!="undefined"&&File),Ee=(fe||Ce)&&(te&&te.getOriginalSymbol(window,"FileReader")||typeof FileReader!="undefined"&&FileReader);function ue(j,D,y=Date.now()){return new Promise(m=>{const e=j.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let r=l.length;const f=new Uint8Array(r);for(;r--;)f[r]=l.charCodeAt(r);const g=new Blob([f],{type:t});g.name=D,g.lastModified=y,m(g)})}function Se(j){return new Promise((D,y)=>{const m=new Ee;m.onload=()=>D(m.result),m.onerror=e=>y(e),m.readAsDataURL(j)})}function ze(j){return new Promise((D,y)=>{const m=new Image;m.onload=()=>D(m),m.onerror=e=>y(e),m.src=j})}function Mt(){if(Mt.cachedResult!==void 0)return Mt.cachedResult;let j=kt.ETC;const{userAgent:D}=navigator;return/Chrom(e|ium)/i.test(D)?j=kt.CHROME:/iP(ad|od|hone)/i.test(D)&&/WebKit/i.test(D)?j=kt.IOS:/Safari/i.test(D)?j=kt.DESKTOP_SAFARI:/Firefox/i.test(D)?j=kt.FIREFOX:(/MSIE/i.test(D)||!!document.documentMode)&&(j=kt.IE),Mt.cachedResult=j,Mt.cachedResult}function Ie(j,D){const y=Mt(),m=$e[y];let e=j,t=D,l=e*t;const r=e>t?t/e:e/t;for(;l>m*m;){const f=(m+e)/2,g=(m+t)/2;f<g?(t=g,e=g*r):(t=f*r,e=f),l=e*t}return{width:e,height:t}}function ae(j,D){let y,m;try{if(y=new OffscreenCanvas(j,D),m=y.getContext("2d"),m===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),m=y.getContext("2d")}return y.width=j,y.height=D,[y,m]}function Te(j,D){const{width:y,height:m}=Ie(j.width,j.height),[e,t]=ae(y,m);return D&&/jpe?g/.test(D)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(j,0,0,e.width,e.height),e}function qt(){return qt.cachedResult!==void 0||(qt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),qt.cachedResult}function ee(j,D={}){return new Promise(function(y,m){let e,t;var l=function(){try{return t=Te(e,D.fileType||j.type),y([e,t])}catch(f){return m(f)}},r=function(f){try{var g=function(s){try{throw s}catch(o){return m(o)}};try{let s;return Se(j).then(function(o){try{return s=o,ze(s).then(function(a){try{return e=a,function(){try{return l()}catch(i){return m(i)}}()}catch(i){return g(i)}},g)}catch(a){return g(a)}},g)}catch(s){g(s)}}catch(s){return m(s)}};try{if(qt()||[kt.DESKTOP_SAFARI,kt.MOBILE_SAFARI].includes(Mt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(j).then(function(f){try{return e=f,l()}catch{return r()}},r)}catch{r()}})}function re(j,D,y,m,e=1){return new Promise(function(t,l){let r;if(D==="image/png"){let g,s,o;return g=j.getContext("2d"),{data:s}=g.getImageData(0,0,j.width,j.height),o=St.encode([s.buffer],j.width,j.height,4096*e),r=new Blob([o],{type:D}),r.name=y,r.lastModified=m,f.call(this)}{let g=function(){return f.call(this)};if(D==="image/bmp")return new Promise(s=>Ae.toBlob(j,s)).then(function(s){try{return r=s,r.name=y,r.lastModified=m,g.call(this)}catch(o){return l(o)}}.bind(this),l);{let s=function(){return g.call(this)};if(typeof OffscreenCanvas=="function"&&j instanceof OffscreenCanvas)return j.convertToBlob({type:D,quality:e}).then(function(o){try{return r=o,r.name=y,r.lastModified=m,s.call(this)}catch(a){return l(a)}}.bind(this),l);{let o;return o=j.toDataURL(D,e),ue(o,y,m).then(function(a){try{return r=a,s.call(this)}catch(i){return l(i)}}.bind(this),l)}}}function f(){return t(r)}})}function zt(j){j.width=0,j.height=0}function Wt(){return new Promise(function(j,D){let y,m,e,t;return Wt.cachedResult!==void 0?j(Wt.cachedResult):ue("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return y=l,ee(y).then(function(r){try{return m=r[1],re(m,y.type,y.name,y.lastModified).then(function(f){try{return e=f,zt(m),ee(e).then(function(g){try{return t=g[0],Wt.cachedResult=t.width===1&&t.height===2,j(Wt.cachedResult)}catch(s){return D(s)}},D)}catch(g){return D(g)}},D)}catch(f){return D(f)}},D)}catch(r){return D(r)}},D)})}function Ue(j){return new Promise((D,y)=>{const m=new Ee;m.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return D(-2);const l=t.byteLength;let r=2;for(;r<l;){if(t.getUint16(r+2,!1)<=8)return D(-1);const f=t.getUint16(r,!1);if(r+=2,f==65505){if(t.getUint32(r+=2,!1)!=1165519206)return D(-1);const g=t.getUint16(r+=6,!1)==18761;r+=t.getUint32(r+4,g);const s=t.getUint16(r,g);r+=2;for(let o=0;o<s;o++)if(t.getUint16(r+12*o,g)==274)return D(t.getUint16(r+12*o+8,g))}else{if((65280&f)!=65280)break;r+=t.getUint16(r,!1)}}return D(-1)},m.onerror=e=>y(e),m.readAsArrayBuffer(j)})}function Be(j,D){const{width:y}=j,{height:m}=j,{maxWidthOrHeight:e}=D;let t,l=j;return isFinite(e)&&(y>e||m>e)&&([l,t]=ae(y,m),y>m?(l.width=e,l.height=m/y*e):(l.width=y/m*e,l.height=e),t.drawImage(j,0,0,l.width,l.height),zt(j)),l}function Re(j,D){const{width:y}=j,{height:m}=j,[e,t]=ae(y,m);switch(D>4&&D<9?(e.width=m,e.height=y):(e.width=y,e.height=m),D){case 2:t.transform(-1,0,0,1,y,0);break;case 3:t.transform(-1,0,0,-1,y,m);break;case 4:t.transform(1,0,0,-1,0,m);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,m,0);break;case 7:t.transform(0,-1,-1,0,m,y);break;case 8:t.transform(0,-1,1,0,0,y)}return t.drawImage(j,0,0,y,m),zt(j),e}function ge(j,D,y=0){return new Promise(function(m,e){let t,l,r,f,g,s,o,a,i,c,u,v,d,A,E,z,B,S,O,k;function _(x=5){if(D.signal&&D.signal.aborted)throw D.signal.reason;t+=x,D.onProgress(Math.min(t,100))}function R(x){if(D.signal&&D.signal.aborted)throw D.signal.reason;t=Math.min(Math.max(x,t),100),D.onProgress(t)}return t=y,l=D.maxIteration||10,r=1024*D.maxSizeMB*1024,_(),ee(j,D).then(function(x){try{return[,f]=x,_(),g=Be(f,D),_(),new Promise(function(h,w){var n;if(!(n=D.exifOrientation))return Ue(j).then(function(C){try{return n=C,T.call(this)}catch(b){return w(b)}}.bind(this),w);function T(){return h(n)}return T.call(this)}).then(function(h){try{return s=h,_(),Wt().then(function(w){try{return o=w?g:Re(g,s),_(),a=D.initialQuality||1,i=D.fileType||j.type,re(o,i,j.name,j.lastModified,a).then(function(n){try{{let C=function(){if(l--&&(E>r||E>d)){let H,F;return H=k?.95*O.width:O.width,F=k?.95*O.height:O.height,[B,S]=ae(H,F),S.drawImage(O,0,0,H,F),a*=i==="image/png"?.85:.95,re(B,i,j.name,j.lastModified,a).then(function(G){try{return z=G,zt(O),O=B,E=z.size,R(Math.min(99,Math.floor((A-E)/(A-r)*100))),C}catch(N){return e(N)}},e)}return[1]},b=function(){return zt(O),zt(B),zt(g),zt(o),zt(f),R(100),m(z)};if(c=n,_(),u=c.size>r,v=c.size>j.size,!u&&!v)return R(100),m(c);var T;return d=j.size,A=c.size,E=A,O=o,k=!D.alwaysKeepResolution&&u,(T=function(H){for(;H;){if(H.then)return void H.then(T,e);try{if(H.pop){if(H.length)return H.pop()?b.call(this):H;H=C}else H=H.call(this)}catch(F){return e(F)}}}.bind(this))(C)}}catch(C){return e(C)}}.bind(this),e)}catch(n){return e(n)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)}catch(h){return e(h)}}.bind(this),e)})}const Qe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let oe;function Ye(j,D){return new Promise((y,m)=>{oe||(oe=function(l){const r=[];return typeof l=="function"?r.push(`(${l})()`):r.push(l),URL.createObjectURL(new Blob(r))}(Qe));const e=new Worker(oe);e.addEventListener("message",function(l){if(D.signal&&D.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return m(new Error(l.data.error)),void e.terminate();y(l.data.file),e.terminate()}else D.onProgress(l.data.progress)}),e.addEventListener("error",m),D.signal&&D.signal.addEventListener("abort",()=>{m(D.signal.reason),e.terminate()}),e.postMessage({file:j,imageCompressionLibUrl:D.libURL,options:{...D,onProgress:void 0,signal:void 0}})})}function bt(j,D){return new Promise(function(y,m){let e,t,l,r,f,g;if(e={...D},l=0,{onProgress:r}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=i=>{l=i,typeof r=="function"&&r(l)},!(j instanceof Blob||j instanceof Xe))return m(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(j.type))return m(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||g)return ge(j,e).then(function(i){try{return t=i,a.call(this)}catch(c){return m(c)}}.bind(this),m);var s=function(){try{return a.call(this)}catch(i){return m(i)}}.bind(this),o=function(i){try{return ge(j,e).then(function(c){try{return t=c,s()}catch(u){return m(u)}},m)}catch(c){return m(c)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ye(j,e).then(function(i){try{return t=i,s()}catch{return o()}},o)}catch{o()}function a(){try{t.name=j.name,t.lastModified=j.lastModified}catch{}try{e.preserveExif&&j.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===j.type)&&(t=xe(j,t))}catch{}return y(t)}})}bt.getDataUrlFromFile=Se,bt.getFilefromDataUrl=ue,bt.loadImage=ze,bt.drawImageInCanvas=Te,bt.drawFileInCanvas=ee,bt.canvasToFile=re,bt.getExifOrientation=Ue,bt.handleMaxWidthOrHeight=Be,bt.followExifOrientation=Re,bt.cleanupCanvasMemory=zt,bt.isAutoOrientationInBrowser=Wt,bt.approximateBelowMaximumCanvasSizeOfBrowser=Ie,bt.copyExifWithoutOrientation=xe,bt.getBrowserName=Mt,bt.version="2.0.2";/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function ve(j,D){var y=Object.keys(j);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(j);D&&(m=m.filter(function(e){return Object.getOwnPropertyDescriptor(j,e).enumerable})),y.push.apply(y,m)}return y}function Yt(j){for(var D=1;D<arguments.length;D++){var y=arguments[D]!=null?arguments[D]:{};D%2?ve(Object(y),!0).forEach(function(m){tr(j,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(y)):ve(Object(y)).forEach(function(m){Object.defineProperty(j,m,Object.getOwnPropertyDescriptor(y,m))})}return j}function qe(j,D){if(!(j instanceof D))throw new TypeError("Cannot call a class as a function")}function _e(j,D){for(var y=0;y<D.length;y++){var m=D[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(j,Fe(m.key),m)}}function Je(j,D,y){return D&&_e(j.prototype,D),y&&_e(j,y),Object.defineProperty(j,"prototype",{writable:!1}),j}function tr(j,D,y){return D=Fe(D),D in j?Object.defineProperty(j,D,{value:y,enumerable:!0,configurable:!0,writable:!0}):j[D]=y,j}function ne(){return ne=Object.assign?Object.assign.bind():function(j){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(j[m]=y[m])}return j},ne.apply(this,arguments)}function er(j,D){if(typeof j!="object"||j===null)return j;var y=j[Symbol.toPrimitive];if(y!==void 0){var m=y.call(j,D||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(j)}function Fe(j){var D=er(j,"string");return typeof D=="symbol"?D:String(D)}var Oe={exports:{}};(function(j){typeof window!="undefined"&&function(D){var y=D.HTMLCanvasElement&&D.HTMLCanvasElement.prototype,m=D.Blob&&function(){try{return Boolean(new Blob)}catch{return!1}}(),e=m&&D.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),t=D.BlobBuilder||D.WebKitBlobBuilder||D.MozBlobBuilder||D.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,r=(m||t)&&D.atob&&D.ArrayBuffer&&D.Uint8Array&&function(f){var g,s,o,a,i,c,u,v,d;if(g=f.match(l),!g)throw new Error("invalid data URI");for(s=g[2]?g[1]:"text/plain"+(g[3]||";charset=US-ASCII"),o=!!g[4],a=f.slice(g[0].length),o?i=atob(a):i=decodeURIComponent(a),c=new ArrayBuffer(i.length),u=new Uint8Array(c),v=0;v<i.length;v+=1)u[v]=i.charCodeAt(v);return m?new Blob([e?u:c],{type:s}):(d=new t,d.append(c),d.getBlob(s))};D.HTMLCanvasElement&&!y.toBlob&&(y.mozGetAsFile?y.toBlob=function(f,g,s){var o=this;setTimeout(function(){s&&y.toDataURL&&r?f(r(o.toDataURL(g,s))):f(o.mozGetAsFile("blob",g))})}:y.toDataURL&&r&&(y.msToBlob?y.toBlob=function(f,g,s){var o=this;setTimeout(function(){(g&&g!=="image/png"||s)&&y.toDataURL&&r?f(r(o.toDataURL(g,s))):f(o.msToBlob(g))})}:y.toBlob=function(f,g,s){var o=this;setTimeout(function(){f(r(o.toDataURL(g,s)))})})),j.exports?j.exports=r:D.dataURLtoBlob=r}(window)})(Oe);var be=Oe.exports,rr=function(D){return typeof Blob=="undefined"?!1:D instanceof Blob||Object.prototype.toString.call(D)==="[object Blob]"},ye={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},nr=typeof window!="undefined"&&typeof window.document!="undefined",Rt=nr?window:{},ie=function(D){return D>0&&D<1/0},ir=Array.prototype.slice;function he(j){return Array.from?Array.from(j):ir.call(j)}var ar=/^image\/.+$/;function ce(j){return ar.test(j)}function sr(j){var D=ce(j)?j.substr(6):"";return D==="jpeg"&&(D="jpg"),".".concat(D)}var De=String.fromCharCode;function or(j,D,y){var m="",e;for(y+=D,e=D;e<y;e+=1)m+=De(j.getUint8(e));return m}var lr=Rt.btoa;function we(j,D){for(var y=[],m=8192,e=new Uint8Array(j);e.length>0;)y.push(De.apply(null,he(e.subarray(0,m)))),e=e.subarray(m);return"data:".concat(D,";base64,").concat(lr(y.join("")))}function cr(j){var D=new DataView(j),y;try{var m,e,t;if(D.getUint8(0)===255&&D.getUint8(1)===216)for(var l=D.byteLength,r=2;r+1<l;){if(D.getUint8(r)===255&&D.getUint8(r+1)===225){e=r;break}r+=1}if(e){var f=e+4,g=e+10;if(or(D,f,4)==="Exif"){var s=D.getUint16(g);if(m=s===18761,(m||s===19789)&&D.getUint16(g+2,m)===42){var o=D.getUint32(g+4,m);o>=8&&(t=g+o)}}}if(t){var a=D.getUint16(t,m),i,c;for(c=0;c<a;c+=1)if(i=t+c*12+2,D.getUint16(i,m)===274){i+=8,y=D.getUint16(i,m),D.setUint16(i,1,m);break}}}catch{y=1}return y}function fr(j){var D=0,y=1,m=1;switch(j){case 2:y=-1;break;case 3:D=-180;break;case 4:m=-1;break;case 5:D=90,m=-1;break;case 6:D=90;break;case 7:D=90,y=-1;break;case 8:D=-90;break}return{rotate:D,scaleX:y,scaleY:m}}var ur=/\.\d*(?:0|9){12}\d*$/;function ke(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return ur.test(j)?Math.round(j*D)/D:j}function Kt(j){var D=j.aspectRatio,y=j.height,m=j.width,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",t=ie(m),l=ie(y);if(t&&l){var r=y*D;(e==="contain"||e==="none")&&r>m||e==="cover"&&r<m?y=m/D:m=y*D}else t?y=m/D:l&&(m=y*D);return{width:m,height:y}}function hr(j){for(var D=he(new Uint8Array(j)),y=D.length,m=[],e=0;e+3<y;){var t=D[e],l=D[e+1];if(t===255&&l===218)break;if(t===255&&l===216)e+=2;else{var r=D[e+2]*256+D[e+3],f=e+r+2,g=D.slice(e,f);m.push(g),e=f}}return m.reduce(function(s,o){return o[0]===255&&o[1]===225?s.concat(o):s},[])}function dr(j,D){var y=he(new Uint8Array(j));if(y[2]!==255||y[3]!==224)return j;var m=y[4]*256+y[5],e=[255,216].concat(D,y.slice(4+m));return new Uint8Array(e)}var pr=Rt.ArrayBuffer,le=Rt.FileReader,Nt=Rt.URL||Rt.webkitURL,mr=/\.\w+$/,gr=Rt.Compressor,vr=function(){function j(D,y){qe(this,j),this.file=D,this.exif=[],this.image=new Image,this.options=Yt(Yt({},ye),y),this.aborted=!1,this.result=null,this.init()}return Je(j,[{key:"init",value:function(){var y=this,m=this.file,e=this.options;if(!rr(m)){this.fail(new Error("The first argument must be a File or Blob object."));return}var t=m.type;if(!ce(t)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Nt||!le){this.fail(new Error("The current browser does not support image compression."));return}pr||(e.checkOrientation=!1,e.retainExif=!1);var l=t==="image/jpeg",r=l&&e.checkOrientation,f=l&&e.retainExif;if(Nt&&!r&&!f)this.load({url:Nt.createObjectURL(m)});else{var g=new le;this.reader=g,g.onload=function(s){var o=s.target,a=o.result,i={},c=1;r&&(c=cr(a),c>1&&ne(i,fr(c))),f&&(y.exif=hr(a)),r||f?!Nt||c>1?i.url=we(a,t):i.url=Nt.createObjectURL(m):i.url=a,y.load(i)},g.onabort=function(){y.fail(new Error("Aborted to read the image with FileReader."))},g.onerror=function(){y.fail(new Error("Failed to read the image with FileReader."))},g.onloadend=function(){y.reader=null},r||f?g.readAsArrayBuffer(m):g.readAsDataURL(m)}}},{key:"load",value:function(y){var m=this,e=this.file,t=this.image;t.onload=function(){m.draw(Yt(Yt({},y),{},{naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight}))},t.onabort=function(){m.fail(new Error("Aborted to load the image."))},t.onerror=function(){m.fail(new Error("Failed to load the image."))},Rt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Rt.navigator.userAgent)&&(t.crossOrigin="anonymous"),t.alt=e.name,t.src=y.url}},{key:"draw",value:function(y){var m=this,e=y.naturalWidth,t=y.naturalHeight,l=y.rotate,r=l===void 0?0:l,f=y.scaleX,g=f===void 0?1:f,s=y.scaleY,o=s===void 0?1:s,a=this.file,i=this.image,c=this.options,u=document.createElement("canvas"),v=u.getContext("2d"),d=Math.abs(r)%180===90,A=(c.resize==="contain"||c.resize==="cover")&&ie(c.width)&&ie(c.height),E=Math.max(c.maxWidth,0)||1/0,z=Math.max(c.maxHeight,0)||1/0,B=Math.max(c.minWidth,0)||0,S=Math.max(c.minHeight,0)||0,O=e/t,k=c.width,_=c.height;if(d){var R=[z,E];E=R[0],z=R[1];var x=[S,B];B=x[0],S=x[1];var h=[_,k];k=h[0],_=h[1]}A&&(O=k/_);var w=Kt({aspectRatio:O,width:E,height:z},"contain");E=w.width,z=w.height;var n=Kt({aspectRatio:O,width:B,height:S},"cover");if(B=n.width,S=n.height,A){var T=Kt({aspectRatio:O,width:k,height:_},c.resize);k=T.width,_=T.height}else{var C=Kt({aspectRatio:O,width:k,height:_}),b=C.width;k=b===void 0?e:b;var H=C.height;_=H===void 0?t:H}k=Math.floor(ke(Math.min(Math.max(k,B),E))),_=Math.floor(ke(Math.min(Math.max(_,S),z)));var F=-k/2,G=-_/2,N=k,P=_,$=[];if(A){var Z=0,L=0,et=e,st=t,rt=Kt({aspectRatio:O,width:e,height:t},{contain:"cover",cover:"contain"}[c.resize]);et=rt.width,st=rt.height,Z=(e-et)/2,L=(t-st)/2,$.push(Z,L,et,st)}if($.push(F,G,N,P),d){var nt=[_,k];k=nt[0],_=nt[1]}u.width=k,u.height=_,ce(c.mimeType)||(c.mimeType=a.type);var ot="transparent";a.size>c.convertSize&&c.convertTypes.indexOf(c.mimeType)>=0&&(c.mimeType="image/jpeg");var lt=c.mimeType==="image/jpeg";if(lt&&(ot="#fff"),v.fillStyle=ot,v.fillRect(0,0,k,_),c.beforeDraw&&c.beforeDraw.call(this,v,u),!this.aborted&&(v.save(),v.translate(k/2,_/2),v.rotate(r*Math.PI/180),v.scale(g,o),v.drawImage.apply(v,[i].concat($)),v.restore(),c.drew&&c.drew.call(this,v,u),!this.aborted)){var ct=function(p){if(!m.aborted){var V=function(M){return m.done({naturalWidth:e,naturalHeight:t,result:M})};if(p&&lt&&c.retainExif&&m.exif&&m.exif.length>0){var K=function(M){return V(be(we(dr(M,m.exif),c.mimeType)))};if(p.arrayBuffer)p.arrayBuffer().then(K).catch(function(){m.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var U=new le;m.reader=U,U.onload=function(I){var M=I.target;K(M.result)},U.onabort=function(){m.fail(new Error("Aborted to read the compressed image with FileReader."))},U.onerror=function(){m.fail(new Error("Failed to read the compressed image with FileReader."))},U.onloadend=function(){m.reader=null},U.readAsArrayBuffer(p)}}else V(p)}};u.toBlob?u.toBlob(ct,c.mimeType,c.quality):ct(be(u.toDataURL(c.mimeType,c.quality)))}}},{key:"done",value:function(y){var m=y.naturalWidth,e=y.naturalHeight,t=y.result,l=this.file,r=this.image,f=this.options;if(Nt&&r.src.indexOf("blob:")===0&&Nt.revokeObjectURL(r.src),t)if(f.strict&&!f.retainExif&&t.size>l.size&&f.mimeType===l.type&&!(f.width>m||f.height>e||f.minWidth>m||f.minHeight>e||f.maxWidth<m||f.maxHeight<e))t=l;else{var g=new Date;t.lastModified=g.getTime(),t.lastModifiedDate=g,t.name=l.name,t.name&&t.type!==l.type&&(t.name=t.name.replace(mr,sr(t.type)))}else t=l;this.result=t,f.success&&f.success.call(this,t)}},{key:"fail",value:function(y){var m=this.options;if(m.error)m.error.call(this,y);else throw y}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=gr,j}},{key:"setDefaults",value:function(y){ne(ye,y)}}]),j}(),Pe={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(j,D){(function(y){j.exports=y()})(function(){return function y(m,e,t){function l(g,s){if(!e[g]){if(!m[g]){var o=typeof Qt=="function"&&Qt;if(!s&&o)return o(g,!0);if(r)return r(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var i=e[g]={exports:{}};m[g][0].call(i.exports,function(c){var u=m[g][1][c];return l(u||c)},i,i.exports,y,m,e,t)}return e[g].exports}for(var r=typeof Qt=="function"&&Qt,f=0;f<t.length;f++)l(t[f]);return l}({1:[function(y,m,e){var t=y("./utils"),l=y("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(f){for(var g,s,o,a,i,c,u,v=[],d=0,A=f.length,E=A,z=t.getTypeOf(f)!=="string";d<f.length;)E=A-d,o=z?(g=f[d++],s=d<A?f[d++]:0,d<A?f[d++]:0):(g=f.charCodeAt(d++),s=d<A?f.charCodeAt(d++):0,d<A?f.charCodeAt(d++):0),a=g>>2,i=(3&g)<<4|s>>4,c=1<E?(15&s)<<2|o>>6:64,u=2<E?63&o:64,v.push(r.charAt(a)+r.charAt(i)+r.charAt(c)+r.charAt(u));return v.join("")},e.decode=function(f){var g,s,o,a,i,c,u=0,v=0,d="data:";if(f.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var A,E=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===r.charAt(64)&&E--,f.charAt(f.length-2)===r.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=l.uint8array?new Uint8Array(0|E):new Array(0|E);u<f.length;)g=r.indexOf(f.charAt(u++))<<2|(a=r.indexOf(f.charAt(u++)))>>4,s=(15&a)<<4|(i=r.indexOf(f.charAt(u++)))>>2,o=(3&i)<<6|(c=r.indexOf(f.charAt(u++))),A[v++]=g,i!==64&&(A[v++]=s),c!==64&&(A[v++]=o);return A}},{"./support":30,"./utils":32}],2:[function(y,m,e){var t=y("./external"),l=y("./stream/DataWorker"),r=y("./stream/Crc32Probe"),f=y("./stream/DataLengthProbe");function g(s,o,a,i,c){this.compressedSize=s,this.uncompressedSize=o,this.crc32=a,this.compression=i,this.compressedContent=c}g.prototype={getContentWorker:function(){var s=new l(t.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),o=this;return s.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),s},getCompressedWorker:function(){return new l(t.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(s,o,a){return s.pipe(new r).pipe(new f("uncompressedSize")).pipe(o.compressWorker(a)).pipe(new f("compressedSize")).withStreamInfo("compression",o)},m.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(y,m,e){var t=y("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new t("STORE compression")},uncompressWorker:function(){return new t("STORE decompression")}},e.DEFLATE=y("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(y,m,e){var t=y("./utils"),l=function(){for(var r,f=[],g=0;g<256;g++){r=g;for(var s=0;s<8;s++)r=1&r?3988292384^r>>>1:r>>>1;f[g]=r}return f}();m.exports=function(r,f){return r!==void 0&&r.length?t.getTypeOf(r)!=="string"?function(g,s,o,a){var i=l,c=a+o;g^=-1;for(var u=a;u<c;u++)g=g>>>8^i[255&(g^s[u])];return-1^g}(0|f,r,r.length,0):function(g,s,o,a){var i=l,c=a+o;g^=-1;for(var u=a;u<c;u++)g=g>>>8^i[255&(g^s.charCodeAt(u))];return-1^g}(0|f,r,r.length,0):0}},{"./utils":32}],5:[function(y,m,e){e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(y,m,e){var t=null;t=typeof Promise!="undefined"?Promise:y("lie"),m.exports={Promise:t}},{lie:37}],7:[function(y,m,e){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",l=y("pako"),r=y("./utils"),f=y("./stream/GenericWorker"),g=t?"uint8array":"array";function s(o,a){f.call(this,"FlateWorker/"+o),this._pako=null,this._pakoAction=o,this._pakoOptions=a,this.meta={}}e.magic="\b\0",r.inherits(s,f),s.prototype.processChunk=function(o){this.meta=o.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,o.data),!1)},s.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var o=this;this._pako.onData=function(a){o.push({data:a,meta:o.meta})}},e.compressWorker=function(o){return new s("Deflate",o)},e.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(y,m,e){function t(i,c){var u,v="";for(u=0;u<c;u++)v+=String.fromCharCode(255&i),i>>>=8;return v}function l(i,c,u,v,d,A){var E,z,B=i.file,S=i.compression,O=A!==g.utf8encode,k=r.transformTo("string",A(B.name)),_=r.transformTo("string",g.utf8encode(B.name)),R=B.comment,x=r.transformTo("string",A(R)),h=r.transformTo("string",g.utf8encode(R)),w=_.length!==B.name.length,n=h.length!==R.length,T="",C="",b="",H=B.dir,F=B.date,G={crc32:0,compressedSize:0,uncompressedSize:0};c&&!u||(G.crc32=i.crc32,G.compressedSize=i.compressedSize,G.uncompressedSize=i.uncompressedSize);var N=0;c&&(N|=8),O||!w&&!n||(N|=2048);var P=0,$=0;H&&(P|=16),d==="UNIX"?($=798,P|=function(L,et){var st=L;return L||(st=et?16893:33204),(65535&st)<<16}(B.unixPermissions,H)):($=20,P|=function(L){return 63&(L||0)}(B.dosPermissions)),E=F.getUTCHours(),E<<=6,E|=F.getUTCMinutes(),E<<=5,E|=F.getUTCSeconds()/2,z=F.getUTCFullYear()-1980,z<<=4,z|=F.getUTCMonth()+1,z<<=5,z|=F.getUTCDate(),w&&(C=t(1,1)+t(s(k),4)+_,T+="up"+t(C.length,2)+C),n&&(b=t(1,1)+t(s(x),4)+h,T+="uc"+t(b.length,2)+b);var Z="";return Z+=`
\0`,Z+=t(N,2),Z+=S.magic,Z+=t(E,2),Z+=t(z,2),Z+=t(G.crc32,4),Z+=t(G.compressedSize,4),Z+=t(G.uncompressedSize,4),Z+=t(k.length,2),Z+=t(T.length,2),{fileRecord:o.LOCAL_FILE_HEADER+Z+k+T,dirRecord:o.CENTRAL_FILE_HEADER+t($,2)+Z+t(x.length,2)+"\0\0\0\0"+t(P,4)+t(v,4)+k+T+x}}var r=y("../utils"),f=y("../stream/GenericWorker"),g=y("../utf8"),s=y("../crc32"),o=y("../signature");function a(i,c,u,v){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=u,this.encodeFileName=v,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(a,f),a.prototype.push=function(i){var c=i.meta.percent||0,u=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,f.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:u?(c+100*(u-v-1))/u:100}}))},a.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var c=this.streamFiles&&!i.file.dir;if(c){var u=l(i,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},a.prototype.closedSource=function(i){this.accumulate=!1;var c=this.streamFiles&&!i.file.dir,u=l(i,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),c)this.push({data:function(v){return o.DATA_DESCRIPTOR+t(v.crc32,4)+t(v.compressedSize,4)+t(v.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},a.prototype.flush=function(){for(var i=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var u=this.bytesWritten-i,v=function(d,A,E,z,B){var S=r.transformTo("string",B(z));return o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+t(d,2)+t(d,2)+t(A,4)+t(E,4)+t(S.length,2)+S}(this.dirRecords.length,u,i,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},a.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},a.prototype.registerPrevious=function(i){this._sources.push(i);var c=this;return i.on("data",function(u){c.processChunk(u)}),i.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),i.on("error",function(u){c.error(u)}),this},a.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},a.prototype.error=function(i){var c=this._sources;if(!f.prototype.error.call(this,i))return!1;for(var u=0;u<c.length;u++)try{c[u].error(i)}catch{}return!0},a.prototype.lock=function(){f.prototype.lock.call(this);for(var i=this._sources,c=0;c<i.length;c++)i[c].lock()},m.exports=a},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(y,m,e){var t=y("../compressions"),l=y("./ZipFileWorker");e.generateWorker=function(r,f,g){var s=new l(f.streamFiles,g,f.platform,f.encodeFileName),o=0;try{r.forEach(function(a,i){o++;var c=function(A,E){var z=A||E,B=t[z];if(!B)throw new Error(z+" is not a valid compression method !");return B}(i.options.compression,f.compression),u=i.options.compressionOptions||f.compressionOptions||{},v=i.dir,d=i.date;i._compressWorker(c,u).withStreamInfo("file",{name:a,dir:v,date:d,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(a){s.error(a)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(y,m,e){function t(){if(!(this instanceof t))return new t;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new t;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(t.prototype=y("./object")).loadAsync=y("./load"),t.support=y("./support"),t.defaults=y("./defaults"),t.version="3.10.1",t.loadAsync=function(l,r){return new t().loadAsync(l,r)},t.external=y("./external"),m.exports=t},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(y,m,e){var t=y("./utils"),l=y("./external"),r=y("./utf8"),f=y("./zipEntries"),g=y("./stream/Crc32Probe"),s=y("./nodejsUtils");function o(a){return new l.Promise(function(i,c){var u=a.decompressed.getContentWorker().pipe(new g);u.on("error",function(v){c(v)}).on("end",function(){u.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}m.exports=function(a,i){var c=this;return i=t.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),s.isNode&&s.isStream(a)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):t.prepareContent("the loaded zip file",a,!0,i.optimizedBinaryString,i.base64).then(function(u){var v=new f(i);return v.load(u),v}).then(function(u){var v=[l.Promise.resolve(u)],d=u.files;if(i.checkCRC32)for(var A=0;A<d.length;A++)v.push(o(d[A]));return l.Promise.all(v)}).then(function(u){for(var v=u.shift(),d=v.files,A=0;A<d.length;A++){var E=d[A],z=E.fileNameStr,B=t.resolve(E.fileNameStr);c.file(B,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:i.createFolders}),E.dir||(c.file(B).unsafeOriginalName=z)}return v.zipComment.length&&(c.comment=v.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(y,m,e){var t=y("../utils"),l=y("../stream/GenericWorker");function r(f,g){l.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(g)}t.inherits(r,l),r.prototype._bindStream=function(f){var g=this;(this._stream=f).pause(),f.on("data",function(s){g.push({data:s,meta:{percent:0}})}).on("error",function(s){g.isPaused?this.generatedError=s:g.error(s)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(y,m,e){var t=y("readable-stream").Readable;function l(r,f,g){t.call(this,f),this._helper=r;var s=this;r.on("data",function(o,a){s.push(o)||s._helper.pause(),g&&g(a)}).on("error",function(o){s.emit("error",o)}).on("end",function(){s.push(null)})}y("../utils").inherits(l,t),l.prototype._read=function(){this._helper.resume()},m.exports=l},{"../utils":32,"readable-stream":16}],14:[function(y,m,e){m.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(t,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,l);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,l)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var l=new Buffer(t);return l.fill(0),l},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}},{}],15:[function(y,m,e){function t(B,S,O){var k,_=r.getTypeOf(S),R=r.extend(O||{},s);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(B=d(B)),R.createFolders&&(k=v(B))&&A.call(this,k,!0);var x=_==="string"&&R.binary===!1&&R.base64===!1;O&&O.binary!==void 0||(R.binary=!x),(S instanceof o&&S.uncompressedSize===0||R.dir||!S||S.length===0)&&(R.base64=!1,R.binary=!0,S="",R.compression="STORE",_="string");var h=null;h=S instanceof o||S instanceof f?S:c.isNode&&c.isStream(S)?new u(B,S):r.prepareContent(B,S,R.binary,R.optimizedBinaryString,R.base64);var w=new a(B,h,R);this.files[B]=w}var l=y("./utf8"),r=y("./utils"),f=y("./stream/GenericWorker"),g=y("./stream/StreamHelper"),s=y("./defaults"),o=y("./compressedObject"),a=y("./zipObject"),i=y("./generate"),c=y("./nodejsUtils"),u=y("./nodejs/NodejsStreamInputAdapter"),v=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var S=B.lastIndexOf("/");return 0<S?B.substring(0,S):""},d=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},A=function(B,S){return S=S!==void 0?S:s.createFolders,B=d(B),this.files[B]||t.call(this,B,null,{dir:!0,createFolders:S}),this.files[B]};function E(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var S,O,k;for(S in this.files)k=this.files[S],(O=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&B(O,k)},filter:function(B){var S=[];return this.forEach(function(O,k){B(O,k)&&S.push(k)}),S},file:function(B,S,O){if(arguments.length!==1)return B=this.root+B,t.call(this,B,S,O),this;if(E(B)){var k=B;return this.filter(function(R,x){return!x.dir&&k.test(R)})}var _=this.files[this.root+B];return _&&!_.dir?_:null},folder:function(B){if(!B)return this;if(E(B))return this.filter(function(_,R){return R.dir&&B.test(_)});var S=this.root+B,O=A.call(this,S),k=this.clone();return k.root=O.name,k},remove:function(B){B=this.root+B;var S=this.files[B];if(S||(B.slice(-1)!=="/"&&(B+="/"),S=this.files[B]),S&&!S.dir)delete this.files[B];else for(var O=this.filter(function(_,R){return R.name.slice(0,B.length)===B}),k=0;k<O.length;k++)delete this.files[O[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var S,O={};try{if((O=r.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");r.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var k=O.comment||this.comment||"";S=i.generateWorker(this,O,k)}catch(_){(S=new f("error")).error(_)}return new g(S,O.type||"string",O.mimeType)},generateAsync:function(B,S){return this.generateInternalStream(B).accumulate(S)},generateNodeStream:function(B,S){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(S)}};m.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(y,m,e){m.exports=y("stream")},{stream:void 0}],17:[function(y,m,e){var t=y("./DataReader");function l(r){t.call(this,r);for(var f=0;f<this.data.length;f++)r[f]=255&r[f]}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var f=r.charCodeAt(0),g=r.charCodeAt(1),s=r.charCodeAt(2),o=r.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===f&&this.data[a+1]===g&&this.data[a+2]===s&&this.data[a+3]===o)return a-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var f=r.charCodeAt(0),g=r.charCodeAt(1),s=r.charCodeAt(2),o=r.charCodeAt(3),a=this.readData(4);return f===a[0]&&g===a[1]&&s===a[2]&&o===a[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./DataReader":18}],18:[function(y,m,e){var t=y("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var f,g=0;for(this.checkOffset(r),f=this.index+r-1;f>=this.index;f--)g=(g<<8)+this.byteAt(f);return this.index+=r,g},readString:function(r){return t.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},m.exports=l},{"../utils":32}],19:[function(y,m,e){var t=y("./Uint8ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){this.checkOffset(r);var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(y,m,e){var t=y("./DataReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./DataReader":18}],21:[function(y,m,e){var t=y("./ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(y,m,e){var t=y("../utils"),l=y("../support"),r=y("./ArrayReader"),f=y("./StringReader"),g=y("./NodeBufferReader"),s=y("./Uint8ArrayReader");m.exports=function(o){var a=t.getTypeOf(o);return t.checkSupport(a),a!=="string"||l.uint8array?a==="nodebuffer"?new g(o):l.uint8array?new s(t.transformTo("uint8array",o)):new r(t.transformTo("array",o)):new f(o)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(y,m,e){e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(y,m,e){var t=y("./GenericWorker"),l=y("../utils");function r(f){t.call(this,"ConvertWorker to "+f),this.destType=f}l.inherits(r,t),r.prototype.processChunk=function(f){this.push({data:l.transformTo(this.destType,f.data),meta:f.meta})},m.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(y,m,e){var t=y("./GenericWorker"),l=y("../crc32");function r(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}y("../utils").inherits(r,t),r.prototype.processChunk=function(f){this.streamInfo.crc32=l(f.data,this.streamInfo.crc32||0),this.push(f)},m.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(y,m,e){var t=y("../utils"),l=y("./GenericWorker");function r(f){l.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}t.inherits(r,l),r.prototype.processChunk=function(f){if(f){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+f.data.length}l.prototype.processChunk.call(this,f)},m.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(y,m,e){var t=y("../utils"),l=y("./GenericWorker");function r(f){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(s){g.dataIsReady=!0,g.data=s,g.max=s&&s.length||0,g.type=t.getTypeOf(s),g.isPaused||g._tickAndRepeat()},function(s){g.error(s)})}t.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,t.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(t.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,g);break;case"uint8array":f=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":f=this.data.slice(this.index,g)}return this.index=g,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(y,m,e){function t(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var f=0;f<this._listeners[l].length;f++)this._listeners[l][f].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(f){r.processChunk(f)}),l.on("end",function(){r.end()}),l.on("error",function(f){r.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},m.exports=t},{}],29:[function(y,m,e){var t=y("../utils"),l=y("./ConvertWorker"),r=y("./GenericWorker"),f=y("../base64"),g=y("../support"),s=y("../external"),o=null;if(g.nodestream)try{o=y("../nodejs/NodejsStreamOutputAdapter")}catch{}function a(c,u){return new s.Promise(function(v,d){var A=[],E=c._internalType,z=c._outputType,B=c._mimeType;c.on("data",function(S,O){A.push(S),u&&u(O)}).on("error",function(S){A=[],d(S)}).on("end",function(){try{var S=function(O,k,_){switch(O){case"blob":return t.newBlob(t.transformTo("arraybuffer",k),_);case"base64":return f.encode(k);default:return t.transformTo(O,k)}}(z,function(O,k){var _,R=0,x=null,h=0;for(_=0;_<k.length;_++)h+=k[_].length;switch(O){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(x=new Uint8Array(h),_=0;_<k.length;_++)x.set(k[_],R),R+=k[_].length;return x;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+O+"'")}}(E,A),B);v(S)}catch(O){d(O)}A=[]}).resume()})}function i(c,u,v){var d=u;switch(u){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=u,this._mimeType=v,t.checkSupport(d),this._worker=c.pipe(new l(d)),c.lock()}catch(A){this._worker=new r("error"),this._worker.error(A)}}i.prototype={accumulate:function(c){return a(this,c)},on:function(c,u){var v=this;return c==="data"?this._worker.on(c,function(d){u.call(v,d.data,d.meta)}):this._worker.on(c,function(){t.delay(u,arguments,v)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(t.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new o(this,{objectMode:this._outputType!=="nodebuffer"},c)}},m.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(y,m,e){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",e.nodebuffer=typeof Buffer!="undefined",e.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")e.blob=!1;else{var t=new ArrayBuffer(0);try{e.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(t),e.blob=l.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!y("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(y,m,e){for(var t=y("./utils"),l=y("./support"),r=y("./nodejsUtils"),f=y("./stream/GenericWorker"),g=new Array(256),s=0;s<256;s++)g[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;g[254]=g[254]=1;function o(){f.call(this,"utf-8 decode"),this.leftOver=null}function a(){f.call(this,"utf-8 encode")}e.utf8encode=function(i){return l.nodebuffer?r.newBufferFrom(i,"utf-8"):function(c){var u,v,d,A,E,z=c.length,B=0;for(A=0;A<z;A++)(64512&(v=c.charCodeAt(A)))==55296&&A+1<z&&(64512&(d=c.charCodeAt(A+1)))==56320&&(v=65536+(v-55296<<10)+(d-56320),A++),B+=v<128?1:v<2048?2:v<65536?3:4;for(u=l.uint8array?new Uint8Array(B):new Array(B),A=E=0;E<B;A++)(64512&(v=c.charCodeAt(A)))==55296&&A+1<z&&(64512&(d=c.charCodeAt(A+1)))==56320&&(v=65536+(v-55296<<10)+(d-56320),A++),v<128?u[E++]=v:(v<2048?u[E++]=192|v>>>6:(v<65536?u[E++]=224|v>>>12:(u[E++]=240|v>>>18,u[E++]=128|v>>>12&63),u[E++]=128|v>>>6&63),u[E++]=128|63&v);return u}(i)},e.utf8decode=function(i){return l.nodebuffer?t.transformTo("nodebuffer",i).toString("utf-8"):function(c){var u,v,d,A,E=c.length,z=new Array(2*E);for(u=v=0;u<E;)if((d=c[u++])<128)z[v++]=d;else if(4<(A=g[d]))z[v++]=65533,u+=A-1;else{for(d&=A===2?31:A===3?15:7;1<A&&u<E;)d=d<<6|63&c[u++],A--;1<A?z[v++]=65533:d<65536?z[v++]=d:(d-=65536,z[v++]=55296|d>>10&1023,z[v++]=56320|1023&d)}return z.length!==v&&(z.subarray?z=z.subarray(0,v):z.length=v),t.applyFromCharCode(z)}(i=t.transformTo(l.uint8array?"uint8array":"array",i))},t.inherits(o,f),o.prototype.processChunk=function(i){var c=t.transformTo(l.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var u=c;(c=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),c.set(u,this.leftOver.length)}else c=this.leftOver.concat(c);this.leftOver=null}var v=function(A,E){var z;for((E=E||A.length)>A.length&&(E=A.length),z=E-1;0<=z&&(192&A[z])==128;)z--;return z<0||z===0?E:z+g[A[z]]>E?z:E}(c),d=c;v!==c.length&&(l.uint8array?(d=c.subarray(0,v),this.leftOver=c.subarray(v,c.length)):(d=c.slice(0,v),this.leftOver=c.slice(v,c.length))),this.push({data:e.utf8decode(d),meta:i.meta})},o.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=o,t.inherits(a,f),a.prototype.processChunk=function(i){this.push({data:e.utf8encode(i.data),meta:i.meta})},e.Utf8EncodeWorker=a},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(y,m,e){var t=y("./support"),l=y("./base64"),r=y("./nodejsUtils"),f=y("./external");function g(u){return u}function s(u,v){for(var d=0;d<u.length;++d)v[d]=255&u.charCodeAt(d);return v}y("setimmediate"),e.newBlob=function(u,v){e.checkSupport("blob");try{return new Blob([u],{type:v})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(u),d.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var o={stringifyByChunk:function(u,v,d){var A=[],E=0,z=u.length;if(z<=d)return String.fromCharCode.apply(null,u);for(;E<z;)v==="array"||v==="nodebuffer"?A.push(String.fromCharCode.apply(null,u.slice(E,Math.min(E+d,z)))):A.push(String.fromCharCode.apply(null,u.subarray(E,Math.min(E+d,z)))),E+=d;return A.join("")},stringifyByChar:function(u){for(var v="",d=0;d<u.length;d++)v+=String.fromCharCode(u[d]);return v},applyCanBeUsed:{uint8array:function(){try{return t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return t.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function a(u){var v=65536,d=e.getTypeOf(u),A=!0;if(d==="uint8array"?A=o.applyCanBeUsed.uint8array:d==="nodebuffer"&&(A=o.applyCanBeUsed.nodebuffer),A)for(;1<v;)try{return o.stringifyByChunk(u,d,v)}catch{v=Math.floor(v/2)}return o.stringifyByChar(u)}function i(u,v){for(var d=0;d<u.length;d++)v[d]=u[d];return v}e.applyFromCharCode=a;var c={};c.string={string:g,array:function(u){return s(u,new Array(u.length))},arraybuffer:function(u){return c.string.uint8array(u).buffer},uint8array:function(u){return s(u,new Uint8Array(u.length))},nodebuffer:function(u){return s(u,r.allocBuffer(u.length))}},c.array={string:a,array:g,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(u)}},c.arraybuffer={string:function(u){return a(new Uint8Array(u))},array:function(u){return i(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:g,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(new Uint8Array(u))}},c.uint8array={string:a,array:function(u){return i(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:g,nodebuffer:function(u){return r.newBufferFrom(u)}},c.nodebuffer={string:a,array:function(u){return i(u,new Array(u.length))},arraybuffer:function(u){return c.nodebuffer.uint8array(u).buffer},uint8array:function(u){return i(u,new Uint8Array(u.length))},nodebuffer:g},e.transformTo=function(u,v){if(v=v||"",!u)return v;e.checkSupport(u);var d=e.getTypeOf(v);return c[d][u](v)},e.resolve=function(u){for(var v=u.split("/"),d=[],A=0;A<v.length;A++){var E=v[A];E==="."||E===""&&A!==0&&A!==v.length-1||(E===".."?d.pop():d.push(E))}return d.join("/")},e.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":t.nodebuffer&&r.isBuffer(u)?"nodebuffer":t.uint8array&&u instanceof Uint8Array?"uint8array":t.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(u){if(!t[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(u){var v,d,A="";for(d=0;d<(u||"").length;d++)A+="\\x"+((v=u.charCodeAt(d))<16?"0":"")+v.toString(16).toUpperCase();return A},e.delay=function(u,v,d){setImmediate(function(){u.apply(d||null,v||[])})},e.inherits=function(u,v){function d(){}d.prototype=v.prototype,u.prototype=new d},e.extend=function(){var u,v,d={};for(u=0;u<arguments.length;u++)for(v in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],v)&&d[v]===void 0&&(d[v]=arguments[u][v]);return d},e.prepareContent=function(u,v,d,A,E){return f.Promise.resolve(v).then(function(z){return t.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader!="undefined"?new f.Promise(function(B,S){var O=new FileReader;O.onload=function(k){B(k.target.result)},O.onerror=function(k){S(k.target.error)},O.readAsArrayBuffer(z)}):z}).then(function(z){var B=e.getTypeOf(z);return B?(B==="arraybuffer"?z=e.transformTo("uint8array",z):B==="string"&&(E?z=l.decode(z):d&&A!==!0&&(z=function(S){return s(S,t.uint8array?new Uint8Array(S.length):new Array(S.length))}(z))),z):f.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(y,m,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./signature"),f=y("./zipEntry"),g=y("./support");function s(o){this.files=[],this.loadOptions=o}s.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(a)+", expected "+l.pretty(o)+")")}},isSignature:function(o,a){var i=this.reader.index;this.reader.setIndex(o);var c=this.reader.readString(4)===a;return this.reader.setIndex(i),c},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),a=g.uint8array?"uint8array":"array",i=l.transformTo(a,o);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,a,i,c=this.zip64EndOfCentralSize-44;0<c;)o=this.reader.readInt(2),a=this.reader.readInt(4),i=this.reader.readData(a),this.zip64ExtensibleData[o]={id:o,length:a,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,a;for(o=0;o<this.files.length;o++)a=this.files[o],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(o=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var a=o;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var c=a-i;if(0<c)this.isSignature(a,r.CENTRAL_FILE_HEADER)||(this.reader.zero=c);else if(c<0)throw new Error("Corrupted zip: missing "+Math.abs(c)+" bytes.")},prepareReader:function(o){this.reader=t(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(y,m,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./compressedObject"),f=y("./crc32"),g=y("./utf8"),s=y("./compressions"),o=y("./support");function a(i,c){this.options=i,this.loadOptions=c}a.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var c,u;if(i.skip(22),this.fileNameLength=i.readInt(2),u=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((c=function(v){for(var d in s)if(Object.prototype.hasOwnProperty.call(s,d)&&s[d].magic===v)return s[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,c,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var c=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(c),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=t(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var c,u,v,d=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<d;)c=i.readInt(2),u=i.readInt(2),v=i.readData(u),this.extraFields[c]={id:c,length:u,value:v};i.setIndex(d)},handleUTF8:function(){var i=o.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{var u=l.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var d=l.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var c=t(i.value);return c.readInt(1)!==1||f(this.fileName)!==c.readInt(4)?null:g.utf8decode(c.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var c=t(i.value);return c.readInt(1)!==1||f(this.fileComment)!==c.readInt(4)?null:g.utf8decode(c.readData(i.length-5))}return null}},m.exports=a},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(y,m,e){function t(c,u,v){this.name=c,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=u,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var l=y("./stream/StreamHelper"),r=y("./stream/DataWorker"),f=y("./utf8"),g=y("./compressedObject"),s=y("./stream/GenericWorker");t.prototype={internalStream:function(c){var u=null,v="string";try{if(!c)throw new Error("No output type specified.");var d=(v=c.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),u=this._decompressWorker();var A=!this._dataBinary;A&&!d&&(u=u.pipe(new f.Utf8EncodeWorker)),!A&&d&&(u=u.pipe(new f.Utf8DecodeWorker))}catch(E){(u=new s("error")).error(E)}return new l(u,v,"")},async:function(c,u){return this.internalStream(c).accumulate(u)},nodeStream:function(c,u){return this.internalStream(c||"nodebuffer").toNodejsStream(u)},_compressWorker:function(c,u){if(this._data instanceof g&&this._data.compression.magic===c.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new f.Utf8EncodeWorker)),g.createWorkerFrom(v,c,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var o=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],a=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<o.length;i++)t.prototype[o[i]]=a;m.exports=t},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(y,m,e){(function(t){var l,r,f=t.MutationObserver||t.WebKitMutationObserver;if(f){var g=0,s=new f(c),o=t.document.createTextNode("");s.observe(o,{characterData:!0}),l=function(){o.data=g=++g%2}}else if(t.setImmediate||t.MessageChannel===void 0)l="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var u=t.document.createElement("script");u.onreadystatechange=function(){c(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},t.document.documentElement.appendChild(u)}:function(){setTimeout(c,0)};else{var a=new t.MessageChannel;a.port1.onmessage=c,l=function(){a.port2.postMessage(0)}}var i=[];function c(){var u,v;r=!0;for(var d=i.length;d;){for(v=i,i=[],u=-1;++u<d;)v[u]();d=i.length}r=!1}m.exports=function(u){i.push(u)!==1||r||l()}}).call(this,typeof Tt!="undefined"?Tt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(y,m,e){var t=y("immediate");function l(){}var r={},f=["REJECTED"],g=["FULFILLED"],s=["PENDING"];function o(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,d!==l&&u(this,d)}function a(d,A,E){this.promise=d,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function i(d,A,E){t(function(){var z;try{z=A(E)}catch(B){return r.reject(d,B)}z===d?r.reject(d,new TypeError("Cannot resolve promise with itself")):r.resolve(d,z)})}function c(d){var A=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof A=="function")return function(){A.apply(d,arguments)}}function u(d,A){var E=!1;function z(O){E||(E=!0,r.reject(d,O))}function B(O){E||(E=!0,r.resolve(d,O))}var S=v(function(){A(B,z)});S.status==="error"&&z(S.value)}function v(d,A){var E={};try{E.value=d(A),E.status="success"}catch(z){E.status="error",E.value=z}return E}(m.exports=o).prototype.finally=function(d){if(typeof d!="function")return this;var A=this.constructor;return this.then(function(E){return A.resolve(d()).then(function(){return E})},function(E){return A.resolve(d()).then(function(){throw E})})},o.prototype.catch=function(d){return this.then(null,d)},o.prototype.then=function(d,A){if(typeof d!="function"&&this.state===g||typeof A!="function"&&this.state===f)return this;var E=new this.constructor(l);return this.state!==s?i(E,this.state===g?d:A,this.outcome):this.queue.push(new a(E,d,A)),E},a.prototype.callFulfilled=function(d){r.resolve(this.promise,d)},a.prototype.otherCallFulfilled=function(d){i(this.promise,this.onFulfilled,d)},a.prototype.callRejected=function(d){r.reject(this.promise,d)},a.prototype.otherCallRejected=function(d){i(this.promise,this.onRejected,d)},r.resolve=function(d,A){var E=v(c,A);if(E.status==="error")return r.reject(d,E.value);var z=E.value;if(z)u(d,z);else{d.state=g,d.outcome=A;for(var B=-1,S=d.queue.length;++B<S;)d.queue[B].callFulfilled(A)}return d},r.reject=function(d,A){d.state=f,d.outcome=A;for(var E=-1,z=d.queue.length;++E<z;)d.queue[E].callRejected(A);return d},o.resolve=function(d){return d instanceof this?d:r.resolve(new this(l),d)},o.reject=function(d){var A=new this(l);return r.reject(A,d)},o.all=function(d){var A=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=d.length,z=!1;if(!E)return this.resolve([]);for(var B=new Array(E),S=0,O=-1,k=new this(l);++O<E;)_(d[O],O);return k;function _(R,x){A.resolve(R).then(function(h){B[x]=h,++S!==E||z||(z=!0,r.resolve(k,B))},function(h){z||(z=!0,r.reject(k,h))})}},o.race=function(d){var A=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=d.length,z=!1;if(!E)return this.resolve([]);for(var B=-1,S=new this(l);++B<E;)O=d[B],A.resolve(O).then(function(k){z||(z=!0,r.resolve(S,k))},function(k){z||(z=!0,r.reject(S,k))});var O;return S}},{immediate:36}],38:[function(y,m,e){var t={};(0,y("./lib/utils/common").assign)(t,y("./lib/deflate"),y("./lib/inflate"),y("./lib/zlib/constants")),m.exports=t},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(y,m,e){var t=y("./zlib/deflate"),l=y("./utils/common"),r=y("./utils/strings"),f=y("./zlib/messages"),g=y("./zlib/zstream"),s=Object.prototype.toString,o=0,a=-1,i=0,c=8;function u(d){if(!(this instanceof u))return new u(d);this.options=l.assign({level:a,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},d||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var E=t.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(E!==o)throw new Error(f[E]);if(A.header&&t.deflateSetHeader(this.strm,A.header),A.dictionary){var z;if(z=typeof A.dictionary=="string"?r.string2buf(A.dictionary):s.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(E=t.deflateSetDictionary(this.strm,z))!==o)throw new Error(f[E]);this._dict_set=!0}}function v(d,A){var E=new u(A);if(E.push(d,!0),E.err)throw E.msg||f[E.err];return E.result}u.prototype.push=function(d,A){var E,z,B=this.strm,S=this.options.chunkSize;if(this.ended)return!1;z=A===~~A?A:A===!0?4:0,typeof d=="string"?B.input=r.string2buf(d):s.call(d)==="[object ArrayBuffer]"?B.input=new Uint8Array(d):B.input=d,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new l.Buf8(S),B.next_out=0,B.avail_out=S),(E=t.deflate(B,z))!==1&&E!==o)return this.onEnd(E),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(B.output,B.next_out))):this.onData(l.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&E!==1);return z===4?(E=t.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===o):z!==2||(this.onEnd(o),!(B.avail_out=0))},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===o&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},e.Deflate=u,e.deflate=v,e.deflateRaw=function(d,A){return(A=A||{}).raw=!0,v(d,A)},e.gzip=function(d,A){return(A=A||{}).gzip=!0,v(d,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(y,m,e){var t=y("./zlib/inflate"),l=y("./utils/common"),r=y("./utils/strings"),f=y("./zlib/constants"),g=y("./zlib/messages"),s=y("./zlib/zstream"),o=y("./zlib/gzheader"),a=Object.prototype.toString;function i(u){if(!(this instanceof i))return new i(u);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},u||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||u&&u.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var d=t.inflateInit2(this.strm,v.windowBits);if(d!==f.Z_OK)throw new Error(g[d]);this.header=new o,t.inflateGetHeader(this.strm,this.header)}function c(u,v){var d=new i(v);if(d.push(u,!0),d.err)throw d.msg||g[d.err];return d.result}i.prototype.push=function(u,v){var d,A,E,z,B,S,O=this.strm,k=this.options.chunkSize,_=this.options.dictionary,R=!1;if(this.ended)return!1;A=v===~~v?v:v===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof u=="string"?O.input=r.binstring2buf(u):a.call(u)==="[object ArrayBuffer]"?O.input=new Uint8Array(u):O.input=u,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(k),O.next_out=0,O.avail_out=k),(d=t.inflate(O,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&_&&(S=typeof _=="string"?r.string2buf(_):a.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,d=t.inflateSetDictionary(this.strm,S)),d===f.Z_BUF_ERROR&&R===!0&&(d=f.Z_OK,R=!1),d!==f.Z_STREAM_END&&d!==f.Z_OK)return this.onEnd(d),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&d!==f.Z_STREAM_END&&(O.avail_in!==0||A!==f.Z_FINISH&&A!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=r.utf8border(O.output,O.next_out),z=O.next_out-E,B=r.buf2string(O.output,E),O.next_out=z,O.avail_out=k-z,z&&l.arraySet(O.output,O.output,E,z,0),this.onData(B)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(R=!0)}while((0<O.avail_in||O.avail_out===0)&&d!==f.Z_STREAM_END);return d===f.Z_STREAM_END&&(A=f.Z_FINISH),A===f.Z_FINISH?(d=t.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===f.Z_OK):A!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(O.avail_out=0))},i.prototype.onData=function(u){this.chunks.push(u)},i.prototype.onEnd=function(u){u===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},e.Inflate=i,e.inflate=c,e.inflateRaw=function(u,v){return(v=v||{}).raw=!0,c(u,v)},e.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(y,m,e){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";e.assign=function(f){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var s=g.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var o in s)s.hasOwnProperty(o)&&(f[o]=s[o])}}return f},e.shrinkBuf=function(f,g){return f.length===g?f:f.subarray?f.subarray(0,g):(f.length=g,f)};var l={arraySet:function(f,g,s,o,a){if(g.subarray&&f.subarray)f.set(g.subarray(s,s+o),a);else for(var i=0;i<o;i++)f[a+i]=g[s+i]},flattenChunks:function(f){var g,s,o,a,i,c;for(g=o=0,s=f.length;g<s;g++)o+=f[g].length;for(c=new Uint8Array(o),g=a=0,s=f.length;g<s;g++)i=f[g],c.set(i,a),a+=i.length;return c}},r={arraySet:function(f,g,s,o,a){for(var i=0;i<o;i++)f[a+i]=g[s+i]},flattenChunks:function(f){return[].concat.apply([],f)}};e.setTyped=function(f){f?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,l)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(t)},{}],42:[function(y,m,e){var t=y("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var f=new t.Buf8(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function s(o,a){if(a<65537&&(o.subarray&&r||!o.subarray&&l))return String.fromCharCode.apply(null,t.shrinkBuf(o,a));for(var i="",c=0;c<a;c++)i+=String.fromCharCode(o[c]);return i}f[254]=f[254]=1,e.string2buf=function(o){var a,i,c,u,v,d=o.length,A=0;for(u=0;u<d;u++)(64512&(i=o.charCodeAt(u)))==55296&&u+1<d&&(64512&(c=o.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(c-56320),u++),A+=i<128?1:i<2048?2:i<65536?3:4;for(a=new t.Buf8(A),u=v=0;v<A;u++)(64512&(i=o.charCodeAt(u)))==55296&&u+1<d&&(64512&(c=o.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(c-56320),u++),i<128?a[v++]=i:(i<2048?a[v++]=192|i>>>6:(i<65536?a[v++]=224|i>>>12:(a[v++]=240|i>>>18,a[v++]=128|i>>>12&63),a[v++]=128|i>>>6&63),a[v++]=128|63&i);return a},e.buf2binstring=function(o){return s(o,o.length)},e.binstring2buf=function(o){for(var a=new t.Buf8(o.length),i=0,c=a.length;i<c;i++)a[i]=o.charCodeAt(i);return a},e.buf2string=function(o,a){var i,c,u,v,d=a||o.length,A=new Array(2*d);for(i=c=0;i<d;)if((u=o[i++])<128)A[c++]=u;else if(4<(v=f[u]))A[c++]=65533,i+=v-1;else{for(u&=v===2?31:v===3?15:7;1<v&&i<d;)u=u<<6|63&o[i++],v--;1<v?A[c++]=65533:u<65536?A[c++]=u:(u-=65536,A[c++]=55296|u>>10&1023,A[c++]=56320|1023&u)}return s(A,c)},e.utf8border=function(o,a){var i;for((a=a||o.length)>o.length&&(a=o.length),i=a-1;0<=i&&(192&o[i])==128;)i--;return i<0||i===0?a:i+f[o[i]]>a?i:a}},{"./common":41}],43:[function(y,m,e){m.exports=function(t,l,r,f){for(var g=65535&t|0,s=t>>>16&65535|0,o=0;r!==0;){for(r-=o=2e3<r?2e3:r;s=s+(g=g+l[f++]|0)|0,--o;);g%=65521,s%=65521}return g|s<<16|0}},{}],44:[function(y,m,e){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(y,m,e){var t=function(){for(var l,r=[],f=0;f<256;f++){l=f;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;r[f]=l}return r}();m.exports=function(l,r,f,g){var s=t,o=g+f;l^=-1;for(var a=g;a<o;a++)l=l>>>8^s[255&(l^r[a])];return-1^l}},{}],46:[function(y,m,e){var t,l=y("../utils/common"),r=y("./trees"),f=y("./adler32"),g=y("./crc32"),s=y("./messages"),o=0,a=4,i=0,c=-2,u=-1,v=4,d=2,A=8,E=9,z=286,B=30,S=19,O=2*z+1,k=15,_=3,R=258,x=R+_+1,h=42,w=113,n=1,T=2,C=3,b=4;function H(p,V){return p.msg=s[V],V}function F(p){return(p<<1)-(4<p?9:0)}function G(p){for(var V=p.length;0<=--V;)p[V]=0}function N(p){var V=p.state,K=V.pending;K>p.avail_out&&(K=p.avail_out),K!==0&&(l.arraySet(p.output,V.pending_buf,V.pending_out,K,p.next_out),p.next_out+=K,V.pending_out+=K,p.total_out+=K,p.avail_out-=K,V.pending-=K,V.pending===0&&(V.pending_out=0))}function P(p,V){r._tr_flush_block(p,0<=p.block_start?p.block_start:-1,p.strstart-p.block_start,V),p.block_start=p.strstart,N(p.strm)}function $(p,V){p.pending_buf[p.pending++]=V}function Z(p,V){p.pending_buf[p.pending++]=V>>>8&255,p.pending_buf[p.pending++]=255&V}function L(p,V){var K,U,I=p.max_chain_length,M=p.strstart,X=p.prev_length,Q=p.nice_match,W=p.strstart>p.w_size-x?p.strstart-(p.w_size-x):0,Y=p.window,J=p.w_mask,q=p.prev,it=p.strstart+R,ft=Y[M+X-1],at=Y[M+X];p.prev_length>=p.good_match&&(I>>=2),Q>p.lookahead&&(Q=p.lookahead);do if(Y[(K=V)+X]===at&&Y[K+X-1]===ft&&Y[K]===Y[M]&&Y[++K]===Y[M+1]){M+=2,K++;do;while(Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&M<it);if(U=R-(it-M),M=it-R,X<U){if(p.match_start=V,Q<=(X=U))break;ft=Y[M+X-1],at=Y[M+X]}}while((V=q[V&J])>W&&--I!=0);return X<=p.lookahead?X:p.lookahead}function et(p){var V,K,U,I,M,X,Q,W,Y,J,q=p.w_size;do{if(I=p.window_size-p.lookahead-p.strstart,p.strstart>=q+(q-x)){for(l.arraySet(p.window,p.window,q,q,0),p.match_start-=q,p.strstart-=q,p.block_start-=q,V=K=p.hash_size;U=p.head[--V],p.head[V]=q<=U?U-q:0,--K;);for(V=K=q;U=p.prev[--V],p.prev[V]=q<=U?U-q:0,--K;);I+=q}if(p.strm.avail_in===0)break;if(X=p.strm,Q=p.window,W=p.strstart+p.lookahead,Y=I,J=void 0,J=X.avail_in,Y<J&&(J=Y),K=J===0?0:(X.avail_in-=J,l.arraySet(Q,X.input,X.next_in,J,W),X.state.wrap===1?X.adler=f(X.adler,Q,J,W):X.state.wrap===2&&(X.adler=g(X.adler,Q,J,W)),X.next_in+=J,X.total_in+=J,J),p.lookahead+=K,p.lookahead+p.insert>=_)for(M=p.strstart-p.insert,p.ins_h=p.window[M],p.ins_h=(p.ins_h<<p.hash_shift^p.window[M+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[M+_-1])&p.hash_mask,p.prev[M&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=M,M++,p.insert--,!(p.lookahead+p.insert<_)););}while(p.lookahead<x&&p.strm.avail_in!==0)}function st(p,V){for(var K,U;;){if(p.lookahead<x){if(et(p),p.lookahead<x&&V===o)return n;if(p.lookahead===0)break}if(K=0,p.lookahead>=_&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+_-1])&p.hash_mask,K=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),K!==0&&p.strstart-K<=p.w_size-x&&(p.match_length=L(p,K)),p.match_length>=_)if(U=r._tr_tally(p,p.strstart-p.match_start,p.match_length-_),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=_){for(p.match_length--;p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+_-1])&p.hash_mask,K=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart,--p.match_length!=0;);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else U=r._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(U&&(P(p,!1),p.strm.avail_out===0))return n}return p.insert=p.strstart<_-1?p.strstart:_-1,V===a?(P(p,!0),p.strm.avail_out===0?C:b):p.last_lit&&(P(p,!1),p.strm.avail_out===0)?n:T}function rt(p,V){for(var K,U,I;;){if(p.lookahead<x){if(et(p),p.lookahead<x&&V===o)return n;if(p.lookahead===0)break}if(K=0,p.lookahead>=_&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+_-1])&p.hash_mask,K=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=_-1,K!==0&&p.prev_length<p.max_lazy_match&&p.strstart-K<=p.w_size-x&&(p.match_length=L(p,K),p.match_length<=5&&(p.strategy===1||p.match_length===_&&4096<p.strstart-p.match_start)&&(p.match_length=_-1)),p.prev_length>=_&&p.match_length<=p.prev_length){for(I=p.strstart+p.lookahead-_,U=r._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-_),p.lookahead-=p.prev_length-1,p.prev_length-=2;++p.strstart<=I&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+_-1])&p.hash_mask,K=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),--p.prev_length!=0;);if(p.match_available=0,p.match_length=_-1,p.strstart++,U&&(P(p,!1),p.strm.avail_out===0))return n}else if(p.match_available){if((U=r._tr_tally(p,0,p.window[p.strstart-1]))&&P(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return n}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(U=r._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<_-1?p.strstart:_-1,V===a?(P(p,!0),p.strm.avail_out===0?C:b):p.last_lit&&(P(p,!1),p.strm.avail_out===0)?n:T}function nt(p,V,K,U,I){this.good_length=p,this.max_lazy=V,this.nice_length=K,this.max_chain=U,this.func=I}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*B+1)),this.bl_tree=new l.Buf16(2*(2*S+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(k+1),this.heap=new l.Buf16(2*z+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function lt(p){var V;return p&&p.state?(p.total_in=p.total_out=0,p.data_type=d,(V=p.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?h:w,p.adler=V.wrap===2?0:1,V.last_flush=o,r._tr_init(V),i):H(p,c)}function ct(p){var V=lt(p);return V===i&&function(K){K.window_size=2*K.w_size,G(K.head),K.max_lazy_match=t[K.level].max_lazy,K.good_match=t[K.level].good_length,K.nice_match=t[K.level].nice_length,K.max_chain_length=t[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=_-1,K.match_available=0,K.ins_h=0}(p.state),V}function pt(p,V,K,U,I,M){if(!p)return c;var X=1;if(V===u&&(V=6),U<0?(X=0,U=-U):15<U&&(X=2,U-=16),I<1||E<I||K!==A||U<8||15<U||V<0||9<V||M<0||v<M)return H(p,c);U===8&&(U=9);var Q=new ot;return(p.state=Q).strm=p,Q.wrap=X,Q.gzhead=null,Q.w_bits=U,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=I+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+_-1)/_),Q.window=new l.Buf8(2*Q.w_size),Q.head=new l.Buf16(Q.hash_size),Q.prev=new l.Buf16(Q.w_size),Q.lit_bufsize=1<<I+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new l.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=V,Q.strategy=M,Q.method=K,ct(p)}t=[new nt(0,0,0,0,function(p,V){var K=65535;for(K>p.pending_buf_size-5&&(K=p.pending_buf_size-5);;){if(p.lookahead<=1){if(et(p),p.lookahead===0&&V===o)return n;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var U=p.block_start+K;if((p.strstart===0||p.strstart>=U)&&(p.lookahead=p.strstart-U,p.strstart=U,P(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-x&&(P(p,!1),p.strm.avail_out===0))return n}return p.insert=0,V===a?(P(p,!0),p.strm.avail_out===0?C:b):(p.strstart>p.block_start&&(P(p,!1),p.strm.avail_out),n)}),new nt(4,4,8,4,st),new nt(4,5,16,8,st),new nt(4,6,32,32,st),new nt(4,4,16,16,rt),new nt(8,16,32,32,rt),new nt(8,16,128,128,rt),new nt(8,32,128,256,rt),new nt(32,128,258,1024,rt),new nt(32,258,258,4096,rt)],e.deflateInit=function(p,V){return pt(p,V,A,15,8,0)},e.deflateInit2=pt,e.deflateReset=ct,e.deflateResetKeep=lt,e.deflateSetHeader=function(p,V){return p&&p.state?p.state.wrap!==2?c:(p.state.gzhead=V,i):c},e.deflate=function(p,V){var K,U,I,M;if(!p||!p.state||5<V||V<0)return p?H(p,c):c;if(U=p.state,!p.output||!p.input&&p.avail_in!==0||U.status===666&&V!==a)return H(p,p.avail_out===0?-5:c);if(U.strm=p,K=U.last_flush,U.last_flush=V,U.status===h)if(U.wrap===2)p.adler=0,$(U,31),$(U,139),$(U,8),U.gzhead?($(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),$(U,255&U.gzhead.time),$(U,U.gzhead.time>>8&255),$(U,U.gzhead.time>>16&255),$(U,U.gzhead.time>>24&255),$(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),$(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&($(U,255&U.gzhead.extra.length),$(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(p.adler=g(p.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):($(U,0),$(U,0),$(U,0),$(U,0),$(U,0),$(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),$(U,3),U.status=w);else{var X=A+(U.w_bits-8<<4)<<8;X|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(X|=32),X+=31-X%31,U.status=w,Z(U,X),U.strstart!==0&&(Z(U,p.adler>>>16),Z(U,65535&p.adler)),p.adler=1}if(U.status===69)if(U.gzhead.extra){for(I=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),N(p),I=U.pending,U.pending!==U.pending_buf_size));)$(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){I=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),N(p),I=U.pending,U.pending===U.pending_buf_size)){M=1;break}M=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,$(U,M)}while(M!==0);U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),M===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){I=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),N(p),I=U.pending,U.pending===U.pending_buf_size)){M=1;break}M=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,$(U,M)}while(M!==0);U.gzhead.hcrc&&U.pending>I&&(p.adler=g(p.adler,U.pending_buf,U.pending-I,I)),M===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&N(p),U.pending+2<=U.pending_buf_size&&($(U,255&p.adler),$(U,p.adler>>8&255),p.adler=0,U.status=w)):U.status=w),U.pending!==0){if(N(p),p.avail_out===0)return U.last_flush=-1,i}else if(p.avail_in===0&&F(V)<=F(K)&&V!==a)return H(p,-5);if(U.status===666&&p.avail_in!==0)return H(p,-5);if(p.avail_in!==0||U.lookahead!==0||V!==o&&U.status!==666){var Q=U.strategy===2?function(W,Y){for(var J;;){if(W.lookahead===0&&(et(W),W.lookahead===0)){if(Y===o)return n;break}if(W.match_length=0,J=r._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++,J&&(P(W,!1),W.strm.avail_out===0))return n}return W.insert=0,Y===a?(P(W,!0),W.strm.avail_out===0?C:b):W.last_lit&&(P(W,!1),W.strm.avail_out===0)?n:T}(U,V):U.strategy===3?function(W,Y){for(var J,q,it,ft,at=W.window;;){if(W.lookahead<=R){if(et(W),W.lookahead<=R&&Y===o)return n;if(W.lookahead===0)break}if(W.match_length=0,W.lookahead>=_&&0<W.strstart&&(q=at[it=W.strstart-1])===at[++it]&&q===at[++it]&&q===at[++it]){ft=W.strstart+R;do;while(q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&it<ft);W.match_length=R-(ft-it),W.match_length>W.lookahead&&(W.match_length=W.lookahead)}if(W.match_length>=_?(J=r._tr_tally(W,1,W.match_length-_),W.lookahead-=W.match_length,W.strstart+=W.match_length,W.match_length=0):(J=r._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++),J&&(P(W,!1),W.strm.avail_out===0))return n}return W.insert=0,Y===a?(P(W,!0),W.strm.avail_out===0?C:b):W.last_lit&&(P(W,!1),W.strm.avail_out===0)?n:T}(U,V):t[U.level].func(U,V);if(Q!==C&&Q!==b||(U.status=666),Q===n||Q===C)return p.avail_out===0&&(U.last_flush=-1),i;if(Q===T&&(V===1?r._tr_align(U):V!==5&&(r._tr_stored_block(U,0,0,!1),V===3&&(G(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),N(p),p.avail_out===0))return U.last_flush=-1,i}return V!==a?i:U.wrap<=0?1:(U.wrap===2?($(U,255&p.adler),$(U,p.adler>>8&255),$(U,p.adler>>16&255),$(U,p.adler>>24&255),$(U,255&p.total_in),$(U,p.total_in>>8&255),$(U,p.total_in>>16&255),$(U,p.total_in>>24&255)):(Z(U,p.adler>>>16),Z(U,65535&p.adler)),N(p),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?i:1)},e.deflateEnd=function(p){var V;return p&&p.state?(V=p.state.status)!==h&&V!==69&&V!==73&&V!==91&&V!==103&&V!==w&&V!==666?H(p,c):(p.state=null,V===w?H(p,-3):i):c},e.deflateSetDictionary=function(p,V){var K,U,I,M,X,Q,W,Y,J=V.length;if(!p||!p.state||(M=(K=p.state).wrap)===2||M===1&&K.status!==h||K.lookahead)return c;for(M===1&&(p.adler=f(p.adler,V,J,0)),K.wrap=0,J>=K.w_size&&(M===0&&(G(K.head),K.strstart=0,K.block_start=0,K.insert=0),Y=new l.Buf8(K.w_size),l.arraySet(Y,V,J-K.w_size,K.w_size,0),V=Y,J=K.w_size),X=p.avail_in,Q=p.next_in,W=p.input,p.avail_in=J,p.next_in=0,p.input=V,et(K);K.lookahead>=_;){for(U=K.strstart,I=K.lookahead-(_-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[U+_-1])&K.hash_mask,K.prev[U&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=U,U++,--I;);K.strstart=U,K.lookahead=_-1,et(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=_-1,K.match_available=0,p.next_in=Q,p.input=W,p.avail_in=X,K.wrap=M,i},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(y,m,e){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(y,m,e){m.exports=function(t,l){var r,f,g,s,o,a,i,c,u,v,d,A,E,z,B,S,O,k,_,R,x,h,w,n,T;r=t.state,f=t.next_in,n=t.input,g=f+(t.avail_in-5),s=t.next_out,T=t.output,o=s-(l-t.avail_out),a=s+(t.avail_out-257),i=r.dmax,c=r.wsize,u=r.whave,v=r.wnext,d=r.window,A=r.hold,E=r.bits,z=r.lencode,B=r.distcode,S=(1<<r.lenbits)-1,O=(1<<r.distbits)-1;t:do{E<15&&(A+=n[f++]<<E,E+=8,A+=n[f++]<<E,E+=8),k=z[A&S];e:for(;;){if(A>>>=_=k>>>24,E-=_,(_=k>>>16&255)===0)T[s++]=65535&k;else{if(!(16&_)){if((64&_)==0){k=z[(65535&k)+(A&(1<<_)-1)];continue e}if(32&_){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}R=65535&k,(_&=15)&&(E<_&&(A+=n[f++]<<E,E+=8),R+=A&(1<<_)-1,A>>>=_,E-=_),E<15&&(A+=n[f++]<<E,E+=8,A+=n[f++]<<E,E+=8),k=B[A&O];r:for(;;){if(A>>>=_=k>>>24,E-=_,!(16&(_=k>>>16&255))){if((64&_)==0){k=B[(65535&k)+(A&(1<<_)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&k,E<(_&=15)&&(A+=n[f++]<<E,(E+=8)<_&&(A+=n[f++]<<E,E+=8)),i<(x+=A&(1<<_)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(A>>>=_,E-=_,(_=s-o)<x){if(u<(_=x-_)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(w=d,(h=0)===v){if(h+=c-_,_<R){for(R-=_;T[s++]=d[h++],--_;);h=s-x,w=T}}else if(v<_){if(h+=c+v-_,(_-=v)<R){for(R-=_;T[s++]=d[h++],--_;);if(h=0,v<R){for(R-=_=v;T[s++]=d[h++],--_;);h=s-x,w=T}}}else if(h+=v-_,_<R){for(R-=_;T[s++]=d[h++],--_;);h=s-x,w=T}for(;2<R;)T[s++]=w[h++],T[s++]=w[h++],T[s++]=w[h++],R-=3;R&&(T[s++]=w[h++],1<R&&(T[s++]=w[h++]))}else{for(h=s-x;T[s++]=T[h++],T[s++]=T[h++],T[s++]=T[h++],2<(R-=3););R&&(T[s++]=T[h++],1<R&&(T[s++]=T[h++]))}break}}break}}while(f<g&&s<a);f-=R=E>>3,A&=(1<<(E-=R<<3))-1,t.next_in=f,t.next_out=s,t.avail_in=f<g?g-f+5:5-(f-g),t.avail_out=s<a?a-s+257:257-(s-a),r.hold=A,r.bits=E}},{}],49:[function(y,m,e){var t=y("../utils/common"),l=y("./adler32"),r=y("./crc32"),f=y("./inffast"),g=y("./inftrees"),s=1,o=2,a=0,i=-2,c=1,u=852,v=592;function d(h){return(h>>>24&255)+(h>>>8&65280)+((65280&h)<<8)+((255&h)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(h){var w;return h&&h.state?(w=h.state,h.total_in=h.total_out=w.total=0,h.msg="",w.wrap&&(h.adler=1&w.wrap),w.mode=c,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new t.Buf32(u),w.distcode=w.distdyn=new t.Buf32(v),w.sane=1,w.back=-1,a):i}function z(h){var w;return h&&h.state?((w=h.state).wsize=0,w.whave=0,w.wnext=0,E(h)):i}function B(h,w){var n,T;return h&&h.state?(T=h.state,w<0?(n=0,w=-w):(n=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?i:(T.window!==null&&T.wbits!==w&&(T.window=null),T.wrap=n,T.wbits=w,z(h))):i}function S(h,w){var n,T;return h?(T=new A,(h.state=T).window=null,(n=B(h,w))!==a&&(h.state=null),n):i}var O,k,_=!0;function R(h){if(_){var w;for(O=new t.Buf32(512),k=new t.Buf32(32),w=0;w<144;)h.lens[w++]=8;for(;w<256;)h.lens[w++]=9;for(;w<280;)h.lens[w++]=7;for(;w<288;)h.lens[w++]=8;for(g(s,h.lens,0,288,O,0,h.work,{bits:9}),w=0;w<32;)h.lens[w++]=5;g(o,h.lens,0,32,k,0,h.work,{bits:5}),_=!1}h.lencode=O,h.lenbits=9,h.distcode=k,h.distbits=5}function x(h,w,n,T){var C,b=h.state;return b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new t.Buf8(b.wsize)),T>=b.wsize?(t.arraySet(b.window,w,n-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(T<(C=b.wsize-b.wnext)&&(C=T),t.arraySet(b.window,w,n-T,C,b.wnext),(T-=C)?(t.arraySet(b.window,w,n-T,T,0),b.wnext=T,b.whave=b.wsize):(b.wnext+=C,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=C))),0}e.inflateReset=z,e.inflateReset2=B,e.inflateResetKeep=E,e.inflateInit=function(h){return S(h,15)},e.inflateInit2=S,e.inflate=function(h,w){var n,T,C,b,H,F,G,N,P,$,Z,L,et,st,rt,nt,ot,lt,ct,pt,p,V,K,U,I=0,M=new t.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&h.avail_in!==0)return i;(n=h.state).mode===12&&(n.mode=13),H=h.next_out,C=h.output,G=h.avail_out,b=h.next_in,T=h.input,F=h.avail_in,N=n.hold,P=n.bits,$=F,Z=G,V=a;t:for(;;)switch(n.mode){case c:if(n.wrap===0){n.mode=13;break}for(;P<16;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(2&n.wrap&&N===35615){M[n.check=0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0),P=N=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&N)<<8)+(N>>8))%31){h.msg="incorrect header check",n.mode=30;break}if((15&N)!=8){h.msg="unknown compression method",n.mode=30;break}if(P-=4,p=8+(15&(N>>>=4)),n.wbits===0)n.wbits=p;else if(p>n.wbits){h.msg="invalid window size",n.mode=30;break}n.dmax=1<<p,h.adler=n.check=1,n.mode=512&N?10:12,P=N=0;break;case 2:for(;P<16;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(n.flags=N,(255&n.flags)!=8){h.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){h.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=N>>8&1),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0,n.mode=3;case 3:for(;P<32;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.head&&(n.head.time=N),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,M[2]=N>>>16&255,M[3]=N>>>24&255,n.check=r(n.check,M,4,0)),P=N=0,n.mode=4;case 4:for(;P<16;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.head&&(n.head.xflags=255&N,n.head.os=N>>8),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0,n.mode=5;case 5:if(1024&n.flags){for(;P<16;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.length=N,n.head&&(n.head.extra_len=N),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(F<(L=n.length)&&(L=F),L&&(n.head&&(p=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),t.arraySet(n.head.extra,T,b,L,p)),512&n.flags&&(n.check=r(n.check,T,L,b)),F-=L,b+=L,n.length-=L),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(F===0)break t;for(L=0;p=T[b+L++],n.head&&p&&n.length<65536&&(n.head.name+=String.fromCharCode(p)),p&&L<F;);if(512&n.flags&&(n.check=r(n.check,T,L,b)),F-=L,b+=L,p)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(F===0)break t;for(L=0;p=T[b+L++],n.head&&p&&n.length<65536&&(n.head.comment+=String.fromCharCode(p)),p&&L<F;);if(512&n.flags&&(n.check=r(n.check,T,L,b)),F-=L,b+=L,p)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;P<16;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(N!==(65535&n.check)){h.msg="header crc mismatch",n.mode=30;break}P=N=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),h.adler=n.check=0,n.mode=12;break;case 10:for(;P<32;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}h.adler=n.check=d(N),P=N=0,n.mode=11;case 11:if(n.havedict===0)return h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,2;h.adler=n.check=1,n.mode=12;case 12:if(w===5||w===6)break t;case 13:if(n.last){N>>>=7&P,P-=7&P,n.mode=27;break}for(;P<3;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}switch(n.last=1&N,P-=1,3&(N>>>=1)){case 0:n.mode=14;break;case 1:if(R(n),n.mode=20,w!==6)break;N>>>=2,P-=2;break t;case 2:n.mode=17;break;case 3:h.msg="invalid block type",n.mode=30}N>>>=2,P-=2;break;case 14:for(N>>>=7&P,P-=7&P;P<32;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if((65535&N)!=(N>>>16^65535)){h.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&N,P=N=0,n.mode=15,w===6)break t;case 15:n.mode=16;case 16:if(L=n.length){if(F<L&&(L=F),G<L&&(L=G),L===0)break t;t.arraySet(C,T,b,L,H),F-=L,b+=L,G-=L,H+=L,n.length-=L;break}n.mode=12;break;case 17:for(;P<14;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(n.nlen=257+(31&N),N>>>=5,P-=5,n.ndist=1+(31&N),N>>>=5,P-=5,n.ncode=4+(15&N),N>>>=4,P-=4,286<n.nlen||30<n.ndist){h.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;P<3;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.lens[X[n.have++]]=7&N,N>>>=3,P-=3}for(;n.have<19;)n.lens[X[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,K={bits:n.lenbits},V=g(0,n.lens,0,19,n.lencode,0,n.work,K),n.lenbits=K.bits,V){h.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;nt=(I=n.lencode[N&(1<<n.lenbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(ot<16)N>>>=rt,P-=rt,n.lens[n.have++]=ot;else{if(ot===16){for(U=rt+2;P<U;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(N>>>=rt,P-=rt,n.have===0){h.msg="invalid bit length repeat",n.mode=30;break}p=n.lens[n.have-1],L=3+(3&N),N>>>=2,P-=2}else if(ot===17){for(U=rt+3;P<U;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}P-=rt,p=0,L=3+(7&(N>>>=rt)),N>>>=3,P-=3}else{for(U=rt+7;P<U;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}P-=rt,p=0,L=11+(127&(N>>>=rt)),N>>>=7,P-=7}if(n.have+L>n.nlen+n.ndist){h.msg="invalid bit length repeat",n.mode=30;break}for(;L--;)n.lens[n.have++]=p}}if(n.mode===30)break;if(n.lens[256]===0){h.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,K={bits:n.lenbits},V=g(s,n.lens,0,n.nlen,n.lencode,0,n.work,K),n.lenbits=K.bits,V){h.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,K={bits:n.distbits},V=g(o,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,K),n.distbits=K.bits,V){h.msg="invalid distances set",n.mode=30;break}if(n.mode=20,w===6)break t;case 20:n.mode=21;case 21:if(6<=F&&258<=G){h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,f(h,Z),H=h.next_out,C=h.output,G=h.avail_out,b=h.next_in,T=h.input,F=h.avail_in,N=n.hold,P=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;nt=(I=n.lencode[N&(1<<n.lenbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(nt&&(240&nt)==0){for(lt=rt,ct=nt,pt=ot;nt=(I=n.lencode[pt+((N&(1<<lt+ct)-1)>>lt)])>>>16&255,ot=65535&I,!(lt+(rt=I>>>24)<=P);){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}N>>>=lt,P-=lt,n.back+=lt}if(N>>>=rt,P-=rt,n.back+=rt,n.length=ot,nt===0){n.mode=26;break}if(32&nt){n.back=-1,n.mode=12;break}if(64&nt){h.msg="invalid literal/length code",n.mode=30;break}n.extra=15&nt,n.mode=22;case 22:if(n.extra){for(U=n.extra;P<U;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.length+=N&(1<<n.extra)-1,N>>>=n.extra,P-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;nt=(I=n.distcode[N&(1<<n.distbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if((240&nt)==0){for(lt=rt,ct=nt,pt=ot;nt=(I=n.distcode[pt+((N&(1<<lt+ct)-1)>>lt)])>>>16&255,ot=65535&I,!(lt+(rt=I>>>24)<=P);){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}N>>>=lt,P-=lt,n.back+=lt}if(N>>>=rt,P-=rt,n.back+=rt,64&nt){h.msg="invalid distance code",n.mode=30;break}n.offset=ot,n.extra=15&nt,n.mode=24;case 24:if(n.extra){for(U=n.extra;P<U;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}n.offset+=N&(1<<n.extra)-1,N>>>=n.extra,P-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){h.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(G===0)break t;if(L=Z-G,n.offset>L){if((L=n.offset-L)>n.whave&&n.sane){h.msg="invalid distance too far back",n.mode=30;break}et=L>n.wnext?(L-=n.wnext,n.wsize-L):n.wnext-L,L>n.length&&(L=n.length),st=n.window}else st=C,et=H-n.offset,L=n.length;for(G<L&&(L=G),G-=L,n.length-=L;C[H++]=st[et++],--L;);n.length===0&&(n.mode=21);break;case 26:if(G===0)break t;C[H++]=n.length,G--,n.mode=21;break;case 27:if(n.wrap){for(;P<32;){if(F===0)break t;F--,N|=T[b++]<<P,P+=8}if(Z-=G,h.total_out+=Z,n.total+=Z,Z&&(h.adler=n.check=n.flags?r(n.check,C,Z,H-Z):l(n.check,C,Z,H-Z)),Z=G,(n.flags?N:d(N))!==n.check){h.msg="incorrect data check",n.mode=30;break}P=N=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;P<32;){if(F===0)break t;F--,N+=T[b++]<<P,P+=8}if(N!==(4294967295&n.total)){h.msg="incorrect length check",n.mode=30;break}P=N=0}n.mode=29;case 29:V=1;break t;case 30:V=-3;break t;case 31:return-4;case 32:default:return i}return h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,(n.wsize||Z!==h.avail_out&&n.mode<30&&(n.mode<27||w!==4))&&x(h,h.output,h.next_out,Z-h.avail_out)?(n.mode=31,-4):($-=h.avail_in,Z-=h.avail_out,h.total_in+=$,h.total_out+=Z,n.total+=Z,n.wrap&&Z&&(h.adler=n.check=n.flags?r(n.check,C,Z,h.next_out-Z):l(n.check,C,Z,h.next_out-Z)),h.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),($==0&&Z===0||w===4)&&V===a&&(V=-5),V)},e.inflateEnd=function(h){if(!h||!h.state)return i;var w=h.state;return w.window&&(w.window=null),h.state=null,a},e.inflateGetHeader=function(h,w){var n;return h&&h.state?(2&(n=h.state).wrap)==0?i:((n.head=w).done=!1,a):i},e.inflateSetDictionary=function(h,w){var n,T=w.length;return h&&h.state?(n=h.state).wrap!==0&&n.mode!==11?i:n.mode===11&&l(1,w,T,0)!==n.check?-3:x(h,w,T,T)?(n.mode=31,-4):(n.havedict=1,a):i},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(y,m,e){var t=y("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(s,o,a,i,c,u,v,d){var A,E,z,B,S,O,k,_,R,x=d.bits,h=0,w=0,n=0,T=0,C=0,b=0,H=0,F=0,G=0,N=0,P=null,$=0,Z=new t.Buf16(16),L=new t.Buf16(16),et=null,st=0;for(h=0;h<=15;h++)Z[h]=0;for(w=0;w<i;w++)Z[o[a+w]]++;for(C=x,T=15;1<=T&&Z[T]===0;T--);if(T<C&&(C=T),T===0)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(n=1;n<T&&Z[n]===0;n++);for(C<n&&(C=n),h=F=1;h<=15;h++)if(F<<=1,(F-=Z[h])<0)return-1;if(0<F&&(s===0||T!==1))return-1;for(L[1]=0,h=1;h<15;h++)L[h+1]=L[h]+Z[h];for(w=0;w<i;w++)o[a+w]!==0&&(v[L[o[a+w]]++]=w);if(O=s===0?(P=et=v,19):s===1?(P=l,$-=257,et=r,st-=257,256):(P=f,et=g,-1),h=n,S=u,H=w=N=0,z=-1,B=(G=1<<(b=C))-1,s===1&&852<G||s===2&&592<G)return 1;for(;;){for(k=h-H,R=v[w]<O?(_=0,v[w]):v[w]>O?(_=et[st+v[w]],P[$+v[w]]):(_=96,0),A=1<<h-H,n=E=1<<b;c[S+(N>>H)+(E-=A)]=k<<24|_<<16|R|0,E!==0;);for(A=1<<h-1;N&A;)A>>=1;if(A!==0?(N&=A-1,N+=A):N=0,w++,--Z[h]==0){if(h===T)break;h=o[a+v[w]]}if(C<h&&(N&B)!==z){for(H===0&&(H=C),S+=n,F=1<<(b=h-H);b+H<T&&!((F-=Z[b+H])<=0);)b++,F<<=1;if(G+=1<<b,s===1&&852<G||s===2&&592<G)return 1;c[z=N&B]=C<<24|b<<16|S-u|0}}return N!==0&&(c[S+N]=h-H<<24|64<<16|0),d.bits=C,0}},{"../utils/common":41}],51:[function(y,m,e){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(y,m,e){var t=y("../utils/common"),l=0,r=1;function f(I){for(var M=I.length;0<=--M;)I[M]=0}var g=0,s=29,o=256,a=o+1+s,i=30,c=19,u=2*a+1,v=15,d=16,A=7,E=256,z=16,B=17,S=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(a+2));f(x);var h=new Array(2*i);f(h);var w=new Array(512);f(w);var n=new Array(256);f(n);var T=new Array(s);f(T);var C,b,H,F=new Array(i);function G(I,M,X,Q,W){this.static_tree=I,this.extra_bits=M,this.extra_base=X,this.elems=Q,this.max_length=W,this.has_stree=I&&I.length}function N(I,M){this.dyn_tree=I,this.max_code=0,this.stat_desc=M}function P(I){return I<256?w[I]:w[256+(I>>>7)]}function $(I,M){I.pending_buf[I.pending++]=255&M,I.pending_buf[I.pending++]=M>>>8&255}function Z(I,M,X){I.bi_valid>d-X?(I.bi_buf|=M<<I.bi_valid&65535,$(I,I.bi_buf),I.bi_buf=M>>d-I.bi_valid,I.bi_valid+=X-d):(I.bi_buf|=M<<I.bi_valid&65535,I.bi_valid+=X)}function L(I,M,X){Z(I,X[2*M],X[2*M+1])}function et(I,M){for(var X=0;X|=1&I,I>>>=1,X<<=1,0<--M;);return X>>>1}function st(I,M,X){var Q,W,Y=new Array(v+1),J=0;for(Q=1;Q<=v;Q++)Y[Q]=J=J+X[Q-1]<<1;for(W=0;W<=M;W++){var q=I[2*W+1];q!==0&&(I[2*W]=et(Y[q]++,q))}}function rt(I){var M;for(M=0;M<a;M++)I.dyn_ltree[2*M]=0;for(M=0;M<i;M++)I.dyn_dtree[2*M]=0;for(M=0;M<c;M++)I.bl_tree[2*M]=0;I.dyn_ltree[2*E]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function nt(I){8<I.bi_valid?$(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ot(I,M,X,Q){var W=2*M,Y=2*X;return I[W]<I[Y]||I[W]===I[Y]&&Q[M]<=Q[X]}function lt(I,M,X){for(var Q=I.heap[X],W=X<<1;W<=I.heap_len&&(W<I.heap_len&&ot(M,I.heap[W+1],I.heap[W],I.depth)&&W++,!ot(M,Q,I.heap[W],I.depth));)I.heap[X]=I.heap[W],X=W,W<<=1;I.heap[X]=Q}function ct(I,M,X){var Q,W,Y,J,q=0;if(I.last_lit!==0)for(;Q=I.pending_buf[I.d_buf+2*q]<<8|I.pending_buf[I.d_buf+2*q+1],W=I.pending_buf[I.l_buf+q],q++,Q===0?L(I,W,M):(L(I,(Y=n[W])+o+1,M),(J=O[Y])!==0&&Z(I,W-=T[Y],J),L(I,Y=P(--Q),X),(J=k[Y])!==0&&Z(I,Q-=F[Y],J)),q<I.last_lit;);L(I,E,M)}function pt(I,M){var X,Q,W,Y=M.dyn_tree,J=M.stat_desc.static_tree,q=M.stat_desc.has_stree,it=M.stat_desc.elems,ft=-1;for(I.heap_len=0,I.heap_max=u,X=0;X<it;X++)Y[2*X]!==0?(I.heap[++I.heap_len]=ft=X,I.depth[X]=0):Y[2*X+1]=0;for(;I.heap_len<2;)Y[2*(W=I.heap[++I.heap_len]=ft<2?++ft:0)]=1,I.depth[W]=0,I.opt_len--,q&&(I.static_len-=J[2*W+1]);for(M.max_code=ft,X=I.heap_len>>1;1<=X;X--)lt(I,Y,X);for(W=it;X=I.heap[1],I.heap[1]=I.heap[I.heap_len--],lt(I,Y,1),Q=I.heap[1],I.heap[--I.heap_max]=X,I.heap[--I.heap_max]=Q,Y[2*W]=Y[2*X]+Y[2*Q],I.depth[W]=(I.depth[X]>=I.depth[Q]?I.depth[X]:I.depth[Q])+1,Y[2*X+1]=Y[2*Q+1]=W,I.heap[1]=W++,lt(I,Y,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(at,mt){var dt,ht,_t,ut,yt,Et,xt=mt.dyn_tree,Vt=mt.max_code,Ht=mt.stat_desc.static_tree,$t=mt.stat_desc.has_stree,Ft=mt.stat_desc.extra_bits,Xt=mt.stat_desc.extra_base,wt=mt.stat_desc.max_length,At=0;for(ut=0;ut<=v;ut++)at.bl_count[ut]=0;for(xt[2*at.heap[at.heap_max]+1]=0,dt=at.heap_max+1;dt<u;dt++)wt<(ut=xt[2*xt[2*(ht=at.heap[dt])+1]+1]+1)&&(ut=wt,At++),xt[2*ht+1]=ut,Vt<ht||(at.bl_count[ut]++,yt=0,Xt<=ht&&(yt=Ft[ht-Xt]),Et=xt[2*ht],at.opt_len+=Et*(ut+yt),$t&&(at.static_len+=Et*(Ht[2*ht+1]+yt)));if(At!==0){do{for(ut=wt-1;at.bl_count[ut]===0;)ut--;at.bl_count[ut]--,at.bl_count[ut+1]+=2,at.bl_count[wt]--,At-=2}while(0<At);for(ut=wt;ut!==0;ut--)for(ht=at.bl_count[ut];ht!==0;)Vt<(_t=at.heap[--dt])||(xt[2*_t+1]!==ut&&(at.opt_len+=(ut-xt[2*_t+1])*xt[2*_t],xt[2*_t+1]=ut),ht--)}}(I,M),st(Y,ft,I.bl_count)}function p(I,M,X){var Q,W,Y=-1,J=M[1],q=0,it=7,ft=4;for(J===0&&(it=138,ft=3),M[2*(X+1)+1]=65535,Q=0;Q<=X;Q++)W=J,J=M[2*(Q+1)+1],++q<it&&W===J||(q<ft?I.bl_tree[2*W]+=q:W!==0?(W!==Y&&I.bl_tree[2*W]++,I.bl_tree[2*z]++):q<=10?I.bl_tree[2*B]++:I.bl_tree[2*S]++,Y=W,ft=(q=0)===J?(it=138,3):W===J?(it=6,3):(it=7,4))}function V(I,M,X){var Q,W,Y=-1,J=M[1],q=0,it=7,ft=4;for(J===0&&(it=138,ft=3),Q=0;Q<=X;Q++)if(W=J,J=M[2*(Q+1)+1],!(++q<it&&W===J)){if(q<ft)for(;L(I,W,I.bl_tree),--q!=0;);else W!==0?(W!==Y&&(L(I,W,I.bl_tree),q--),L(I,z,I.bl_tree),Z(I,q-3,2)):q<=10?(L(I,B,I.bl_tree),Z(I,q-3,3)):(L(I,S,I.bl_tree),Z(I,q-11,7));Y=W,ft=(q=0)===J?(it=138,3):W===J?(it=6,3):(it=7,4)}}f(F);var K=!1;function U(I,M,X,Q){Z(I,(g<<1)+(Q?1:0),3),function(W,Y,J,q){nt(W),q&&($(W,J),$(W,~J)),t.arraySet(W.pending_buf,W.window,Y,J,W.pending),W.pending+=J}(I,M,X,!0)}e._tr_init=function(I){K||(function(){var M,X,Q,W,Y,J=new Array(v+1);for(W=Q=0;W<s-1;W++)for(T[W]=Q,M=0;M<1<<O[W];M++)n[Q++]=W;for(n[Q-1]=W,W=Y=0;W<16;W++)for(F[W]=Y,M=0;M<1<<k[W];M++)w[Y++]=W;for(Y>>=7;W<i;W++)for(F[W]=Y<<7,M=0;M<1<<k[W]-7;M++)w[256+Y++]=W;for(X=0;X<=v;X++)J[X]=0;for(M=0;M<=143;)x[2*M+1]=8,M++,J[8]++;for(;M<=255;)x[2*M+1]=9,M++,J[9]++;for(;M<=279;)x[2*M+1]=7,M++,J[7]++;for(;M<=287;)x[2*M+1]=8,M++,J[8]++;for(st(x,a+1,J),M=0;M<i;M++)h[2*M+1]=5,h[2*M]=et(M,5);C=new G(x,O,o+1,a,v),b=new G(h,k,0,i,v),H=new G(new Array(0),_,0,c,A)}(),K=!0),I.l_desc=new N(I.dyn_ltree,C),I.d_desc=new N(I.dyn_dtree,b),I.bl_desc=new N(I.bl_tree,H),I.bi_buf=0,I.bi_valid=0,rt(I)},e._tr_stored_block=U,e._tr_flush_block=function(I,M,X,Q){var W,Y,J=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(q){var it,ft=4093624447;for(it=0;it<=31;it++,ft>>>=1)if(1&ft&&q.dyn_ltree[2*it]!==0)return l;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return r;for(it=32;it<o;it++)if(q.dyn_ltree[2*it]!==0)return r;return l}(I)),pt(I,I.l_desc),pt(I,I.d_desc),J=function(q){var it;for(p(q,q.dyn_ltree,q.l_desc.max_code),p(q,q.dyn_dtree,q.d_desc.max_code),pt(q,q.bl_desc),it=c-1;3<=it&&q.bl_tree[2*R[it]+1]===0;it--);return q.opt_len+=3*(it+1)+5+5+4,it}(I),W=I.opt_len+3+7>>>3,(Y=I.static_len+3+7>>>3)<=W&&(W=Y)):W=Y=X+5,X+4<=W&&M!==-1?U(I,M,X,Q):I.strategy===4||Y===W?(Z(I,2+(Q?1:0),3),ct(I,x,h)):(Z(I,4+(Q?1:0),3),function(q,it,ft,at){var mt;for(Z(q,it-257,5),Z(q,ft-1,5),Z(q,at-4,4),mt=0;mt<at;mt++)Z(q,q.bl_tree[2*R[mt]+1],3);V(q,q.dyn_ltree,it-1),V(q,q.dyn_dtree,ft-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,J+1),ct(I,I.dyn_ltree,I.dyn_dtree)),rt(I),Q&&nt(I)},e._tr_tally=function(I,M,X){return I.pending_buf[I.d_buf+2*I.last_lit]=M>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&M,I.pending_buf[I.l_buf+I.last_lit]=255&X,I.last_lit++,M===0?I.dyn_ltree[2*X]++:(I.matches++,M--,I.dyn_ltree[2*(n[X]+o+1)]++,I.dyn_dtree[2*P(M)]++),I.last_lit===I.lit_bufsize-1},e._tr_align=function(I){Z(I,2,3),L(I,E,x),function(M){M.bi_valid===16?($(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(y,m,e){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(y,m,e){(function(t){(function(l,r){if(!l.setImmediate){var f,g,s,o,a=1,i={},c=!1,u=l.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(l);v=v&&v.setTimeout?v:l,f={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){A(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,B=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=B,z}}()?(o="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",E,!1):l.attachEvent("onmessage",E),function(z){l.postMessage(o+z,"*")}):l.MessageChannel?((s=new MessageChannel).port1.onmessage=function(z){A(z.data)},function(z){s.port2.postMessage(z)}):u&&"onreadystatechange"in u.createElement("script")?(g=u.documentElement,function(z){var B=u.createElement("script");B.onreadystatechange=function(){A(z),B.onreadystatechange=null,g.removeChild(B),B=null},g.appendChild(B)}):function(z){setTimeout(A,0,z)},v.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var B=new Array(arguments.length-1),S=0;S<B.length;S++)B[S]=arguments[S+1];var O={callback:z,args:B};return i[a]=O,f(a),a++},v.clearImmediate=d}function d(z){delete i[z]}function A(z){if(c)setTimeout(A,0,z);else{var B=i[z];if(B){c=!0;try{(function(S){var O=S.callback,k=S.args;switch(k.length){case 0:O();break;case 1:O(k[0]);break;case 2:O(k[0],k[1]);break;case 3:O(k[0],k[1],k[2]);break;default:O.apply(r,k)}})(B)}finally{d(z),c=!1}}}}function E(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(o)===0&&A(+z.data.slice(o.length))}})(typeof self=="undefined"?t===void 0?this:t:self)}).call(this,typeof Tt!="undefined"?Tt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(Pe);var _r=Pe.exports,Le={exports:{}};(function(j,D){(function(y,m){m()})(Tt,function(){function y(g,s){return typeof s=="undefined"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g}function m(g,s,o){var a=new XMLHttpRequest;a.open("GET",g),a.responseType="blob",a.onload=function(){f(a.response,s,o)},a.onerror=function(){console.error("could not download file")},a.send()}function e(g){var s=new XMLHttpRequest;s.open("HEAD",g,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function t(g){try{g.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),g.dispatchEvent(s)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Tt=="object"&&Tt.global===Tt?Tt:void 0,r=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(g,s,o){var a=l.URL||l.webkitURL,i=document.createElement("a");s=s||g.name||"download",i.download=s,i.rel="noopener",typeof g=="string"?(i.href=g,i.origin===location.origin?t(i):e(i.href)?m(g,s,o):t(i,i.target="_blank")):(i.href=a.createObjectURL(g),setTimeout(function(){a.revokeObjectURL(i.href)},4e4),setTimeout(function(){t(i)},0))}:"msSaveOrOpenBlob"in navigator?function(g,s,o){if(s=s||g.name||"download",typeof g!="string")navigator.msSaveOrOpenBlob(y(g,o),s);else if(e(g))m(g,s,o);else{var a=document.createElement("a");a.href=g,a.target="_blank",setTimeout(function(){t(a)})}}:function(g,s,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof g=="string")return m(g,s,o);var i=g.type==="application/octet-stream",c=/constructor/i.test(l.HTMLElement)||l.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&c||r)&&typeof FileReader!="undefined"){var v=new FileReader;v.onloadend=function(){var E=v.result;E=u?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=E:location=E,a=null},v.readAsDataURL(g)}else{var d=l.URL||l.webkitURL,A=d.createObjectURL(g);a?a.location=A:location.href=A,a=null,setTimeout(function(){d.revokeObjectURL(A)},4e4)}});l.saveAs=f.saveAs=f,j.exports=f})})(Le);const br={class:"image-progess-wrap"},yr={class:"container"},wr={class:"row"},kr={class:"col-12"},xr=tt("h2",null,"\u5716\u7247\u8655\u7406\u5DE5\u5177 (\u7D14\u700F\u89BD\u5668\u64CD\u4F5C)",-1),Ar={class:"table-wrap"},Cr={class:"file-table"},Er={colspan:"4",class:"col-origin"},Sr=tt("span",null,"\u4E0A\u50B3\u5716\u7247 (\u53EF\u63A5\u53D7\u7684\u5716\u7247\u683C\u5F0F\uFF1AJPEG, PNG, WebP)",-1),zr=tt("th",{colspan:"1",class:"col-file"},[tt("span",null,"\u8ABF\u6574\u5716\u7247\u6A94\u540D")],-1),Ir=tt("th",{colspan:"4",class:"col-width"},[tt("span",null,"\u8ABF\u6574\u5716\u7247\u5C3A\u5BF8")],-1),Tr={colspan:"4",class:"col-size"},Ur=tt("span",null,"\u58D3\u7E2E\u5716\u7247",-1),Br={class:"flex-row align-items-center gap-2"},Rr={colspan:"4",class:"col-type"},Fr=tt("span",null,"\u8F49\u63DB\u5716\u7247\u683C\u5F0F",-1),Or={class:"flex-row align-items-center gap-2"},Dr=tt("th",{class:"col-origin text-center",width:"2%"},"#",-1),Pr=tt("th",{class:"col-origin text-center",width:"6%"},"\u683C\u5F0F\u652F\u63F4",-1),Lr=tt("th",{class:"col-origin text-center",width:"3%"},"\u9810\u89BD",-1),Nr=tt("th",{class:"col-origin",width:"16%"},"\u539F\u59CB\u8CC7\u8A0A",-1),Mr=tt("th",{class:"col-file",width:"16%"},"\u91CD\u65B0\u547D\u540D",-1),jr={class:"col-width",width:"10%"},Wr={class:"flex-row align-items-center gap-2 mt-2"},Hr=tt("span",null,"\u5168\u8A2D",-1),Zr=tt("th",{class:"col-width text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),Gr=tt("th",{class:"col-width text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),Kr=tt("th",{class:"col-width text-center",width:"3%"},"zip",-1),Vr={class:"col-size text-center",width:"5%"},$r={class:"flex-row align-items-center justify-content-center gap-2 mt-2"},Xr=tt("span",null,"\u5168\u9078",-1),Qr=tt("th",{class:"col-size text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),Yr=tt("th",{class:"col-size text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),qr=tt("th",{class:"col-size text-center",width:"3%"},"zip",-1),Jr={class:"col-type",width:"8%"},tn={class:"flex-row align-items-center gap-2 mt-2"},en=tt("option",{value:""},"\u8ACB\u9078\u64C7",-1),rn=["value"],nn=tt("th",{class:"col-type text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),an=tt("th",{class:"col-type text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),sn=tt("th",{class:"col-type text-center",width:"3%"},"zip",-1),on={class:"col-origin text-center"},ln={class:"col-origin text-center"},cn=tt("span",null,"\u4E0D\u652F\u63F4",-1),fn=["title"],un={class:"col-origin text-center"},hn={class:"image-wrap"},dn=["src"],pn={class:"col-origin"},mn=tt("br",null,null,-1),gn={class:"text-body-secondary"},vn={class:"col-file"},_n=["onUpdate:modelValue","disabled"],bn={class:"col-width"},yn=["onUpdate:modelValue","disabled"],wn={class:"col-width text-end"},kn={class:"col-width text-center"},xn={key:0,class:"material-symbols-rounded animate-rotate"},An={key:0,class:"material-symbols-rounded text-success"},Cn={class:"col-width text-center"},En={key:0,class:"material-symbols-rounded"},Sn={class:"col-size text-center"},zn=["onUpdate:modelValue","disabled"],In={class:"col-size text-end"},Tn={class:"col-size text-center"},Un={key:0,class:"material-symbols-rounded animate-rotate"},Bn={key:0,class:"material-symbols-rounded text-success"},Rn={class:"col-size text-center"},Fn={key:0,class:"material-symbols-rounded"},On={class:"col-type"},Dn=["onUpdate:modelValue","disabled"],Pn=["value"],Ln={class:"col-type text-end"},Nn={class:"col-type text-center"},Mn={key:0,class:"material-symbols-rounded animate-rotate"},jn={key:0,class:"material-symbols-rounded text-success"},Wn={class:"col-type text-center"},Hn={key:0,class:"material-symbols-rounded"},Zn={class:"btns-wrap"},Gn=["disabled"],Kn=["disabled"],Xn={__name:"ImageProcessor",setup(j){const D=Ut([]);let y=0,m=Ut(null);const e=Ut(0),t=Ut(!1),l=Ut(""),r=["WEBP","JPG","PNG"],f=Ut(1),g=Ut(.8);function s(x){if(!x)return"\u672A\u77E5";const h=String(x).toLowerCase();return h==="jpeg"?"jpg":h}function o(x){if(!x||x==="\u672A\u77E5")return"";const h=x.toLowerCase();return h==="jpg"||h==="jpeg"?"image/jpeg":`image/${h}`}async function a(x){try{const h=await createImageBitmap(x),{width:w,height:n}=h;return h.close(),{width:w,height:n}}catch{return{width:0,height:0}}}function i(x){if(!x)return!1;const h=s(x);return r.some(w=>w.toUpperCase()===h.toUpperCase())}function c(x,h){return new Promise((w,n)=>{try{new vr(x,{...h,success(T){w(T)},error(T){n(T)}})}catch(T){n(T)}})}async function u(x,h){return new Promise((w,n)=>{const T=new FileReader;T.onload=C=>{const b=new Image;b.onload=()=>{const H=Math.round(h*(b.height/b.width)),F=document.createElement("canvas");F.width=h,F.height=H,F.getContext("2d").drawImage(b,0,0,h,H),F.toBlob(N=>{w(N)},x.type||"image/png")},b.onerror=n,b.src=C.target.result},T.onerror=n,T.readAsDataURL(x)})}async function v(){for(const x of D.value){if(!x.isSupported)continue;const h=Number(x.originalWidth)||0,w=Number(x.resizeWidth)||h,n=w!==h;if(!n)continue;x.isResizeLoading=!0;let T=null;if(x.originalFile)T=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{let C=T;n&&(C=await u(T,w)),x.resizeSize=Math.round(C.size/1024),x.resizeBlob=C,x.isResizeStatus=!0}catch(C){console.warn(`\u5C3A\u5BF8\u8ABF\u6574\u5931\u6557 ${x.originalName}.${x.originalExt}:`,C),x.resizeSize="",x.resizeBlob=null,x.isResizeStatus=!1}finally{x.isResizeLoading=!1}}}async function d(){for(const x of D.value){if(!x.isSupported||!x.isNeedCompress)continue;x.isCompressedLoading=!0;let h=x.isResizeStatus&&x.resizeSize&&x.resizeBlob,w=null;if(h)w=x.resizeBlob;else if(x.originalFile)w=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{const n=x.originalExt,T=w.type&&w.type.startsWith("image/")?w.type:o(n),C={useWebWorker:!0,initialQuality:f.value,fileType:T};let b=w;try{const H=await c(w,C);b=H instanceof Blob?H:w}catch(H){console.warn("imageCompression failed, using target file",H)}x.compressedSize=Math.round(b.size/1024),x.compressedBlob=b,x.isCompressedStatus=!0}catch(n){console.warn(`\u58D3\u7E2E/\u8ABF\u6574\u5931\u6557 ${x.originalName}.${x.originalExt}:`,n),x.compressedSize="",x.compressedBlob=null,x.isCompressedStatus=!1}finally{x.isCompressedLoading=!1}}}async function A(){for(const x of D.value){if(!x.isSupported)continue;const h=o(x.convertType),w=o(x.originalExt);if(h===w)continue;x.isConvertTypeLoading=!0;let n=x.isCompressedStatus&&x.compressedSize&&x.compressedBlob,T=x.isResizeStatus&&x.resizeSize&&x.resizeBlob,C=null;if(T&&n)C=x.compressedBlob;else if(T&&!n)C=x.resizeBlob;else if(n&&!T)C=x.compressedBlob;else if(x.originalFile)C=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{const b={useWebWorker:!0,initialQuality:f.value,fileType:h};let H=C;try{const F=await bt(C,b);H=F instanceof Blob?F:C}catch(F){console.warn("imageCompression failed, using target file",F)}x.convertTypeSize=Math.round(H.size/1024),x.convertTypeBlob=H,x.isConvertTypeStatus=!0}catch(b){console.warn(`\u683C\u5F0F\u8F49\u63DB\u5931\u6557 ${x.originalName}.${x.originalExt}:`,b),x.convertTypeSize="",x.convertTypeBlob=null,x.isConvertTypeStatus=!1}finally{x.isConvertTypeLoading=!1}}}function E(x,h,w,n,T){const C=s(w),b=C!=="\u672A\u77E5"?`${h}.${C}`:`${h}_${T}`;x.file(b,n)}async function z(x){for(const h of D.value){const w=h.newName&&String(h.newName).trim()!==""?String(h.newName).trim().replace(/\.[^/.]+$/,""):h.originalName;let n=h.isCompressedStatus&&h.compressedBlob,T=h.isResizeStatus&&h.resizeBlob,C=h.isConvertTypeStatus&&h.convertTypeBlob;n&&T&&C?(E(x,w,h.originalExt,h.compressedBlob,"resize_compress_error"),h.isCompressedPacked=!0,E(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):T&&C&&!n?(E(x,w,h.originalExt,h.resizeBlob,"resize_error"),h.isResizePacked=!0,E(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):n&&C&&!T?(E(x,w,h.originalExt,h.compressedBlob,"compress_error"),h.isCompressedPacked=!0,E(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):n&&T&&!C?(E(x,w,h.originalExt,h.compressedBlob,"resize_compress_error"),h.isCompressedPacked=!0):C&&!n&&!T?(E(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):T&&!n&&!C?(E(x,w,h.originalExt,h.resizeBlob,"resize_error"),h.isResizePacked=!0):n&&!T&&!C&&(E(x,w,h.originalExt,h.compressedBlob,"compress_error"),h.isCompressedPacked=!0)}}function B(){for(const x of D.value)!x.isSupported||(e.value!=0?x.resizeWidth=e.value:x.resizeWidth=x.originalWidth)}function S(){for(const x of D.value)!x.isSupported||(t.value?x.isNeedCompress=!0:x.isNeedCompress=!1)}function O(){for(const x of D.value)!x.isSupported||(l.value!=""?x.convertType=l.value:x.convertType=x.originalType)}async function k(x){const h=x.target.files;if(!(!h||h.length===0)){for(const w of h){const{width:n,height:T}=await a(w),C=Math.round(w.size/1024),b=w.name.split("."),H=b.length>1?b.pop():"",F=s(H),G=b.length>0?b.join("."):w.name;let N="\u672A\u77E5";if(w.type){const L=w.type.split("/");if(L.length===2){let et=L[1].toUpperCase();et==="JPEG"&&(et="JPG"),N=et}}N==="\u672A\u77E5"&&F!=="\u672A\u77E5"&&(N=F.toUpperCase());const P=i(F);let $="";if(w.type&&w.type.startsWith("image/"))try{$=URL.createObjectURL(w)}catch{$=""}const Z=Ut({id:++y,originalFile:w,previewUrl:$,originalFullName:w.name,originalName:G,newName:G,originalWidth:n,originalHeight:T,originalSize:C,originalExt:F,originalType:N,isSupported:P,compressedSize:"",compressedBlob:null,isNeedCompress:!1,isCompressedPacked:!1,isCompressedStatus:!1,isCompressedLoading:!1,resizeWidth:n,resizeHeight:T,resizeSize:"",resizeBlob:null,isResizePacked:!1,isResizeStatus:!1,isResizeLoading:!1,convertType:N,convertTypeSize:"",convertTypeBlob:null,isConvertTypePacked:!1,isConvertTypeStatus:!1,isConvertTypeLoading:!1});D.value.push(Z.value),He(Z,L=>{const et=L.originalWidth,st=L.resizeWidth;L.resizeHeight=Math.round(st*(L.originalHeight/et))},{deep:!0})}x.target.value=""}}async function _(){if(D.value.length===0){alert("\u8ACB\u5148\u4E0A\u50B3\u5716\u7247");return}try{m.value=new _r;const x=m.value.folder("converted-images");await v(),await d(),await A(),await z(x)}catch(x){console.error("\u8F49\u63DB\u5931\u6557:",x),alert("\u5716\u7247\u8F49\u63DB\u5931\u6557\uFF1A"+x.message)}}async function R(){if(!m.value){alert("\u8ACB\u5148\u9EDE\u64CA\u300C\u8F49\u63DB\u300D\u6309\u9215");return}const x=await m.value.generateAsync({type:"blob"});Le.exports.saveAs(x,"converted-images.zip"),m.value=null}return Ne(()=>{new Me(document.body,{selector:"[data-bs-toggle='tooltip']"}),je(()=>{})}),(x,h)=>(gt(),vt("div",br,[tt("div",yr,[tt("div",wr,[tt("div",kr,[xr,tt("div",Ar,[tt("table",Cr,[tt("tr",null,[tt("th",Er,[Sr,tt("input",{type:"file",accept:"image/*",onChange:k,multiple:""},null,32)]),zr,Ir,tt("th",Tr,[Ur,tt("label",Br,[Pt(" \u54C1\u8CEA\uFF1A "),It(tt("input",{type:"range",min:"0.1",max:"1",step:"0.1","onUpdate:modelValue":h[0]||(h[0]=w=>f.value=w)},null,512),[[Gt,f.value,void 0,{number:!0}]]),tt("span",null,Ct(f.value*100)+"%",1)])]),tt("th",Rr,[Fr,tt("label",Or,[Pt(" \u54C1\u8CEA\uFF1A "),It(tt("input",{type:"range",min:"0.1",max:"1",step:"0.1","onUpdate:modelValue":h[1]||(h[1]=w=>g.value=w)},null,512),[[Gt,g.value,void 0,{number:!0}]]),tt("span",null,Ct(g.value*100)+"%",1)])])]),tt("tr",null,[Dr,Pr,Lr,Nr,Mr,tt("th",jr,[Pt(" \u8ABF\u6574\u5C3A\u5BF8 "),tt("label",Wr,[Hr,It(tt("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":h[2]||(h[2]=w=>e.value=w),onChange:B},null,544),[[Gt,e.value,void 0,{number:!0}]])])]),Zr,Gr,Kr,tt("th",Vr,[Pt(" \u662F\u5426\u58D3\u7E2E "),tt("label",$r,[It(tt("input",{type:"checkbox","onUpdate:modelValue":h[3]||(h[3]=w=>t.value=w),onChange:S},null,544),[[pe,t.value]]),Xr])]),Qr,Yr,qr,tt("th",Jr,[Pt(" \u8F49\u6A94\u683C\u5F0F "),tt("label",tn,[It(tt("select",{class:"form-select","onUpdate:modelValue":h[4]||(h[4]=w=>l.value=w),onChange:O},[en,(gt(),vt(Lt,null,se(r,w=>tt("option",{key:`all-${w}`,value:w},Ct(w),9,rn)),64))],544),[[me,l.value]])])]),nn,an,sn]),(gt(!0),vt(Lt,null,se(D.value,w=>(gt(),vt("tr",{key:w.id},[tt("td",on,Ct(w.id),1),tt("td",ln,[w.isSupported?Bt("",!0):(gt(),vt(Lt,{key:0},[cn,tt("span",{class:"material-symbols-rounded","data-bs-container":"body","data-bs-toggle":"tooltip","data-bs-placement":"right",title:`\u4E0D\u652F\u63F4 ${w.originalType} \u683C\u5F0F`},"info",8,fn)],64))]),tt("td",un,[tt("div",hn,[w.previewUrl?(gt(),vt("img",{key:0,src:w.previewUrl},null,8,dn)):Bt("",!0)])]),tt("td",pn,[Pt(Ct(w.originalFullName),1),mn,tt("span",gn,Ct(w.originalWidth)+" x "+Ct(w.originalHeight)+" ("+Ct(w.originalSize)+" KB) ",1)]),tt("td",vn,[It(tt("input",{type:"text",class:"form-control","onUpdate:modelValue":n=>w.newName=n,disabled:!w.isSupported},null,8,_n),[[Gt,w.newName]])]),tt("td",bn,[It(tt("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":n=>w.resizeWidth=n,disabled:!w.isSupported},null,8,yn),[[Gt,w.resizeWidth]]),Pt(" x "+Ct(w.resizeHeight),1)]),tt("td",wn,Ct(w.resizeSize),1),tt("td",kn,[w.isResizeLoading?(gt(),vt("span",xn,"progress_activity")):(gt(),vt(Lt,{key:1},[w.isResizeStatus?(gt(),vt("span",An,"check")):Bt("",!0)],64))]),tt("td",Cn,[w.isResizePacked?(gt(),vt("span",En,"folder_zip")):Bt("",!0)]),tt("td",Sn,[It(tt("input",{type:"checkbox","onUpdate:modelValue":n=>w.isNeedCompress=n,disabled:!w.isSupported},null,8,zn),[[pe,w.isNeedCompress]])]),tt("td",In,Ct(w.compressedSize),1),tt("td",Tn,[w.isCompressedLoading?(gt(),vt("span",Un,"progress_activity")):(gt(),vt(Lt,{key:1},[w.isCompressedStatus?(gt(),vt("span",Bn,"check")):Bt("",!0)],64))]),tt("td",Rn,[w.isCompressedPacked?(gt(),vt("span",Fn,"folder_zip")):Bt("",!0)]),tt("td",On,[It(tt("select",{class:"form-select","onUpdate:modelValue":n=>w.convertType=n,disabled:!w.isSupported},[(gt(),vt(Lt,null,se(r,n=>tt("option",{key:n,value:n},Ct(n),9,Pn)),64))],8,Dn),[[me,w.convertType]])]),tt("td",Ln,Ct(w.convertTypeSize),1),tt("td",Nn,[w.isConvertTypeLoading?(gt(),vt("span",Mn,"progress_activity")):(gt(),vt(Lt,{key:1},[w.isConvertTypeStatus?(gt(),vt("span",jn,"check")):Bt("",!0)],64))]),tt("td",Wn,[w.isConvertTypePacked?(gt(),vt("span",Hn,"folder_zip")):Bt("",!0)])]))),128))])]),tt("div",Zn,[tt("button",{class:"btn btn-dark",disabled:D.value.length===0,onClick:_},"\u8F49\u63DB\u6A94\u6848",8,Gn),tt("button",{class:"btn btn-dark",disabled:!We(m),onClick:R},"\u4E0B\u8F09zip\u6A94\u6848",8,Kn)])])])])]))}};export{Xn as default};
