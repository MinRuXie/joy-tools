import{N as y,M as v,a as b,c as m,b as t,t as u,e as s,r as h,i as C,g as A,h as H,d as _,L as g,O as U,o as T}from"./index.595c1e94.js";import{_ as f}from"./plugin-vue_export-helper.21dcd24c.js";const E={name:"TheSon",props:["car"],emits:["eventUpdateHobby","eventAddCar"],setup(a,n){let d=y("person"),e=v(a,"car");function r(){n.emit("eventUpdateHobby")}function i(){let o={name:"\u6CD5\u62C9\u5229",price:100};n.emit("eventAddCar",o)}return{person:d,initCar:e,updateHobby:r,addCar:i}}},V={class:"son"},R=t("h4",null,"Son\u5B50\u7D44\u4EF6",-1);function S(a,n,d,e,r,i){return b(),m("div",V,[R,t("ul",null,[t("li",null,u(e.person),1),t("li",null,u(e.initCar),1)]),t("button",{onClick:n[0]||(n[0]=(...o)=>e.updateHobby&&e.updateHobby(...o))},"\u4FEE\u6539\u8208\u8DA3"),t("button",{onClick:n[1]||(n[1]=(...o)=>e.addCar&&e.addCar(...o))},"\u65B0\u589E\u4E00\u53F0\u8ECA")])}var k=f(E,[["render",S]]);const x={name:"TheChild",components:{TheSon:k},props:["modelValue","age","car"],emits:["update:modelValue","eventUpdateAge","eventUpdateHobby","eventAddCar"],setup(a,n){let d=s(null);console.log("props",a);let e=v(a.age),r=v(a,"car");function i(){n.emit("eventUpdateAge",e.value)}function o(){n.emit("eventUpdateHobby")}function l(c){n.emit("eventAddCar",c)}return{childRef:d,initAge:e,initCar:r,updateAge:i,updateHobby:o,addCar:l}}},B={class:"child"},D={ref:"childRef"},N=["value"];function M(a,n,d,e,r,i){const o=h("TheSon");return b(),m("div",B,[t("h3",D,"Child\u5B50\u7D44\u4EF6",512),t("ul",null,[t("li",null,[C("\u59D3\u540D: "),t("input",{type:"text",value:d.modelValue,onInput:n[0]||(n[0]=l=>a.$emit("update:modelValue",l.target.value))},null,40,N)]),t("li",null,[C("\u5E74\u9F61: "),A(t("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=l=>e.initAge=l),onChange:n[2]||(n[2]=(...l)=>e.updateAge&&e.updateAge(...l))},null,544),[[H,e.initAge]])])]),_(o,{onEventUpdateHobby:e.updateHobby,car:e.initCar,onEventAddCar:e.addCar},null,8,["onEventUpdateHobby","car","onEventAddCar"])])}var j=f(x,[["render",M]]);const P={name:"DashBoard",components:{TheChild:j},setup(){let a=s(null),n=g({name:"\u674E\u56DB",age:38,hobby:["\u770B\u96FB\u8996","\u7761\u89BA"]}),d=s("\u5F35\u4E09"),e=s(18),r=g([{name:"\u5954\u99B3",price:40}]);function i(p){e.value=p}function o(){n.hobby[0]+="~"}function l(p){r.push(p)}function c(){console.log("\u4F86\u81EA\u5B50\u7D44\u4EF6\u7684ref",a.value.childRef)}return U("person",n),T(()=>{console.log(a.value)}),{parentRef:a,person:n,name:d,age:e,car:r,updateAge:i,updateHobby:o,addCar:l,getChildRef:c}}},w={class:"parent"},I=t("h2",null,"DashBoard\u5B50\u7D44\u4EF6",-1);function L(a,n,d,e,r,i){const o=h("TheChild");return b(),m("div",w,[I,t("ul",null,[t("li",null,"person: "+u(e.person),1),t("li",null,"\u59D3\u540D: "+u(e.name)+" ( "+u(e.age)+" )",1),t("li",null,"car: "+u(e.car),1)]),t("button",{onClick:n[0]||(n[0]=(...l)=>e.getChildRef&&e.getChildRef(...l))},"\u53D6\u5F97Child\u7D44\u4EF6\u7684childRef\u5143\u7D20"),_(o,{ref:"parentRef",modelValue:e.name,"onUpdate:modelValue":n[1]||(n[1]=l=>e.name=l),age:e.age,onEventUpdateAge:e.updateAge,onEventUpdateHobby:e.updateHobby,car:e.car,onEventAddCar:e.addCar},null,8,["modelValue","age","onEventUpdateAge","onEventUpdateHobby","car","onEventAddCar"])])}var z=f(P,[["render",L]]);export{z as default};
