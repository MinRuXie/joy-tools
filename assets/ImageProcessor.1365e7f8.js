import{e as Ut,o as Le,T as Ne,p as Me,a as gt,c as _t,b as tt,i as Dt,g as It,h as Zt,t as Ct,v as pe,q as me,F as Pt,k as se,u as We,w as je,x as Tt}from"./index.dd2c51a9.js";import{c as Qt,b as Xt}from"./_commonjsHelpers.468b0bfa.js";function He(W,D){return D.forEach(function(y){y&&typeof y!="string"&&!Array.isArray(y)&&Object.keys(y).forEach(function(m){if(m!=="default"&&!(m in W)){var e=Object.getOwnPropertyDescriptor(y,m);Object.defineProperty(W,m,e.get?e:{enumerable:!0,get:function(){return y[m]}})}})}),Object.freeze(W)}function xe(W,D){return new Promise(function(y,m){let e;return Ze(W).then(function(t){try{return e=t,y(new Blob([D.slice(0,2),e,D.slice(2)],{type:"image/jpeg"}))}catch(l){return m(l)}},m)})}const Ze=W=>new Promise((D,y)=>{const m=new FileReader;m.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let l=0;if(t.getUint16(l)!==65496)return y("not a valid JPEG");for(l+=2;;){const r=t.getUint16(l);if(r===65498)break;const f=t.getUint16(l+2);if(r===65505&&t.getUint32(l+4)===1165519206){const g=l+10;let s;switch(t.getUint16(g)){case 18761:s=!0;break;case 19789:s=!1;break;default:return y("TIFF header contains invalid endian")}if(t.getUint16(g+2,s)!==42)return y("TIFF header contains invalid version");const o=t.getUint32(g+4,s),a=g+o+2+12*t.getUint16(g+o,s);for(let i=g+o+2;i<a;i+=12)if(t.getUint16(i,s)==274){if(t.getUint16(i+2,s)!==3)return y("Orientation data type is invalid");if(t.getUint32(i+4,s)!==1)return y("Orientation data count is invalid");t.setUint16(i+8,1,s);break}return D(e.slice(l,l+2+f))}l+=2+f}return D(new Blob)}),m.readAsArrayBuffer(W)});var Jt={},Ge={get exports(){return Jt},set exports(W){Jt=W}};(function(W){var D,y,m={};Ge.exports=m,m.parse=function(e,t){for(var l=m.bin.readUshort,r=m.bin.readUint,f=0,g={},s=new Uint8Array(e),o=s.length-4;r(s,o)!=101010256;)o--;f=o,f+=4;var a=l(s,f+=4);l(s,f+=2);var i=r(s,f+=2),c=r(s,f+=4);f+=4,f=c;for(var u=0;u<a;u++){r(s,f),f+=4,f+=4,f+=4,r(s,f+=4),i=r(s,f+=4);var _=r(s,f+=4),p=l(s,f+=4),C=l(s,f+2),S=l(s,f+4);f+=6;var z=r(s,f+=8);f+=4,f+=p+C+S,m._readLocal(s,z,g,i,_,t)}return g},m._readLocal=function(e,t,l,r,f,g){var s=m.bin.readUshort,o=m.bin.readUint;o(e,t),s(e,t+=4),s(e,t+=2);var a=s(e,t+=2);o(e,t+=2),o(e,t+=4),t+=4;var i=s(e,t+=8),c=s(e,t+=2);t+=2;var u=m.bin.readUTF8(e,t,i);if(t+=i,t+=c,g)l[u]={size:f,csize:r};else{var _=new Uint8Array(e.buffer,t);if(a==0)l[u]=new Uint8Array(_.buffer.slice(t,t+r));else{if(a!=8)throw"unknown compression method: "+a;var p=new Uint8Array(f);m.inflateRaw(_,p),l[u]=p}}},m.inflateRaw=function(e,t){return m.F.inflate(e,t)},m.inflate=function(e,t){return e[0],e[1],m.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},m.deflate=function(e,t){t==null&&(t={level:6});var l=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[l]=120,r[l+1]=156,l+=2,l=m.F.deflateRaw(e,r,l,t.level);var f=m.adler(e,0,e.length);return r[l+0]=f>>>24&255,r[l+1]=f>>>16&255,r[l+2]=f>>>8&255,r[l+3]=f>>>0&255,new Uint8Array(r.buffer,0,l+4)},m.deflateRaw=function(e,t){t==null&&(t={level:6});var l=new Uint8Array(50+Math.floor(1.1*e.length)),r=m.F.deflateRaw(e,l,r,t.level);return new Uint8Array(l.buffer,0,r)},m.encode=function(e,t){t==null&&(t=!1);var l=0,r=m.bin.writeUint,f=m.bin.writeUshort,g={};for(var s in e){var o=!m._noNeed(s)&&!t,a=e[s],i=m.crc.crc(a,0,a.length);g[s]={cpr:o,usize:a.length,crc:i,file:o?m.deflateRaw(a):a}}for(var s in g)l+=g[s].file.length+30+46+2*m.bin.sizeUTF8(s);l+=22;var c=new Uint8Array(l),u=0,_=[];for(var s in g){var p=g[s];_.push(u),u=m._writeHeader(c,u,s,p,0)}var C=0,S=u;for(var s in g)p=g[s],_.push(u),u=m._writeHeader(c,u,s,p,1,_[C++]);var z=u-S;return r(c,u,101010256),u+=4,f(c,u+=4,C),f(c,u+=2,C),r(c,u+=2,z),r(c,u+=4,S),u+=4,u+=2,c.buffer},m._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},m._writeHeader=function(e,t,l,r,f,g){var s=m.bin.writeUint,o=m.bin.writeUshort,a=r.file;return s(e,t,f==0?67324752:33639248),t+=4,f==1&&(t+=2),o(e,t,20),o(e,t+=2,0),o(e,t+=2,r.cpr?8:0),s(e,t+=2,0),s(e,t+=4,r.crc),s(e,t+=4,a.length),s(e,t+=4,r.usize),o(e,t+=4,m.bin.sizeUTF8(l)),o(e,t+=2,0),t+=2,f==1&&(t+=2,t+=2,s(e,t+=6,g),t+=4),t+=m.bin.writeUTF8(e,t,l),f==0&&(e.set(a,t),t+=a.length),t},m.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var l=t,r=0;r<8;r++)1&l?l=3988292384^l>>>1:l>>>=1;e[t]=l}return e}(),update:function(e,t,l,r){for(var f=0;f<r;f++)e=m.crc.table[255&(e^t[l+f])]^e>>>8;return e},crc:function(e,t,l){return 4294967295^m.crc.update(4294967295,e,t,l)}},m.adler=function(e,t,l){for(var r=1,f=0,g=t,s=t+l;g<s;){for(var o=Math.min(g+5552,s);g<o;)f+=r+=e[g++];r%=65521,f%=65521}return f<<16|r},m.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,l){e[t]=255&l,e[t+1]=l>>8&255,e[t+2]=l>>16&255,e[t+3]=l>>24&255},readASCII:function(e,t,l){for(var r="",f=0;f<l;f++)r+=String.fromCharCode(e[t+f]);return r},writeASCII:function(e,t,l){for(var r=0;r<l.length;r++)e[t+r]=l.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,l){for(var r,f="",g=0;g<l;g++)f+="%"+m.bin.pad(e[t+g].toString(16));try{r=decodeURIComponent(f)}catch{return m.bin.readASCII(e,t,l)}return r},writeUTF8:function(e,t,l){for(var r=l.length,f=0,g=0;g<r;g++){var s=l.charCodeAt(g);if((4294967168&s)==0)e[t+f]=s,f++;else if((4294965248&s)==0)e[t+f]=192|s>>6,e[t+f+1]=128|s>>0&63,f+=2;else if((4294901760&s)==0)e[t+f]=224|s>>12,e[t+f+1]=128|s>>6&63,e[t+f+2]=128|s>>0&63,f+=3;else{if((4292870144&s)!=0)throw"e";e[t+f]=240|s>>18,e[t+f+1]=128|s>>12&63,e[t+f+2]=128|s>>6&63,e[t+f+3]=128|s>>0&63,f+=4}}return f},sizeUTF8:function(e){for(var t=e.length,l=0,r=0;r<t;r++){var f=e.charCodeAt(r);if((4294967168&f)==0)l++;else if((4294965248&f)==0)l+=2;else if((4294901760&f)==0)l+=3;else{if((4292870144&f)!=0)throw"e";l+=4}}return l}},m.F={},m.F.deflateRaw=function(e,t,l,r){var f=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],g=m.F.U,s=m.F._goodIndex;m.F._hash;var o=m.F._putsE,a=0,i=l<<3,c=0,u=e.length;if(r==0){for(;a<u;)o(t,i,a+(x=Math.min(65535,u-a))==u?1:0),i=m.F._copyExact(e,a,x,t,i+8),a+=x;return i>>>3}var _=g.lits,p=g.strt,C=g.prev,S=0,z=0,B=0,E=0,O=0,k=0;for(u>2&&(p[k=m.F._hash(e,0)]=0),a=0;a<u;a++){if(O=k,a+1<u-2){k=m.F._hash(e,a+1);var v=a+1&32767;C[v]=p[k],p[k]=v}if(c<=a){(S>14e3||z>26697)&&u-a>100&&(c<a&&(_[S]=a-c,S+=2,c=a),i=m.F._writeBlock(a==u-1||c==u?1:0,_,S,E,e,B,a-B,t,i),S=z=E=0,B=a);var R=0;a<u-2&&(R=m.F._bestMatch(e,a,C,O,Math.min(f[2],u-a),f[3]));var x=R>>>16,h=65535&R;if(R!=0){h=65535&R;var w=s(x=R>>>16,g.of0);g.lhst[257+w]++;var n=s(h,g.df0);g.dhst[n]++,E+=g.exb[w]+g.dxb[n],_[S]=x<<23|a-c,_[S+1]=h<<16|w<<8|n,S+=2,c=a+x}else g.lhst[e[a]]++;z++}}for(B==a&&e.length!=0||(c<a&&(_[S]=a-c,S+=2,c=a),i=m.F._writeBlock(1,_,S,E,e,B,a-B,t,i),S=0,z=0,S=z=E=0,B=a);(7&i)!=0;)i++;return i>>>3},m.F._bestMatch=function(e,t,l,r,f,g){var s=32767&t,o=l[s],a=s-o+32768&32767;if(o==s||r!=m.F._hash(e,t-a))return 0;for(var i=0,c=0,u=Math.min(32767,t);a<=u&&--g!=0&&o!=s;){if(i==0||e[t+i]==e[t+i-a]){var _=m.F._howLong(e,t,a);if(_>i){if(c=a,(i=_)>=f)break;a+2<_&&(_=a+2);for(var p=0,C=0;C<_-2;C++){var S=t-a+C+32768&32767,z=S-l[S]+32768&32767;z>p&&(p=z,o=S)}}}a+=(s=o)-(o=l[s])+32768&32767}return i<<16|c},m.F._howLong=function(e,t,l){if(e[t]!=e[t-l]||e[t+1]!=e[t+1-l]||e[t+2]!=e[t+2-l])return 0;var r=t,f=Math.min(e.length,t+258);for(t+=3;t<f&&e[t]==e[t-l];)t++;return t-r},m.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},m.saved=0,m.F._writeBlock=function(e,t,l,r,f,g,s,o,a){var i,c,u,_,p,C,S,z,B,E=m.F.U,O=m.F._putsF,k=m.F._putsE;E.lhst[256]++,c=(i=m.F.getTrees())[0],u=i[1],_=i[2],p=i[3],C=i[4],S=i[5],z=i[6],B=i[7];var v=32+((a+3&7)==0?0:8-(a+3&7))+(s<<3),R=r+m.F.contSize(E.fltree,E.lhst)+m.F.contSize(E.fdtree,E.dhst),x=r+m.F.contSize(E.ltree,E.lhst)+m.F.contSize(E.dtree,E.dhst);x+=14+3*S+m.F.contSize(E.itree,E.ihst)+(2*E.ihst[16]+3*E.ihst[17]+7*E.ihst[18]);for(var h=0;h<286;h++)E.lhst[h]=0;for(h=0;h<30;h++)E.dhst[h]=0;for(h=0;h<19;h++)E.ihst[h]=0;var w=v<R&&v<x?0:R<x?1:2;if(O(o,a,e),O(o,a+1,w),a+=3,w==0){for(;(7&a)!=0;)a++;a=m.F._copyExact(f,g,s,o,a)}else{var n,U;if(w==1&&(n=E.fltree,U=E.fdtree),w==2){m.F.makeCodes(E.ltree,c),m.F.revCodes(E.ltree,c),m.F.makeCodes(E.dtree,u),m.F.revCodes(E.dtree,u),m.F.makeCodes(E.itree,_),m.F.revCodes(E.itree,_),n=E.ltree,U=E.dtree,k(o,a,p-257),k(o,a+=5,C-1),k(o,a+=5,S-4),a+=4;for(var A=0;A<S;A++)k(o,a+3*A,E.itree[1+(E.ordr[A]<<1)]);a+=3*S,a=m.F._codeTiny(z,E.itree,o,a),a=m.F._codeTiny(B,E.itree,o,a)}for(var b=g,H=0;H<l;H+=2){for(var F=t[H],G=F>>>23,N=b+(8388607&F);b<N;)a=m.F._writeLit(f[b++],n,o,a);if(G!=0){var P=t[H+1],$=P>>16,Z=P>>8&255,L=255&P;k(o,a=m.F._writeLit(257+Z,n,o,a),G-E.of0[Z]),a+=E.exb[Z],O(o,a=m.F._writeLit(L,U,o,a),$-E.df0[L]),a+=E.dxb[L],b+=G}}a=m.F._writeLit(256,n,o,a)}return a},m.F._copyExact=function(e,t,l,r,f){var g=f>>>3;return r[g]=l,r[g+1]=l>>>8,r[g+2]=255-r[g],r[g+3]=255-r[g+1],g+=4,r.set(new Uint8Array(e.buffer,t,l),g),f+(l+4<<3)},m.F.getTrees=function(){for(var e=m.F.U,t=m.F._hufTree(e.lhst,e.ltree,15),l=m.F._hufTree(e.dhst,e.dtree,15),r=[],f=m.F._lenCodes(e.ltree,r),g=[],s=m.F._lenCodes(e.dtree,g),o=0;o<r.length;o+=2)e.ihst[r[o]]++;for(o=0;o<g.length;o+=2)e.ihst[g[o]]++;for(var a=m.F._hufTree(e.ihst,e.itree,7),i=19;i>4&&e.itree[1+(e.ordr[i-1]<<1)]==0;)i--;return[t,l,a,f,s,i,r,g]},m.F.getSecond=function(e){for(var t=[],l=0;l<e.length;l+=2)t.push(e[l+1]);return t},m.F.nonZero=function(e){for(var t="",l=0;l<e.length;l+=2)e[l+1]!=0&&(t+=(l>>1)+",");return t},m.F.contSize=function(e,t){for(var l=0,r=0;r<t.length;r++)l+=t[r]*e[1+(r<<1)];return l},m.F._codeTiny=function(e,t,l,r){for(var f=0;f<e.length;f+=2){var g=e[f],s=e[f+1];r=m.F._writeLit(g,t,l,r);var o=g==16?2:g==17?3:7;g>15&&(m.F._putsE(l,r,s,o),r+=o)}return r},m.F._lenCodes=function(e,t){for(var l=e.length;l!=2&&e[l-1]==0;)l-=2;for(var r=0;r<l;r+=2){var f=e[r+1],g=r+3<l?e[r+3]:-1,s=r+5<l?e[r+5]:-1,o=r==0?-1:e[r-1];if(f==0&&g==f&&s==f){for(var a=r+5;a+2<l&&e[a+2]==f;)a+=2;(i=Math.min(a+1-r>>>1,138))<11?t.push(17,i-3):t.push(18,i-11),r+=2*i-2}else if(f==o&&g==f&&s==f){for(a=r+5;a+2<l&&e[a+2]==f;)a+=2;var i=Math.min(a+1-r>>>1,6);t.push(16,i-3),r+=2*i-2}else t.push(f,0)}return l>>>1},m.F._hufTree=function(e,t,l){var r=[],f=e.length,g=t.length,s=0;for(s=0;s<g;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<f;s++)e[s]!=0&&r.push({lit:s,f:e[s]});var o=r.length,a=r.slice(0);if(o==0)return 0;if(o==1){var i=r[0].lit;return a=i==0?1:0,t[1+(i<<1)]=1,t[1+(a<<1)]=1,1}r.sort(function(z,B){return z.f-B.f});var c=r[0],u=r[1],_=0,p=1,C=2;for(r[0]={lit:-1,f:c.f+u.f,l:c,r:u,d:0};p!=o-1;)c=_!=p&&(C==o||r[_].f<r[C].f)?r[_++]:r[C++],u=_!=p&&(C==o||r[_].f<r[C].f)?r[_++]:r[C++],r[p++]={lit:-1,f:c.f+u.f,l:c,r:u};var S=m.F.setDepth(r[p-1],0);for(S>l&&(m.F.restrictDepth(a,l,S),S=l),s=0;s<o;s++)t[1+(a[s].lit<<1)]=a[s].d;return S},m.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(m.F.setDepth(e.l,t+1),m.F.setDepth(e.r,t+1))},m.F.restrictDepth=function(e,t,l){var r=0,f=1<<l-t,g=0;for(e.sort(function(o,a){return a.d==o.d?o.f-a.f:a.d-o.d}),r=0;r<e.length&&e[r].d>t;r++){var s=e[r].d;e[r].d=t,g+=f-(1<<l-s)}for(g>>>=l-t;g>0;)(s=e[r].d)<t?(e[r].d++,g-=1<<t-s-1):r++;for(;r>=0;r--)e[r].d==t&&g<0&&(e[r].d--,g++);g!=0&&console.log("debt left")},m.F._goodIndex=function(e,t){var l=0;return t[16|l]<=e&&(l|=16),t[8|l]<=e&&(l|=8),t[4|l]<=e&&(l|=4),t[2|l]<=e&&(l|=2),t[1|l]<=e&&(l|=1),l},m.F._writeLit=function(e,t,l,r){return m.F._putsF(l,r,t[e<<1]),r+t[1+(e<<1)]},m.F.inflate=function(e,t){var l=Uint8Array;if(e[0]==3&&e[1]==0)return t||new l(0);var r=m.F,f=r._bitsF,g=r._bitsE,s=r._decodeTiny,o=r.makeCodes,a=r.codes2map,i=r._get17,c=r.U,u=t==null;u&&(t=new l(e.length>>>2<<3));for(var _,p,C=0,S=0,z=0,B=0,E=0,O=0,k=0,v=0,R=0;C==0;)if(C=f(e,R,1),S=f(e,R+1,2),R+=3,S!=0){if(u&&(t=m.F._check(t,v+(1<<17))),S==1&&(_=c.flmap,p=c.fdmap,O=511,k=31),S==2){z=g(e,R,5)+257,B=g(e,R+5,5)+1,E=g(e,R+10,4)+4,R+=14;for(var x=0;x<38;x+=2)c.itree[x]=0,c.itree[x+1]=0;var h=1;for(x=0;x<E;x++){var w=g(e,R+3*x,3);c.itree[1+(c.ordr[x]<<1)]=w,w>h&&(h=w)}R+=3*E,o(c.itree,h),a(c.itree,h,c.imap),_=c.lmap,p=c.dmap,R=s(c.imap,(1<<h)-1,z+B,e,R,c.ttree);var n=r._copyOut(c.ttree,0,z,c.ltree);O=(1<<n)-1;var U=r._copyOut(c.ttree,z,B,c.dtree);k=(1<<U)-1,o(c.ltree,n),a(c.ltree,n,_),o(c.dtree,U),a(c.dtree,U,p)}for(;;){var A=_[i(e,R)&O];R+=15&A;var b=A>>>4;if(b>>>8==0)t[v++]=b;else{if(b==256)break;var H=v+b-254;if(b>264){var F=c.ldef[b-257];H=v+(F>>>3)+g(e,R,7&F),R+=7&F}var G=p[i(e,R)&k];R+=15&G;var N=G>>>4,P=c.ddef[N],$=(P>>>4)+f(e,R,15&P);for(R+=15&P,u&&(t=m.F._check(t,v+(1<<17)));v<H;)t[v]=t[v++-$],t[v]=t[v++-$],t[v]=t[v++-$],t[v]=t[v++-$];v=H}}}else{(7&R)!=0&&(R+=8-(7&R));var Z=4+(R>>>3),L=e[Z-4]|e[Z-3]<<8;u&&(t=m.F._check(t,v+L)),t.set(new l(e.buffer,e.byteOffset+Z,L),v),R=Z+L<<3,v+=L}return t.length==v?t:t.slice(0,v)},m.F._check=function(e,t){var l=e.length;if(t<=l)return e;var r=new Uint8Array(Math.max(l<<1,t));return r.set(e,0),r},m.F._decodeTiny=function(e,t,l,r,f,g){for(var s=m.F._bitsE,o=m.F._get17,a=0;a<l;){var i=e[o(r,f)&t];f+=15&i;var c=i>>>4;if(c<=15)g[a]=c,a++;else{var u=0,_=0;c==16?(_=3+s(r,f,2),f+=2,u=g[a-1]):c==17?(_=3+s(r,f,3),f+=3):c==18&&(_=11+s(r,f,7),f+=7);for(var p=a+_;a<p;)g[a]=u,a++}}return f},m.F._copyOut=function(e,t,l,r){for(var f=0,g=0,s=r.length>>>1;g<l;){var o=e[g+t];r[g<<1]=0,r[1+(g<<1)]=o,o>f&&(f=o),g++}for(;g<s;)r[g<<1]=0,r[1+(g<<1)]=0,g++;return f},m.F.makeCodes=function(e,t){for(var l,r,f,g,s=m.F.U,o=e.length,a=s.bl_count,i=0;i<=t;i++)a[i]=0;for(i=1;i<o;i+=2)a[e[i]]++;var c=s.next_code;for(l=0,a[0]=0,r=1;r<=t;r++)l=l+a[r-1]<<1,c[r]=l;for(f=0;f<o;f+=2)(g=e[f+1])!=0&&(e[f]=c[g],c[g]++)},m.F.codes2map=function(e,t,l){for(var r=e.length,f=m.F.U.rev15,g=0;g<r;g+=2)if(e[g+1]!=0)for(var s=g>>1,o=e[g+1],a=s<<4|o,i=t-o,c=e[g]<<i,u=c+(1<<i);c!=u;)l[f[c]>>>15-t]=a,c++},m.F.revCodes=function(e,t){for(var l=m.F.U.rev15,r=15-t,f=0;f<e.length;f+=2){var g=e[f]<<t-e[f+1];e[f]=l[g]>>>r}},m.F._putsE=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8},m.F._putsF=function(e,t,l){l<<=7&t;var r=t>>>3;e[r]|=l,e[r+1]|=l>>>8,e[r+2]|=l>>>16},m.F._bitsE=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<l)-1},m.F._bitsF=function(e,t,l){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<l)-1},m.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},m.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},m.F.U=(D=Uint16Array,y=Uint32Array,{next_code:new D(16),bl_count:new D(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new D(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new y(32),flmap:new D(512),fltree:[],fdmap:new D(32),fdtree:[],lmap:new D(32768),ltree:[],ttree:[],dmap:new D(32768),dtree:[],imap:new D(512),itree:[],rev15:new D(32768),lhst:new y(286),dhst:new y(30),ihst:new y(19),lits:new y(15e3),strt:new D(65536),prev:new D(32768)}),function(){for(var e=m.F.U,t=0;t<32768;t++){var l=t;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,e.rev15[t]=(l>>>16|l<<16)>>>17}function r(f,g,s){for(;g--!=0;)f.push(0,s)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),m.F.makeCodes(e.fltree,9),m.F.codes2map(e.fltree,9,e.flmap),m.F.revCodes(e.fltree,9),r(e.fdtree,32,5),m.F.makeCodes(e.fdtree,5),m.F.codes2map(e.fdtree,5,e.fdmap),m.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)}()})();var Ke=He({__proto__:null,default:Jt},[Jt]);const Et=function(){var W={nextZero(s,o){for(;s[o]!=0;)o++;return o},readUshort:(s,o)=>s[o]<<8|s[o+1],writeUshort(s,o,a){s[o]=a>>8&255,s[o+1]=255&a},readUint:(s,o)=>16777216*s[o]+(s[o+1]<<16|s[o+2]<<8|s[o+3]),writeUint(s,o,a){s[o]=a>>24&255,s[o+1]=a>>16&255,s[o+2]=a>>8&255,s[o+3]=255&a},readASCII(s,o,a){let i="";for(let c=0;c<a;c++)i+=String.fromCharCode(s[o+c]);return i},writeASCII(s,o,a){for(let i=0;i<a.length;i++)s[o+i]=a.charCodeAt(i)},readBytes(s,o,a){const i=[];for(let c=0;c<a;c++)i.push(s[o+c]);return i},pad:s=>s.length<2?`0${s}`:s,readUTF8(s,o,a){let i,c="";for(let u=0;u<a;u++)c+=`%${W.pad(s[o+u].toString(16))}`;try{i=decodeURIComponent(c)}catch{return W.readASCII(s,o,a)}return i}};function D(s,o,a,i){const c=o*a,u=t(i),_=Math.ceil(o*u/8),p=new Uint8Array(4*c),C=new Uint32Array(p.buffer),{ctype:S}=i,{depth:z}=i,B=W.readUshort;if(S==6){const F=c<<2;if(z==8)for(var E=0;E<F;E+=4)p[E]=s[E],p[E+1]=s[E+1],p[E+2]=s[E+2],p[E+3]=s[E+3];if(z==16)for(E=0;E<F;E++)p[E]=s[E<<1]}else if(S==2){const F=i.tabs.tRNS;if(F==null){if(z==8)for(E=0;E<c;E++){var O=3*E;C[E]=255<<24|s[O+2]<<16|s[O+1]<<8|s[O]}if(z==16)for(E=0;E<c;E++)O=6*E,C[E]=255<<24|s[O+4]<<16|s[O+2]<<8|s[O]}else{var k=F[0];const G=F[1],N=F[2];if(z==8)for(E=0;E<c;E++){var v=E<<2;O=3*E,C[E]=255<<24|s[O+2]<<16|s[O+1]<<8|s[O],s[O]==k&&s[O+1]==G&&s[O+2]==N&&(p[v+3]=0)}if(z==16)for(E=0;E<c;E++)v=E<<2,O=6*E,C[E]=255<<24|s[O+4]<<16|s[O+2]<<8|s[O],B(s,O)==k&&B(s,O+2)==G&&B(s,O+4)==N&&(p[v+3]=0)}}else if(S==3){const F=i.tabs.PLTE,G=i.tabs.tRNS,N=G?G.length:0;if(z==1)for(var R=0;R<a;R++){var x=R*_,h=R*o;for(E=0;E<o;E++){v=h+E<<2;var w=3*(n=s[x+(E>>3)]>>7-((7&E)<<0)&1);p[v]=F[w],p[v+1]=F[w+1],p[v+2]=F[w+2],p[v+3]=n<N?G[n]:255}}if(z==2)for(R=0;R<a;R++)for(x=R*_,h=R*o,E=0;E<o;E++)v=h+E<<2,w=3*(n=s[x+(E>>2)]>>6-((3&E)<<1)&3),p[v]=F[w],p[v+1]=F[w+1],p[v+2]=F[w+2],p[v+3]=n<N?G[n]:255;if(z==4)for(R=0;R<a;R++)for(x=R*_,h=R*o,E=0;E<o;E++)v=h+E<<2,w=3*(n=s[x+(E>>1)]>>4-((1&E)<<2)&15),p[v]=F[w],p[v+1]=F[w+1],p[v+2]=F[w+2],p[v+3]=n<N?G[n]:255;if(z==8)for(E=0;E<c;E++){var n;v=E<<2,w=3*(n=s[E]),p[v]=F[w],p[v+1]=F[w+1],p[v+2]=F[w+2],p[v+3]=n<N?G[n]:255}}else if(S==4){if(z==8)for(E=0;E<c;E++){v=E<<2;var U=s[A=E<<1];p[v]=U,p[v+1]=U,p[v+2]=U,p[v+3]=s[A+1]}if(z==16)for(E=0;E<c;E++){var A;v=E<<2,U=s[A=E<<2],p[v]=U,p[v+1]=U,p[v+2]=U,p[v+3]=s[A+2]}}else if(S==0)for(k=i.tabs.tRNS?i.tabs.tRNS:-1,R=0;R<a;R++){const F=R*_,G=R*o;if(z==1)for(var b=0;b<o;b++){var H=(U=255*(s[F+(b>>>3)]>>>7-(7&b)&1))==255*k?0:255;C[G+b]=H<<24|U<<16|U<<8|U}else if(z==2)for(b=0;b<o;b++)H=(U=85*(s[F+(b>>>2)]>>>6-((3&b)<<1)&3))==85*k?0:255,C[G+b]=H<<24|U<<16|U<<8|U;else if(z==4)for(b=0;b<o;b++)H=(U=17*(s[F+(b>>>1)]>>>4-((1&b)<<2)&15))==17*k?0:255,C[G+b]=H<<24|U<<16|U<<8|U;else if(z==8)for(b=0;b<o;b++)H=(U=s[F+b])==k?0:255,C[G+b]=H<<24|U<<16|U<<8|U;else if(z==16)for(b=0;b<o;b++)U=s[F+(b<<1)],H=B(s,F+(b<<1))==k?0:255,C[G+b]=H<<24|U<<16|U<<8|U}return p}function y(s,o,a,i){const c=t(s),u=Math.ceil(a*c/8),_=new Uint8Array((u+1+s.interlace)*i);return o=s.tabs.CgBI?e(o,_):m(o,_),s.interlace==0?o=l(o,s,0,a,i):s.interlace==1&&(o=function(C,S){const z=S.width,B=S.height,E=t(S),O=E>>3,k=Math.ceil(z*E/8),v=new Uint8Array(B*k);let R=0;const x=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],w=[8,8,8,4,4,2,2],n=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const b=w[U],H=n[U];let F=0,G=0,N=x[U];for(;N<B;)N+=b,G++;let P=h[U];for(;P<z;)P+=H,F++;const $=Math.ceil(F*E/8);l(C,S,R,F,G);let Z=0,L=x[U];for(;L<B;){let et=h[U],st=R+Z*$<<3;for(;et<z;){var A;if(E==1&&(A=(A=C[st>>3])>>7-(7&st)&1,v[L*k+(et>>3)]|=A<<7-((7&et)<<0)),E==2&&(A=(A=C[st>>3])>>6-(7&st)&3,v[L*k+(et>>2)]|=A<<6-((3&et)<<1)),E==4&&(A=(A=C[st>>3])>>4-(7&st)&15,v[L*k+(et>>1)]|=A<<4-((1&et)<<2)),E>=8){const rt=L*k+et*O;for(let nt=0;nt<O;nt++)v[rt+nt]=C[(st>>3)+nt]}st+=E,et+=H}Z++,L+=b}F*G!=0&&(R+=G*(1+$)),U+=1}return v}(o,s)),o}function m(s,o){return e(new Uint8Array(s.buffer,2,s.length-6),o)}var e=function(){const s={H:{}};return s.H.N=function(o,a){const i=Uint8Array;let c,u,_=0,p=0,C=0,S=0,z=0,B=0,E=0,O=0,k=0;if(o[0]==3&&o[1]==0)return a||new i(0);const v=s.H,R=v.b,x=v.e,h=v.R,w=v.n,n=v.A,U=v.Z,A=v.m,b=a==null;for(b&&(a=new i(o.length>>>2<<5));_==0;)if(_=R(o,k,1),p=R(o,k+1,2),k+=3,p!=0){if(b&&(a=s.H.W(a,O+(1<<17))),p==1&&(c=A.J,u=A.h,B=511,E=31),p==2){C=x(o,k,5)+257,S=x(o,k+5,5)+1,z=x(o,k+10,4)+4,k+=14;let F=1;for(var H=0;H<38;H+=2)A.Q[H]=0,A.Q[H+1]=0;for(H=0;H<z;H++){const P=x(o,k+3*H,3);A.Q[1+(A.X[H]<<1)]=P,P>F&&(F=P)}k+=3*z,w(A.Q,F),n(A.Q,F,A.u),c=A.w,u=A.d,k=h(A.u,(1<<F)-1,C+S,o,k,A.v);const G=v.V(A.v,0,C,A.C);B=(1<<G)-1;const N=v.V(A.v,C,S,A.D);E=(1<<N)-1,w(A.C,G),n(A.C,G,c),w(A.D,N),n(A.D,N,u)}for(;;){const F=c[U(o,k)&B];k+=15&F;const G=F>>>4;if(G>>>8==0)a[O++]=G;else{if(G==256)break;{let N=O+G-254;if(G>264){const et=A.q[G-257];N=O+(et>>>3)+x(o,k,7&et),k+=7&et}const P=u[U(o,k)&E];k+=15&P;const $=P>>>4,Z=A.c[$],L=(Z>>>4)+R(o,k,15&Z);for(k+=15&Z;O<N;)a[O]=a[O++-L],a[O]=a[O++-L],a[O]=a[O++-L],a[O]=a[O++-L];O=N}}}}else{(7&k)!=0&&(k+=8-(7&k));const F=4+(k>>>3),G=o[F-4]|o[F-3]<<8;b&&(a=s.H.W(a,O+G)),a.set(new i(o.buffer,o.byteOffset+F,G),O),k=F+G<<3,O+=G}return a.length==O?a:a.slice(0,O)},s.H.W=function(o,a){const i=o.length;if(a<=i)return o;const c=new Uint8Array(i<<1);return c.set(o,0),c},s.H.R=function(o,a,i,c,u,_){const p=s.H.e,C=s.H.Z;let S=0;for(;S<i;){const z=o[C(c,u)&a];u+=15&z;const B=z>>>4;if(B<=15)_[S]=B,S++;else{let E=0,O=0;B==16?(O=3+p(c,u,2),u+=2,E=_[S-1]):B==17?(O=3+p(c,u,3),u+=3):B==18&&(O=11+p(c,u,7),u+=7);const k=S+O;for(;S<k;)_[S]=E,S++}}return u},s.H.V=function(o,a,i,c){let u=0,_=0;const p=c.length>>>1;for(;_<i;){const C=o[_+a];c[_<<1]=0,c[1+(_<<1)]=C,C>u&&(u=C),_++}for(;_<p;)c[_<<1]=0,c[1+(_<<1)]=0,_++;return u},s.H.n=function(o,a){const i=s.H.m,c=o.length;let u,_,p,C;const S=i.j;for(var z=0;z<=a;z++)S[z]=0;for(z=1;z<c;z+=2)S[o[z]]++;const B=i.K;for(u=0,S[0]=0,_=1;_<=a;_++)u=u+S[_-1]<<1,B[_]=u;for(p=0;p<c;p+=2)C=o[p+1],C!=0&&(o[p]=B[C],B[C]++)},s.H.A=function(o,a,i){const c=o.length,u=s.H.m.r;for(let _=0;_<c;_+=2)if(o[_+1]!=0){const p=_>>1,C=o[_+1],S=p<<4|C,z=a-C;let B=o[_]<<z;const E=B+(1<<z);for(;B!=E;)i[u[B]>>>15-a]=S,B++}},s.H.l=function(o,a){const i=s.H.m.r,c=15-a;for(let u=0;u<o.length;u+=2){const _=o[u]<<a-o[u+1];o[u]=i[_]>>>c}},s.H.M=function(o,a,i){i<<=7&a;const c=a>>>3;o[c]|=i,o[c+1]|=i>>>8},s.H.I=function(o,a,i){i<<=7&a;const c=a>>>3;o[c]|=i,o[c+1]|=i>>>8,o[c+2]|=i>>>16},s.H.e=function(o,a,i){return(o[a>>>3]|o[1+(a>>>3)]<<8)>>>(7&a)&(1<<i)-1},s.H.b=function(o,a,i){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)&(1<<i)-1},s.H.Z=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16)>>>(7&a)},s.H.i=function(o,a){return(o[a>>>3]|o[1+(a>>>3)]<<8|o[2+(a>>>3)]<<16|o[3+(a>>>3)]<<24)>>>(7&a)},s.H.m=function(){const o=Uint16Array,a=Uint32Array;return{K:new o(16),j:new o(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new o(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new a(32),J:new o(512),_:[],h:new o(32),$:[],w:new o(32768),C:[],v:[],d:new o(32768),D:[],u:new o(512),Q:[],r:new o(32768),s:new a(286),Y:new a(30),a:new a(19),t:new a(15e3),k:new o(65536),g:new o(32768)}}(),function(){const o=s.H.m;for(var a=0;a<32768;a++){let c=a;c=(2863311530&c)>>>1|(1431655765&c)<<1,c=(3435973836&c)>>>2|(858993459&c)<<2,c=(4042322160&c)>>>4|(252645135&c)<<4,c=(4278255360&c)>>>8|(16711935&c)<<8,o.r[a]=(c>>>16|c<<16)>>>17}function i(c,u,_){for(;u--!=0;)c.push(0,_)}for(a=0;a<32;a++)o.q[a]=o.S[a]<<3|o.T[a],o.c[a]=o.p[a]<<4|o.z[a];i(o._,144,8),i(o._,112,9),i(o._,24,7),i(o._,8,8),s.H.n(o._,9),s.H.A(o._,9,o.J),s.H.l(o._,9),i(o.$,32,5),s.H.n(o.$,5),s.H.A(o.$,5,o.h),s.H.l(o.$,5),i(o.Q,19,0),i(o.C,286,0),i(o.D,30,0),i(o.v,320,0)}(),s.H.N}();function t(s){return[1,null,3,1,2,null,4][s.ctype]*s.depth}function l(s,o,a,i,c){let u=t(o);const _=Math.ceil(i*u/8);let p,C;u=Math.ceil(u/8);let S=s[a],z=0;if(S>1&&(s[a]=[0,0,1][S-2]),S==3)for(z=u;z<_;z++)s[z+1]=s[z+1]+(s[z+1-u]>>>1)&255;for(let B=0;B<c;B++)if(p=a+B*_,C=p+B+1,S=s[C-1],z=0,S==0)for(;z<_;z++)s[p+z]=s[C+z];else if(S==1){for(;z<u;z++)s[p+z]=s[C+z];for(;z<_;z++)s[p+z]=s[C+z]+s[p+z-u]}else if(S==2)for(;z<_;z++)s[p+z]=s[C+z]+s[p+z-_];else if(S==3){for(;z<u;z++)s[p+z]=s[C+z]+(s[p+z-_]>>>1);for(;z<_;z++)s[p+z]=s[C+z]+(s[p+z-_]+s[p+z-u]>>>1)}else{for(;z<u;z++)s[p+z]=s[C+z]+r(0,s[p+z-_],0);for(;z<_;z++)s[p+z]=s[C+z]+r(s[p+z-u],s[p+z-_],s[p+z-u-_])}return s}function r(s,o,a){const i=s+o-a,c=i-s,u=i-o,_=i-a;return c*c<=u*u&&c*c<=_*_?s:u*u<=_*_?o:a}function f(s,o,a){a.width=W.readUint(s,o),o+=4,a.height=W.readUint(s,o),o+=4,a.depth=s[o],o++,a.ctype=s[o],o++,a.compress=s[o],o++,a.filter=s[o],o++,a.interlace=s[o],o++}function g(s,o,a,i,c,u,_,p,C){const S=Math.min(o,c),z=Math.min(a,u);let B=0,E=0;for(let U=0;U<z;U++)for(let A=0;A<S;A++)if(_>=0&&p>=0?(B=U*o+A<<2,E=(p+U)*c+_+A<<2):(B=(-p+U)*o-_+A<<2,E=U*c+A<<2),C==0)i[E]=s[B],i[E+1]=s[B+1],i[E+2]=s[B+2],i[E+3]=s[B+3];else if(C==1){var O=s[B+3]*.00392156862745098,k=s[B]*O,v=s[B+1]*O,R=s[B+2]*O,x=i[E+3]*(1/255),h=i[E]*x,w=i[E+1]*x,n=i[E+2]*x;const b=1-O,H=O+x*b,F=H==0?0:1/H;i[E+3]=255*H,i[E+0]=(k+h*b)*F,i[E+1]=(v+w*b)*F,i[E+2]=(R+n*b)*F}else if(C==2)O=s[B+3],k=s[B],v=s[B+1],R=s[B+2],x=i[E+3],h=i[E],w=i[E+1],n=i[E+2],O==x&&k==h&&v==w&&R==n?(i[E]=0,i[E+1]=0,i[E+2]=0,i[E+3]=0):(i[E]=k,i[E+1]=v,i[E+2]=R,i[E+3]=O);else if(C==3){if(O=s[B+3],k=s[B],v=s[B+1],R=s[B+2],x=i[E+3],h=i[E],w=i[E+1],n=i[E+2],O==x&&k==h&&v==w&&R==n)continue;if(O<220&&x>20)return!1}return!0}return{decode:function(o){const a=new Uint8Array(o);let i=8;const c=W,u=c.readUshort,_=c.readUint,p={tabs:{},frames:[]},C=new Uint8Array(a.length);let S,z=0,B=0;const E=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(a[O]!=E[O])throw"The input is not a PNG file!";for(;i<a.length;){const U=c.readUint(a,i);i+=4;const A=c.readASCII(a,i,4);if(i+=4,A=="IHDR")f(a,i,p);else if(A=="iCCP"){for(var k=i;a[k]!=0;)k++;c.readASCII(a,i,k-i),a[k+1];const b=a.slice(k+2,i+U);let H=null;try{H=m(b)}catch{H=e(b)}p.tabs[A]=H}else if(A=="CgBI")p.tabs[A]=a.slice(i,i+4);else if(A=="IDAT"){for(O=0;O<U;O++)C[z+O]=a[i+O];z+=U}else if(A=="acTL")p.tabs[A]={num_frames:_(a,i),num_plays:_(a,i+4)},S=new Uint8Array(a.length);else if(A=="fcTL"){B!=0&&((n=p.frames[p.frames.length-1]).data=y(p,S.slice(0,B),n.rect.width,n.rect.height),B=0);const b={x:_(a,i+12),y:_(a,i+16),width:_(a,i+4),height:_(a,i+8)};let H=u(a,i+22);H=u(a,i+20)/(H==0?100:H);const F={rect:b,delay:Math.round(1e3*H),dispose:a[i+24],blend:a[i+25]};p.frames.push(F)}else if(A=="fdAT"){for(O=0;O<U-4;O++)S[B+O]=a[i+O+4];B+=U-4}else if(A=="pHYs")p.tabs[A]=[c.readUint(a,i),c.readUint(a,i+4),a[i+8]];else if(A=="cHRM")for(p.tabs[A]=[],O=0;O<8;O++)p.tabs[A].push(c.readUint(a,i+4*O));else if(A=="tEXt"||A=="zTXt"){p.tabs[A]==null&&(p.tabs[A]={});var v=c.nextZero(a,i),R=c.readASCII(a,i,v-i),x=i+U-v-1;if(A=="tEXt")w=c.readASCII(a,v+1,x);else{var h=m(a.slice(v+2,v+2+x));w=c.readUTF8(h,0,h.length)}p.tabs[A][R]=w}else if(A=="iTXt"){p.tabs[A]==null&&(p.tabs[A]={}),v=0,k=i,v=c.nextZero(a,k),R=c.readASCII(a,k,v-k);const b=a[k=v+1];var w;a[k+1],k+=2,v=c.nextZero(a,k),c.readASCII(a,k,v-k),k=v+1,v=c.nextZero(a,k),c.readUTF8(a,k,v-k),x=U-((k=v+1)-i),b==0?w=c.readUTF8(a,k,x):(h=m(a.slice(k,k+x)),w=c.readUTF8(h,0,h.length)),p.tabs[A][R]=w}else if(A=="PLTE")p.tabs[A]=c.readBytes(a,i,U);else if(A=="hIST"){const b=p.tabs.PLTE.length/3;for(p.tabs[A]=[],O=0;O<b;O++)p.tabs[A].push(u(a,i+2*O))}else if(A=="tRNS")p.ctype==3?p.tabs[A]=c.readBytes(a,i,U):p.ctype==0?p.tabs[A]=u(a,i):p.ctype==2&&(p.tabs[A]=[u(a,i),u(a,i+2),u(a,i+4)]);else if(A=="gAMA")p.tabs[A]=c.readUint(a,i)/1e5;else if(A=="sRGB")p.tabs[A]=a[i];else if(A=="bKGD")p.ctype==0||p.ctype==4?p.tabs[A]=[u(a,i)]:p.ctype==2||p.ctype==6?p.tabs[A]=[u(a,i),u(a,i+2),u(a,i+4)]:p.ctype==3&&(p.tabs[A]=a[i]);else if(A=="IEND")break;i+=U,c.readUint(a,i),i+=4}var n;return B!=0&&((n=p.frames[p.frames.length-1]).data=y(p,S.slice(0,B),n.rect.width,n.rect.height)),p.data=y(p,C,p.width,p.height),delete p.compress,delete p.interlace,delete p.filter,p},toRGBA8:function(o){const a=o.width,i=o.height;if(o.tabs.acTL==null)return[D(o.data,a,i,o).buffer];const c=[];o.frames[0].data==null&&(o.frames[0].data=o.data);const u=a*i*4,_=new Uint8Array(u),p=new Uint8Array(u),C=new Uint8Array(u);for(let z=0;z<o.frames.length;z++){const B=o.frames[z],E=B.rect.x,O=B.rect.y,k=B.rect.width,v=B.rect.height,R=D(B.data,k,v,o);if(z!=0)for(var S=0;S<u;S++)C[S]=_[S];if(B.blend==0?g(R,k,v,_,a,i,E,O,0):B.blend==1&&g(R,k,v,_,a,i,E,O,1),c.push(_.buffer.slice(0)),B.dispose!=0){if(B.dispose==1)g(p,k,v,_,a,i,E,O,0);else if(B.dispose==2)for(S=0;S<u;S++)_[S]=C[S]}}return c},_paeth:r,_copyTile:g,_bin:W}}();(function(){const{_copyTile:W}=Et,{_bin:D}=Et,y=Et._paeth;var m={table:function(){const k=new Uint32Array(256);for(let v=0;v<256;v++){let R=v;for(let x=0;x<8;x++)1&R?R=3988292384^R>>>1:R>>>=1;k[v]=R}return k}(),update(k,v,R,x){for(let h=0;h<x;h++)k=m.table[255&(k^v[R+h])]^k>>>8;return k},crc:(k,v,R)=>4294967295^m.update(4294967295,k,v,R)};function e(k,v,R,x){v[R]+=k[0]*x>>4,v[R+1]+=k[1]*x>>4,v[R+2]+=k[2]*x>>4,v[R+3]+=k[3]*x>>4}function t(k){return Math.max(0,Math.min(255,k))}function l(k,v){const R=k[0]-v[0],x=k[1]-v[1],h=k[2]-v[2],w=k[3]-v[3];return R*R+x*x+h*h+w*w}function r(k,v,R,x,h,w,n){n==null&&(n=1);const U=x.length,A=[];for(var b=0;b<U;b++){const L=x[b];A.push([L>>>0&255,L>>>8&255,L>>>16&255,L>>>24&255])}for(b=0;b<U;b++){let L=4294967295;for(var H=0,F=0;F<U;F++){var G=l(A[b],A[F]);F!=b&&G<L&&(L=G,H=F)}}const N=new Uint32Array(h.buffer),P=new Int16Array(v*R*4),$=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(b=0;b<$.length;b++)$[b]=255*(($[b]+.5)/16-.5);for(let L=0;L<R;L++)for(let et=0;et<v;et++){var Z;b=4*(L*v+et),n!=2?Z=[t(k[b]+P[b]),t(k[b+1]+P[b+1]),t(k[b+2]+P[b+2]),t(k[b+3]+P[b+3])]:(G=$[4*(3&L)+(3&et)],Z=[t(k[b]+G),t(k[b+1]+G),t(k[b+2]+G),t(k[b+3]+G)]),H=0;let st=16777215;for(F=0;F<U;F++){const ot=l(Z,A[F]);ot<st&&(st=ot,H=F)}const rt=A[H],nt=[Z[0]-rt[0],Z[1]-rt[1],Z[2]-rt[2],Z[3]-rt[3]];n==1&&(et!=v-1&&e(nt,P,b+4,7),L!=R-1&&(et!=0&&e(nt,P,b+4*v-4,3),e(nt,P,b+4*v,5),et!=v-1&&e(nt,P,b+4*v+4,1))),w[b>>2]=H,N[b>>2]=x[H]}}function f(k,v,R,x,h){h==null&&(h={});const{crc:w}=m,n=D.writeUint,U=D.writeUshort,A=D.writeASCII;let b=8;const H=k.frames.length>1;let F,G=!1,N=33+(H?20:0);if(h.sRGB!=null&&(N+=13),h.pHYs!=null&&(N+=21),h.iCCP!=null&&(F=pako.deflate(h.iCCP),N+=21+F.length+4),k.ctype==3){for(var P=k.plte.length,$=0;$<P;$++)k.plte[$]>>>24!=255&&(G=!0);N+=8+3*P+4+(G?8+1*P+4:0)}for(var Z=0;Z<k.frames.length;Z++)H&&(N+=38),N+=(rt=k.frames[Z]).cimg.length+12,Z!=0&&(N+=4);N+=12;const L=new Uint8Array(N),et=[137,80,78,71,13,10,26,10];for($=0;$<8;$++)L[$]=et[$];if(n(L,b,13),b+=4,A(L,b,"IHDR"),b+=4,n(L,b,v),b+=4,n(L,b,R),b+=4,L[b]=k.depth,b++,L[b]=k.ctype,b++,L[b]=0,b++,L[b]=0,b++,L[b]=0,b++,n(L,b,w(L,b-17,17)),b+=4,h.sRGB!=null&&(n(L,b,1),b+=4,A(L,b,"sRGB"),b+=4,L[b]=h.sRGB,b++,n(L,b,w(L,b-5,5)),b+=4),h.iCCP!=null){const nt=13+F.length;n(L,b,nt),b+=4,A(L,b,"iCCP"),b+=4,A(L,b,"ICC profile"),b+=11,b+=2,L.set(F,b),b+=F.length,n(L,b,w(L,b-(nt+4),nt+4)),b+=4}if(h.pHYs!=null&&(n(L,b,9),b+=4,A(L,b,"pHYs"),b+=4,n(L,b,h.pHYs[0]),b+=4,n(L,b,h.pHYs[1]),b+=4,L[b]=h.pHYs[2],b++,n(L,b,w(L,b-13,13)),b+=4),H&&(n(L,b,8),b+=4,A(L,b,"acTL"),b+=4,n(L,b,k.frames.length),b+=4,n(L,b,h.loop!=null?h.loop:0),b+=4,n(L,b,w(L,b-12,12)),b+=4),k.ctype==3){for(n(L,b,3*(P=k.plte.length)),b+=4,A(L,b,"PLTE"),b+=4,$=0;$<P;$++){const nt=3*$,ot=k.plte[$],lt=255&ot,ct=ot>>>8&255,pt=ot>>>16&255;L[b+nt+0]=lt,L[b+nt+1]=ct,L[b+nt+2]=pt}if(b+=3*P,n(L,b,w(L,b-3*P-4,3*P+4)),b+=4,G){for(n(L,b,P),b+=4,A(L,b,"tRNS"),b+=4,$=0;$<P;$++)L[b+$]=k.plte[$]>>>24&255;b+=P,n(L,b,w(L,b-P-4,P+4)),b+=4}}let st=0;for(Z=0;Z<k.frames.length;Z++){var rt=k.frames[Z];H&&(n(L,b,26),b+=4,A(L,b,"fcTL"),b+=4,n(L,b,st++),b+=4,n(L,b,rt.rect.width),b+=4,n(L,b,rt.rect.height),b+=4,n(L,b,rt.rect.x),b+=4,n(L,b,rt.rect.y),b+=4,U(L,b,x[Z]),b+=2,U(L,b,1e3),b+=2,L[b]=rt.dispose,b++,L[b]=rt.blend,b++,n(L,b,w(L,b-30,30)),b+=4);const nt=rt.cimg;n(L,b,(P=nt.length)+(Z==0?0:4)),b+=4;const ot=b;A(L,b,Z==0?"IDAT":"fdAT"),b+=4,Z!=0&&(n(L,b,st++),b+=4),L.set(nt,b),b+=P,n(L,b,w(L,ot,b-ot)),b+=4}return n(L,b,0),b+=4,A(L,b,"IEND"),b+=4,n(L,b,w(L,b-4,4)),b+=4,L.buffer}function g(k,v,R){for(let x=0;x<k.frames.length;x++){const h=k.frames[x];h.rect.width;const w=h.rect.height,n=new Uint8Array(w*h.bpl+w);h.cimg=i(h.img,w,h.bpp,h.bpl,n,v,R)}}function s(k,v,R,x,h){const w=h[0],n=h[1],U=h[2],A=h[3],b=h[4],H=h[5];let F=6,G=8,N=255;for(var P=0;P<k.length;P++){const K=new Uint8Array(k[P]);for(var $=K.length,Z=0;Z<$;Z+=4)N&=K[Z+3]}const L=N!=255,et=function(T,I,M,Q,X,j){const Y=[];for(var J=0;J<T.length;J++){const dt=new Uint8Array(T[J]),ht=new Uint32Array(dt.buffer);var q;let vt=0,ut=0,yt=I,St=M,xt=Q?1:0;if(J!=0){const Kt=j||Q||J==1||Y[J-2].dispose!=0?1:2;let jt=0,Vt=1e9;for(let Rt=0;Rt<Kt;Rt++){var it=new Uint8Array(T[J-1-Rt]);const $t=new Uint32Array(T[J-1-Rt]);let wt=I,At=M,Mt=-1,Ht=-1;for(let Ft=0;Ft<M;Ft++)for(let Ot=0;Ot<I;Ot++)ht[at=Ft*I+Ot]!=$t[at]&&(Ot<wt&&(wt=Ot),Ot>Mt&&(Mt=Ot),Ft<At&&(At=Ft),Ft>Ht&&(Ht=Ft));Mt==-1&&(wt=At=Mt=Ht=0),X&&((1&wt)==1&&wt--,(1&At)==1&&At--);const de=(Mt-wt+1)*(Ht-At+1);de<Vt&&(Vt=de,jt=Rt,vt=wt,ut=At,yt=Mt-wt+1,St=Ht-At+1)}it=new Uint8Array(T[J-1-jt]),jt==1&&(Y[J-1].dispose=2),q=new Uint8Array(yt*St*4),W(it,I,M,q,yt,St,-vt,-ut,0),xt=W(dt,I,M,q,yt,St,-vt,-ut,3)?1:0,xt==1?a(dt,I,M,q,{x:vt,y:ut,width:yt,height:St}):W(dt,I,M,q,yt,St,-vt,-ut,0)}else q=dt.slice(0);Y.push({rect:{x:vt,y:ut,width:yt,height:St},img:q,blend:xt,dispose:0})}if(Q)for(J=0;J<Y.length;J++){if((mt=Y[J]).blend==1)continue;const dt=mt.rect,ht=Y[J-1].rect,vt=Math.min(dt.x,ht.x),ut=Math.min(dt.y,ht.y),yt={x:vt,y:ut,width:Math.max(dt.x+dt.width,ht.x+ht.width)-vt,height:Math.max(dt.y+dt.height,ht.y+ht.height)-ut};Y[J-1].dispose=1,J-1!=0&&o(T,I,M,Y,J-1,yt,X),o(T,I,M,Y,J,yt,X)}let ft=0;if(T.length!=1)for(var at=0;at<Y.length;at++){var mt;ft+=(mt=Y[at]).rect.width*mt.rect.height}return Y}(k,v,R,w,n,U),st={},rt=[],nt=[];if(x!=0){const K=[];for(Z=0;Z<et.length;Z++)K.push(et[Z].img.buffer);const T=function(X){let j=0;for(var Y=0;Y<X.length;Y++)j+=X[Y].byteLength;const J=new Uint8Array(j);let q=0;for(Y=0;Y<X.length;Y++){const it=new Uint8Array(X[Y]),ft=it.length;for(let at=0;at<ft;at+=4){let mt=it[at],dt=it[at+1],ht=it[at+2];const vt=it[at+3];vt==0&&(mt=dt=ht=0),J[q+at]=mt,J[q+at+1]=dt,J[q+at+2]=ht,J[q+at+3]=vt}q+=ft}return J.buffer}(K),I=u(T,x);for(Z=0;Z<I.plte.length;Z++)rt.push(I.plte[Z].est.rgba);let M=0;for(Z=0;Z<et.length;Z++){const Q=(lt=et[Z]).img.length;var ot=new Uint8Array(I.inds.buffer,M>>2,Q>>2);nt.push(ot);const X=new Uint8Array(I.abuf,M,Q);H&&r(lt.img,lt.rect.width,lt.rect.height,rt,X,ot),lt.img.set(X),M+=Q}}else for(P=0;P<et.length;P++){var lt=et[P];const K=new Uint32Array(lt.img.buffer);var ct=lt.rect.width;for($=K.length,ot=new Uint8Array($),nt.push(ot),Z=0;Z<$;Z++){const T=K[Z];if(Z!=0&&T==K[Z-1])ot[Z]=ot[Z-1];else if(Z>ct&&T==K[Z-ct])ot[Z]=ot[Z-ct];else{let I=st[T];if(I==null&&(st[T]=I=rt.length,rt.push(T),rt.length>=300))break;ot[Z]=I}}}const pt=rt.length;for(pt<=256&&b==0&&(G=pt<=2?1:pt<=4?2:pt<=16?4:8,G=Math.max(G,A)),P=0;P<et.length;P++){(lt=et[P]).rect.x,lt.rect.y,ct=lt.rect.width;const K=lt.rect.height;let T=lt.img;new Uint32Array(T.buffer);let I=4*ct,M=4;if(pt<=256&&b==0){I=Math.ceil(G*ct/8);var d=new Uint8Array(I*K);const Q=nt[P];for(let X=0;X<K;X++){Z=X*I;const j=X*ct;if(G==8)for(var V=0;V<ct;V++)d[Z+V]=Q[j+V];else if(G==4)for(V=0;V<ct;V++)d[Z+(V>>1)]|=Q[j+V]<<4-4*(1&V);else if(G==2)for(V=0;V<ct;V++)d[Z+(V>>2)]|=Q[j+V]<<6-2*(3&V);else if(G==1)for(V=0;V<ct;V++)d[Z+(V>>3)]|=Q[j+V]<<7-1*(7&V)}T=d,F=3,M=1}else if(L==0&&et.length==1){d=new Uint8Array(ct*K*3);const Q=ct*K;for(Z=0;Z<Q;Z++){const X=3*Z,j=4*Z;d[X]=T[j],d[X+1]=T[j+1],d[X+2]=T[j+2]}T=d,F=2,M=3,I=3*ct}lt.img=T,lt.bpl=I,lt.bpp=M}return{ctype:F,depth:G,plte:rt,frames:et}}function o(k,v,R,x,h,w,n){const U=Uint8Array,A=Uint32Array,b=new U(k[h-1]),H=new A(k[h-1]),F=h+1<k.length?new U(k[h+1]):null,G=new U(k[h]),N=new A(G.buffer);let P=v,$=R,Z=-1,L=-1;for(let st=0;st<w.height;st++)for(let rt=0;rt<w.width;rt++){const nt=w.x+rt,ot=w.y+st,lt=ot*v+nt,ct=N[lt];ct==0||x[h-1].dispose==0&&H[lt]==ct&&(F==null||F[4*lt+3]!=0)||(nt<P&&(P=nt),nt>Z&&(Z=nt),ot<$&&($=ot),ot>L&&(L=ot))}Z==-1&&(P=$=Z=L=0),n&&((1&P)==1&&P--,(1&$)==1&&$--),w={x:P,y:$,width:Z-P+1,height:L-$+1};const et=x[h];et.rect=w,et.blend=1,et.img=new Uint8Array(w.width*w.height*4),x[h-1].dispose==0?(W(b,v,R,et.img,w.width,w.height,-w.x,-w.y,0),a(G,v,R,et.img,w)):W(G,v,R,et.img,w.width,w.height,-w.x,-w.y,0)}function a(k,v,R,x,h){W(k,v,R,x,h.width,h.height,-h.x,-h.y,2)}function i(k,v,R,x,h,w,n){const U=[];let A,b=[0,1,2,3,4];w!=-1?b=[w]:(v*x>5e5||R==1)&&(b=[0]),n&&(A={level:0});const H=Ke;for(var F=0;F<b.length;F++){for(let P=0;P<v;P++)c(h,k,P,x,R,b[F]);U.push(H.deflate(h,A))}let G,N=1e9;for(F=0;F<U.length;F++)U[F].length<N&&(G=F,N=U[F].length);return U[G]}function c(k,v,R,x,h,w){const n=R*x;let U=n+R;if(k[U]=w,U++,w==0)if(x<500)for(var A=0;A<x;A++)k[U+A]=v[n+A];else k.set(new Uint8Array(v.buffer,n,x),U);else if(w==1){for(A=0;A<h;A++)k[U+A]=v[n+A];for(A=h;A<x;A++)k[U+A]=v[n+A]-v[n+A-h]+256&255}else if(R==0){for(A=0;A<h;A++)k[U+A]=v[n+A];if(w==2)for(A=h;A<x;A++)k[U+A]=v[n+A];if(w==3)for(A=h;A<x;A++)k[U+A]=v[n+A]-(v[n+A-h]>>1)+256&255;if(w==4)for(A=h;A<x;A++)k[U+A]=v[n+A]-y(v[n+A-h],0,0)+256&255}else{if(w==2)for(A=0;A<x;A++)k[U+A]=v[n+A]+256-v[n+A-x]&255;if(w==3){for(A=0;A<h;A++)k[U+A]=v[n+A]+256-(v[n+A-x]>>1)&255;for(A=h;A<x;A++)k[U+A]=v[n+A]+256-(v[n+A-x]+v[n+A-h]>>1)&255}if(w==4){for(A=0;A<h;A++)k[U+A]=v[n+A]+256-y(0,v[n+A-x],0)&255;for(A=h;A<x;A++)k[U+A]=v[n+A]+256-y(v[n+A-h],v[n+A-x],v[n+A-h-x])&255}}}function u(k,v){const R=new Uint8Array(k),x=R.slice(0),h=new Uint32Array(x.buffer),w=_(x,v),n=w[0],U=w[1],A=R.length,b=new Uint8Array(A>>2);let H;if(R.length<2e7)for(var F=0;F<A;F+=4)H=p(n,G=R[F]*(1/255),N=R[F+1]*(1/255),P=R[F+2]*(1/255),$=R[F+3]*(1/255)),b[F>>2]=H.ind,h[F>>2]=H.est.rgba;else for(F=0;F<A;F+=4){var G=R[F]*.00392156862745098,N=R[F+1]*(1/255),P=R[F+2]*(1/255),$=R[F+3]*(1/255);for(H=n;H.left;)H=C(H.est,G,N,P,$)<=0?H.left:H.right;b[F>>2]=H.ind,h[F>>2]=H.est.rgba}return{abuf:x.buffer,inds:b,plte:U}}function _(k,v,R){R==null&&(R=1e-4);const x=new Uint32Array(k.buffer),h={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=B(k,h.i0,h.i1),h.est=E(h.bst);const w=[h];for(;w.length<v;){let U=0,A=0;for(var n=0;n<w.length;n++)w[n].est.L>U&&(U=w[n].est.L,A=n);if(U<R)break;const b=w[A],H=S(k,x,b.i0,b.i1,b.est.e,b.est.eMq255);if(b.i0>=H||b.i1<=H){b.est.L=0;continue}const F={i0:b.i0,i1:H,bst:null,est:null,tdst:0,left:null,right:null};F.bst=B(k,F.i0,F.i1),F.est=E(F.bst);const G={i0:H,i1:b.i1,bst:null,est:null,tdst:0,left:null,right:null};for(G.bst={R:[],m:[],N:b.bst.N-F.bst.N},n=0;n<16;n++)G.bst.R[n]=b.bst.R[n]-F.bst.R[n];for(n=0;n<4;n++)G.bst.m[n]=b.bst.m[n]-F.bst.m[n];G.est=E(G.bst),b.left=F,b.right=G,w[A]=F,w.push(G)}for(w.sort((U,A)=>A.bst.N-U.bst.N),n=0;n<w.length;n++)w[n].ind=n;return[h,w]}function p(k,v,R,x,h){if(k.left==null)return k.tdst=function(F,G,N,P,$){const Z=G-F[0],L=N-F[1],et=P-F[2],st=$-F[3];return Z*Z+L*L+et*et+st*st}(k.est.q,v,R,x,h),k;const w=C(k.est,v,R,x,h);let n=k.left,U=k.right;w>0&&(n=k.right,U=k.left);const A=p(n,v,R,x,h);if(A.tdst<=w*w)return A;const b=p(U,v,R,x,h);return b.tdst<A.tdst?b:A}function C(k,v,R,x,h){const{e:w}=k;return w[0]*v+w[1]*R+w[2]*x+w[3]*h-k.eMq}function S(k,v,R,x,h,w){for(x-=4;R<x;){for(;z(k,R,h)<=w;)R+=4;for(;z(k,x,h)>w;)x-=4;if(R>=x)break;const n=v[R>>2];v[R>>2]=v[x>>2],v[x>>2]=n,R+=4,x-=4}for(;z(k,R,h)>w;)R-=4;return R+4}function z(k,v,R){return k[v]*R[0]+k[v+1]*R[1]+k[v+2]*R[2]+k[v+3]*R[3]}function B(k,v,R){const x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0],w=R-v>>2;for(let n=v;n<R;n+=4){const U=k[n]*.00392156862745098,A=k[n+1]*(1/255),b=k[n+2]*(1/255),H=k[n+3]*(1/255);h[0]+=U,h[1]+=A,h[2]+=b,h[3]+=H,x[0]+=U*U,x[1]+=U*A,x[2]+=U*b,x[3]+=U*H,x[5]+=A*A,x[6]+=A*b,x[7]+=A*H,x[10]+=b*b,x[11]+=b*H,x[15]+=H*H}return x[4]=x[1],x[8]=x[2],x[9]=x[6],x[12]=x[3],x[13]=x[7],x[14]=x[11],{R:x,m:h,N:w}}function E(k){const{R:v}=k,{m:R}=k,{N:x}=k,h=R[0],w=R[1],n=R[2],U=R[3],A=x==0?0:1/x,b=[v[0]-h*h*A,v[1]-h*w*A,v[2]-h*n*A,v[3]-h*U*A,v[4]-w*h*A,v[5]-w*w*A,v[6]-w*n*A,v[7]-w*U*A,v[8]-n*h*A,v[9]-n*w*A,v[10]-n*n*A,v[11]-n*U*A,v[12]-U*h*A,v[13]-U*w*A,v[14]-U*n*A,v[15]-U*U*A],H=b,F=O;let G=[Math.random(),Math.random(),Math.random(),Math.random()],N=0,P=0;if(x!=0)for(let Z=0;Z<16&&(G=F.multVec(H,G),P=Math.sqrt(F.dot(G,G)),G=F.sml(1/P,G),!(Z!=0&&Math.abs(P-N)<1e-9));Z++)N=P;const $=[h*A,w*A,n*A,U*A];return{Cov:b,q:$,e:G,L:N,eMq255:F.dot(F.sml(255,$),G),eMq:F.dot(G,$),rgba:(Math.round(255*$[3])<<24|Math.round(255*$[2])<<16|Math.round(255*$[1])<<8|Math.round(255*$[0])<<0)>>>0}}var O={multVec:(k,v)=>[k[0]*v[0]+k[1]*v[1]+k[2]*v[2]+k[3]*v[3],k[4]*v[0]+k[5]*v[1]+k[6]*v[2]+k[7]*v[3],k[8]*v[0]+k[9]*v[1]+k[10]*v[2]+k[11]*v[3],k[12]*v[0]+k[13]*v[1]+k[14]*v[2]+k[15]*v[3]],dot:(k,v)=>k[0]*v[0]+k[1]*v[1]+k[2]*v[2]+k[3]*v[3],sml:(k,v)=>[k*v[0],k*v[1],k*v[2],k*v[3]]};Et.encode=function(v,R,x,h,w,n,U){h==null&&(h=0),U==null&&(U=!1);const A=s(v,R,x,h,[!1,!1,!1,0,U,!1]);return g(A,-1),f(A,R,x,w,n)},Et.encodeLL=function(v,R,x,h,w,n,U,A){const b={ctype:0+(h==1?0:2)+(w==0?0:4),depth:n,frames:[]},H=(h+w)*n,F=H*R;for(let G=0;G<v.length;G++)b.frames.push({rect:{x:0,y:0,width:R,height:x},img:new Uint8Array(v[G]),blend:0,dispose:1,bpp:Math.ceil(H/8),bpl:Math.ceil(F/8)});return g(b,0,!0),f(b,R,x,U,A)},Et.encode.compress=s,Et.encode.dither=r,Et.quantize=u,Et.quantize.getKDtree=_,Et.quantize.getNearest=p})();const Ae={toArrayBuffer(W,D){const y=W.width,m=W.height,e=y<<2,t=W.getContext("2d").getImageData(0,0,y,m),l=new Uint32Array(t.data.buffer),r=(32*y+31)/32<<2,f=r*m,g=122+f,s=new ArrayBuffer(g),o=new DataView(s),a=1<<20;let i,c,u,_,p=a,C=0,S=0,z=0;function B(k){o.setUint16(S,k,!0),S+=2}function E(k){o.setUint32(S,k,!0),S+=4}function O(k){S+=k}B(19778),E(g),O(4),E(122),E(108),E(y),E(-m>>>0),B(1),B(32),E(3),E(f),E(2835),E(2835),O(8),E(16711680),E(65280),E(255),E(4278190080),E(1466527264),function k(){for(;C<m&&p>0;){for(_=122+C*r,i=0;i<e;)p--,c=l[z++],u=c>>>24,o.setUint32(_+i,c<<8|u),i+=4;C++}z<l.length?(p=a,setTimeout(k,Ae._dly)):D(s)}()},toBlob(W,D){this.toArrayBuffer(W,y=>{D(new Blob([y],{type:"image/bmp"}))})},_dly:9};var kt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ve={[kt.CHROME]:16384,[kt.FIREFOX]:11180,[kt.DESKTOP_SAFARI]:16384,[kt.IE]:8192,[kt.IOS]:4096,[kt.ETC]:8192};const fe=typeof window!="undefined",Ce=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,te=fe&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),$e=(fe||Ce)&&(te&&te.getOriginalSymbol(window,"File")||typeof File!="undefined"&&File),Se=(fe||Ce)&&(te&&te.getOriginalSymbol(window,"FileReader")||typeof FileReader!="undefined"&&FileReader);function ue(W,D,y=Date.now()){return new Promise(m=>{const e=W.split(","),t=e[0].match(/:(.*?);/)[1],l=globalThis.atob(e[1]);let r=l.length;const f=new Uint8Array(r);for(;r--;)f[r]=l.charCodeAt(r);const g=new Blob([f],{type:t});g.name=D,g.lastModified=y,m(g)})}function Ee(W){return new Promise((D,y)=>{const m=new Se;m.onload=()=>D(m.result),m.onerror=e=>y(e),m.readAsDataURL(W)})}function ze(W){return new Promise((D,y)=>{const m=new Image;m.onload=()=>D(m),m.onerror=e=>y(e),m.src=W})}function Nt(){if(Nt.cachedResult!==void 0)return Nt.cachedResult;let W=kt.ETC;const{userAgent:D}=navigator;return/Chrom(e|ium)/i.test(D)?W=kt.CHROME:/iP(ad|od|hone)/i.test(D)&&/WebKit/i.test(D)?W=kt.IOS:/Safari/i.test(D)?W=kt.DESKTOP_SAFARI:/Firefox/i.test(D)?W=kt.FIREFOX:(/MSIE/i.test(D)||!!document.documentMode)&&(W=kt.IE),Nt.cachedResult=W,Nt.cachedResult}function Ie(W,D){const y=Nt(),m=Ve[y];let e=W,t=D,l=e*t;const r=e>t?t/e:e/t;for(;l>m*m;){const f=(m+e)/2,g=(m+t)/2;f<g?(t=g,e=g*r):(t=f*r,e=f),l=e*t}return{width:e,height:t}}function ae(W,D){let y,m;try{if(y=new OffscreenCanvas(W,D),m=y.getContext("2d"),m===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=document.createElement("canvas"),m=y.getContext("2d")}return y.width=W,y.height=D,[y,m]}function Ue(W,D){const{width:y,height:m}=Ie(W.width,W.height),[e,t]=ae(y,m);return D&&/jpe?g/.test(D)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(W,0,0,e.width,e.height),e}function qt(){return qt.cachedResult!==void 0||(qt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document!="undefined"&&"ontouchend"in document),qt.cachedResult}function ee(W,D={}){return new Promise(function(y,m){let e,t;var l=function(){try{return t=Ue(e,D.fileType||W.type),y([e,t])}catch(f){return m(f)}},r=function(f){try{var g=function(s){try{throw s}catch(o){return m(o)}};try{let s;return Ee(W).then(function(o){try{return s=o,ze(s).then(function(a){try{return e=a,function(){try{return l()}catch(i){return m(i)}}()}catch(i){return g(i)}},g)}catch(a){return g(a)}},g)}catch(s){g(s)}}catch(s){return m(s)}};try{if(qt()||[kt.DESKTOP_SAFARI,kt.MOBILE_SAFARI].includes(Nt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(W).then(function(f){try{return e=f,l()}catch{return r()}},r)}catch{r()}})}function re(W,D,y,m,e=1){return new Promise(function(t,l){let r;if(D==="image/png"){let g,s,o;return g=W.getContext("2d"),{data:s}=g.getImageData(0,0,W.width,W.height),o=Et.encode([s.buffer],W.width,W.height,4096*e),r=new Blob([o],{type:D}),r.name=y,r.lastModified=m,f.call(this)}{let g=function(){return f.call(this)};if(D==="image/bmp")return new Promise(s=>Ae.toBlob(W,s)).then(function(s){try{return r=s,r.name=y,r.lastModified=m,g.call(this)}catch(o){return l(o)}}.bind(this),l);{let s=function(){return g.call(this)};if(typeof OffscreenCanvas=="function"&&W instanceof OffscreenCanvas)return W.convertToBlob({type:D,quality:e}).then(function(o){try{return r=o,r.name=y,r.lastModified=m,s.call(this)}catch(a){return l(a)}}.bind(this),l);{let o;return o=W.toDataURL(D,e),ue(o,y,m).then(function(a){try{return r=a,s.call(this)}catch(i){return l(i)}}.bind(this),l)}}}function f(){return t(r)}})}function zt(W){W.width=0,W.height=0}function Wt(){return new Promise(function(W,D){let y,m,e,t;return Wt.cachedResult!==void 0?W(Wt.cachedResult):ue("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return y=l,ee(y).then(function(r){try{return m=r[1],re(m,y.type,y.name,y.lastModified).then(function(f){try{return e=f,zt(m),ee(e).then(function(g){try{return t=g[0],Wt.cachedResult=t.width===1&&t.height===2,W(Wt.cachedResult)}catch(s){return D(s)}},D)}catch(g){return D(g)}},D)}catch(f){return D(f)}},D)}catch(r){return D(r)}},D)})}function Te(W){return new Promise((D,y)=>{const m=new Se;m.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return D(-2);const l=t.byteLength;let r=2;for(;r<l;){if(t.getUint16(r+2,!1)<=8)return D(-1);const f=t.getUint16(r,!1);if(r+=2,f==65505){if(t.getUint32(r+=2,!1)!=1165519206)return D(-1);const g=t.getUint16(r+=6,!1)==18761;r+=t.getUint32(r+4,g);const s=t.getUint16(r,g);r+=2;for(let o=0;o<s;o++)if(t.getUint16(r+12*o,g)==274)return D(t.getUint16(r+12*o+8,g))}else{if((65280&f)!=65280)break;r+=t.getUint16(r,!1)}}return D(-1)},m.onerror=e=>y(e),m.readAsArrayBuffer(W)})}function Be(W,D){const{width:y}=W,{height:m}=W,{maxWidthOrHeight:e}=D;let t,l=W;return isFinite(e)&&(y>e||m>e)&&([l,t]=ae(y,m),y>m?(l.width=e,l.height=m/y*e):(l.width=y/m*e,l.height=e),t.drawImage(W,0,0,l.width,l.height),zt(W)),l}function Re(W,D){const{width:y}=W,{height:m}=W,[e,t]=ae(y,m);switch(D>4&&D<9?(e.width=m,e.height=y):(e.width=y,e.height=m),D){case 2:t.transform(-1,0,0,1,y,0);break;case 3:t.transform(-1,0,0,-1,y,m);break;case 4:t.transform(1,0,0,-1,0,m);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,m,0);break;case 7:t.transform(0,-1,-1,0,m,y);break;case 8:t.transform(0,-1,1,0,0,y)}return t.drawImage(W,0,0,y,m),zt(W),e}function ge(W,D,y=0){return new Promise(function(m,e){let t,l,r,f,g,s,o,a,i,c,u,_,p,C,S,z,B,E,O,k;function v(x=5){if(D.signal&&D.signal.aborted)throw D.signal.reason;t+=x,D.onProgress(Math.min(t,100))}function R(x){if(D.signal&&D.signal.aborted)throw D.signal.reason;t=Math.min(Math.max(x,t),100),D.onProgress(t)}return t=y,l=D.maxIteration||10,r=1024*D.maxSizeMB*1024,v(),ee(W,D).then(function(x){try{return[,f]=x,v(),g=Be(f,D),v(),new Promise(function(h,w){var n;if(!(n=D.exifOrientation))return Te(W).then(function(A){try{return n=A,U.call(this)}catch(b){return w(b)}}.bind(this),w);function U(){return h(n)}return U.call(this)}).then(function(h){try{return s=h,v(),Wt().then(function(w){try{return o=w?g:Re(g,s),v(),a=D.initialQuality||1,i=D.fileType||W.type,re(o,i,W.name,W.lastModified,a).then(function(n){try{{let A=function(){if(l--&&(S>r||S>p)){let H,F;return H=k?.95*O.width:O.width,F=k?.95*O.height:O.height,[B,E]=ae(H,F),E.drawImage(O,0,0,H,F),a*=i==="image/png"?.85:.95,re(B,i,W.name,W.lastModified,a).then(function(G){try{return z=G,zt(O),O=B,S=z.size,R(Math.min(99,Math.floor((C-S)/(C-r)*100))),A}catch(N){return e(N)}},e)}return[1]},b=function(){return zt(O),zt(B),zt(g),zt(o),zt(f),R(100),m(z)};if(c=n,v(),u=c.size>r,_=c.size>W.size,!u&&!_)return R(100),m(c);var U;return p=W.size,C=c.size,S=C,O=o,k=!D.alwaysKeepResolution&&u,(U=function(H){for(;H;){if(H.then)return void H.then(U,e);try{if(H.pop){if(H.length)return H.pop()?b.call(this):H;H=A}else H=H.call(this)}catch(F){return e(F)}}}.bind(this))(A)}}catch(A){return e(A)}}.bind(this),e)}catch(n){return e(n)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)}catch(h){return e(h)}}.bind(this),e)})}const Qe=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let oe;function Xe(W,D){return new Promise((y,m)=>{oe||(oe=function(l){const r=[];return typeof l=="function"?r.push(`(${l})()`):r.push(l),URL.createObjectURL(new Blob(r))}(Qe));const e=new Worker(oe);e.addEventListener("message",function(l){if(D.signal&&D.signal.aborted)e.terminate();else if(l.data.progress===void 0){if(l.data.error)return m(new Error(l.data.error)),void e.terminate();y(l.data.file),e.terminate()}else D.onProgress(l.data.progress)}),e.addEventListener("error",m),D.signal&&D.signal.addEventListener("abort",()=>{m(D.signal.reason),e.terminate()}),e.postMessage({file:W,imageCompressionLibUrl:D.libURL,options:{...D,onProgress:void 0,signal:void 0}})})}function bt(W,D){return new Promise(function(y,m){let e,t,l,r,f,g;if(e={...D},l=0,{onProgress:r}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,f=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=i=>{l=i,typeof r=="function"&&r(l)},!(W instanceof Blob||W instanceof $e))return m(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(W.type))return m(new Error("The file given is not an image"));if(g=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!f||typeof Worker!="function"||g)return ge(W,e).then(function(i){try{return t=i,a.call(this)}catch(c){return m(c)}}.bind(this),m);var s=function(){try{return a.call(this)}catch(i){return m(i)}}.bind(this),o=function(i){try{return ge(W,e).then(function(c){try{return t=c,s()}catch(u){return m(u)}},m)}catch(c){return m(c)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Xe(W,e).then(function(i){try{return t=i,s()}catch{return o()}},o)}catch{o()}function a(){try{t.name=W.name,t.lastModified=W.lastModified}catch{}try{e.preserveExif&&W.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===W.type)&&(t=xe(W,t))}catch{}return y(t)}})}bt.getDataUrlFromFile=Ee,bt.getFilefromDataUrl=ue,bt.loadImage=ze,bt.drawImageInCanvas=Ue,bt.drawFileInCanvas=ee,bt.canvasToFile=re,bt.getExifOrientation=Te,bt.handleMaxWidthOrHeight=Be,bt.followExifOrientation=Re,bt.cleanupCanvasMemory=zt,bt.isAutoOrientationInBrowser=Wt,bt.approximateBelowMaximumCanvasSizeOfBrowser=Ie,bt.copyExifWithoutOrientation=xe,bt.getBrowserName=Nt,bt.version="2.0.2";/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function _e(W,D){var y=Object.keys(W);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(W);D&&(m=m.filter(function(e){return Object.getOwnPropertyDescriptor(W,e).enumerable})),y.push.apply(y,m)}return y}function Yt(W){for(var D=1;D<arguments.length;D++){var y=arguments[D]!=null?arguments[D]:{};D%2?_e(Object(y),!0).forEach(function(m){Je(W,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(y)):_e(Object(y)).forEach(function(m){Object.defineProperty(W,m,Object.getOwnPropertyDescriptor(y,m))})}return W}function Ye(W,D){if(!(W instanceof D))throw new TypeError("Cannot call a class as a function")}function ve(W,D){for(var y=0;y<D.length;y++){var m=D[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(W,Fe(m.key),m)}}function qe(W,D,y){return D&&ve(W.prototype,D),y&&ve(W,y),Object.defineProperty(W,"prototype",{writable:!1}),W}function Je(W,D,y){return D=Fe(D),D in W?Object.defineProperty(W,D,{value:y,enumerable:!0,configurable:!0,writable:!0}):W[D]=y,W}function ne(){return ne=Object.assign?Object.assign.bind():function(W){for(var D=1;D<arguments.length;D++){var y=arguments[D];for(var m in y)Object.prototype.hasOwnProperty.call(y,m)&&(W[m]=y[m])}return W},ne.apply(this,arguments)}function tr(W,D){if(typeof W!="object"||W===null)return W;var y=W[Symbol.toPrimitive];if(y!==void 0){var m=y.call(W,D||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(W)}function Fe(W){var D=tr(W,"string");return typeof D=="symbol"?D:String(D)}var Oe={exports:{}};(function(W){typeof window!="undefined"&&function(D){var y=D.HTMLCanvasElement&&D.HTMLCanvasElement.prototype,m=D.Blob&&function(){try{return Boolean(new Blob)}catch{return!1}}(),e=m&&D.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),t=D.BlobBuilder||D.WebKitBlobBuilder||D.MozBlobBuilder||D.MSBlobBuilder,l=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,r=(m||t)&&D.atob&&D.ArrayBuffer&&D.Uint8Array&&function(f){var g,s,o,a,i,c,u,_,p;if(g=f.match(l),!g)throw new Error("invalid data URI");for(s=g[2]?g[1]:"text/plain"+(g[3]||";charset=US-ASCII"),o=!!g[4],a=f.slice(g[0].length),o?i=atob(a):i=decodeURIComponent(a),c=new ArrayBuffer(i.length),u=new Uint8Array(c),_=0;_<i.length;_+=1)u[_]=i.charCodeAt(_);return m?new Blob([e?u:c],{type:s}):(p=new t,p.append(c),p.getBlob(s))};D.HTMLCanvasElement&&!y.toBlob&&(y.mozGetAsFile?y.toBlob=function(f,g,s){var o=this;setTimeout(function(){s&&y.toDataURL&&r?f(r(o.toDataURL(g,s))):f(o.mozGetAsFile("blob",g))})}:y.toDataURL&&r&&(y.msToBlob?y.toBlob=function(f,g,s){var o=this;setTimeout(function(){(g&&g!=="image/png"||s)&&y.toDataURL&&r?f(r(o.toDataURL(g,s))):f(o.msToBlob(g))})}:y.toBlob=function(f,g,s){var o=this;setTimeout(function(){f(r(o.toDataURL(g,s)))})})),W.exports?W.exports=r:D.dataURLtoBlob=r}(window)})(Oe);var be=Oe.exports,er=function(D){return typeof Blob=="undefined"?!1:D instanceof Blob||Object.prototype.toString.call(D)==="[object Blob]"},ye={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},rr=typeof window!="undefined"&&typeof window.document!="undefined",Bt=rr?window:{},ie=function(D){return D>0&&D<1/0},nr=Array.prototype.slice;function he(W){return Array.from?Array.from(W):nr.call(W)}var ir=/^image\/.+$/;function ce(W){return ir.test(W)}function ar(W){var D=ce(W)?W.substr(6):"";return D==="jpeg"&&(D="jpg"),".".concat(D)}var De=String.fromCharCode;function sr(W,D,y){var m="",e;for(y+=D,e=D;e<y;e+=1)m+=De(W.getUint8(e));return m}var or=Bt.btoa;function we(W,D){for(var y=[],m=8192,e=new Uint8Array(W);e.length>0;)y.push(De.apply(null,he(e.subarray(0,m)))),e=e.subarray(m);return"data:".concat(D,";base64,").concat(or(y.join("")))}function lr(W){var D=new DataView(W),y;try{var m,e,t;if(D.getUint8(0)===255&&D.getUint8(1)===216)for(var l=D.byteLength,r=2;r+1<l;){if(D.getUint8(r)===255&&D.getUint8(r+1)===225){e=r;break}r+=1}if(e){var f=e+4,g=e+10;if(sr(D,f,4)==="Exif"){var s=D.getUint16(g);if(m=s===18761,(m||s===19789)&&D.getUint16(g+2,m)===42){var o=D.getUint32(g+4,m);o>=8&&(t=g+o)}}}if(t){var a=D.getUint16(t,m),i,c;for(c=0;c<a;c+=1)if(i=t+c*12+2,D.getUint16(i,m)===274){i+=8,y=D.getUint16(i,m),D.setUint16(i,1,m);break}}}catch{y=1}return y}function cr(W){var D=0,y=1,m=1;switch(W){case 2:y=-1;break;case 3:D=-180;break;case 4:m=-1;break;case 5:D=90,m=-1;break;case 6:D=90;break;case 7:D=90,y=-1;break;case 8:D=-90;break}return{rotate:D,scaleX:y,scaleY:m}}var fr=/\.\d*(?:0|9){12}\d*$/;function ke(W){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return fr.test(W)?Math.round(W*D)/D:W}function Gt(W){var D=W.aspectRatio,y=W.height,m=W.width,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",t=ie(m),l=ie(y);if(t&&l){var r=y*D;(e==="contain"||e==="none")&&r>m||e==="cover"&&r<m?y=m/D:m=y*D}else t?y=m/D:l&&(m=y*D);return{width:m,height:y}}function ur(W){for(var D=he(new Uint8Array(W)),y=D.length,m=[],e=0;e+3<y;){var t=D[e],l=D[e+1];if(t===255&&l===218)break;if(t===255&&l===216)e+=2;else{var r=D[e+2]*256+D[e+3],f=e+r+2,g=D.slice(e,f);m.push(g),e=f}}return m.reduce(function(s,o){return o[0]===255&&o[1]===225?s.concat(o):s},[])}function hr(W,D){var y=he(new Uint8Array(W));if(y[2]!==255||y[3]!==224)return W;var m=y[4]*256+y[5],e=[255,216].concat(D,y.slice(4+m));return new Uint8Array(e)}var dr=Bt.ArrayBuffer,le=Bt.FileReader,Lt=Bt.URL||Bt.webkitURL,pr=/\.\w+$/,mr=Bt.Compressor,gr=function(){function W(D,y){Ye(this,W),this.file=D,this.exif=[],this.image=new Image,this.options=Yt(Yt({},ye),y),this.aborted=!1,this.result=null,this.init()}return qe(W,[{key:"init",value:function(){var y=this,m=this.file,e=this.options;if(!er(m)){this.fail(new Error("The first argument must be a File or Blob object."));return}var t=m.type;if(!ce(t)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Lt||!le){this.fail(new Error("The current browser does not support image compression."));return}dr||(e.checkOrientation=!1,e.retainExif=!1);var l=t==="image/jpeg",r=l&&e.checkOrientation,f=l&&e.retainExif;if(Lt&&!r&&!f)this.load({url:Lt.createObjectURL(m)});else{var g=new le;this.reader=g,g.onload=function(s){var o=s.target,a=o.result,i={},c=1;r&&(c=lr(a),c>1&&ne(i,cr(c))),f&&(y.exif=ur(a)),r||f?!Lt||c>1?i.url=we(a,t):i.url=Lt.createObjectURL(m):i.url=a,y.load(i)},g.onabort=function(){y.fail(new Error("Aborted to read the image with FileReader."))},g.onerror=function(){y.fail(new Error("Failed to read the image with FileReader."))},g.onloadend=function(){y.reader=null},r||f?g.readAsArrayBuffer(m):g.readAsDataURL(m)}}},{key:"load",value:function(y){var m=this,e=this.file,t=this.image;t.onload=function(){m.draw(Yt(Yt({},y),{},{naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight}))},t.onabort=function(){m.fail(new Error("Aborted to load the image."))},t.onerror=function(){m.fail(new Error("Failed to load the image."))},Bt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Bt.navigator.userAgent)&&(t.crossOrigin="anonymous"),t.alt=e.name,t.src=y.url}},{key:"draw",value:function(y){var m=this,e=y.naturalWidth,t=y.naturalHeight,l=y.rotate,r=l===void 0?0:l,f=y.scaleX,g=f===void 0?1:f,s=y.scaleY,o=s===void 0?1:s,a=this.file,i=this.image,c=this.options,u=document.createElement("canvas"),_=u.getContext("2d"),p=Math.abs(r)%180===90,C=(c.resize==="contain"||c.resize==="cover")&&ie(c.width)&&ie(c.height),S=Math.max(c.maxWidth,0)||1/0,z=Math.max(c.maxHeight,0)||1/0,B=Math.max(c.minWidth,0)||0,E=Math.max(c.minHeight,0)||0,O=e/t,k=c.width,v=c.height;if(p){var R=[z,S];S=R[0],z=R[1];var x=[E,B];B=x[0],E=x[1];var h=[v,k];k=h[0],v=h[1]}C&&(O=k/v);var w=Gt({aspectRatio:O,width:S,height:z},"contain");S=w.width,z=w.height;var n=Gt({aspectRatio:O,width:B,height:E},"cover");if(B=n.width,E=n.height,C){var U=Gt({aspectRatio:O,width:k,height:v},c.resize);k=U.width,v=U.height}else{var A=Gt({aspectRatio:O,width:k,height:v}),b=A.width;k=b===void 0?e:b;var H=A.height;v=H===void 0?t:H}k=Math.floor(ke(Math.min(Math.max(k,B),S))),v=Math.floor(ke(Math.min(Math.max(v,E),z)));var F=-k/2,G=-v/2,N=k,P=v,$=[];if(C){var Z=0,L=0,et=e,st=t,rt=Gt({aspectRatio:O,width:e,height:t},{contain:"cover",cover:"contain"}[c.resize]);et=rt.width,st=rt.height,Z=(e-et)/2,L=(t-st)/2,$.push(Z,L,et,st)}if($.push(F,G,N,P),p){var nt=[v,k];k=nt[0],v=nt[1]}u.width=k,u.height=v,ce(c.mimeType)||(c.mimeType=a.type);var ot="transparent";a.size>c.convertSize&&c.convertTypes.indexOf(c.mimeType)>=0&&(c.mimeType="image/jpeg");var lt=c.mimeType==="image/jpeg";if(lt&&(ot="#fff"),_.fillStyle=ot,_.fillRect(0,0,k,v),c.beforeDraw&&c.beforeDraw.call(this,_,u),!this.aborted&&(_.save(),_.translate(k/2,v/2),_.rotate(r*Math.PI/180),_.scale(g,o),_.drawImage.apply(_,[i].concat($)),_.restore(),c.drew&&c.drew.call(this,_,u),!this.aborted)){var ct=function(d){if(!m.aborted){var V=function(M){return m.done({naturalWidth:e,naturalHeight:t,result:M})};if(d&&lt&&c.retainExif&&m.exif&&m.exif.length>0){var K=function(M){return V(be(we(hr(M,m.exif),c.mimeType)))};if(d.arrayBuffer)d.arrayBuffer().then(K).catch(function(){m.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var T=new le;m.reader=T,T.onload=function(I){var M=I.target;K(M.result)},T.onabort=function(){m.fail(new Error("Aborted to read the compressed image with FileReader."))},T.onerror=function(){m.fail(new Error("Failed to read the compressed image with FileReader."))},T.onloadend=function(){m.reader=null},T.readAsArrayBuffer(d)}}else V(d)}};u.toBlob?u.toBlob(ct,c.mimeType,c.quality):ct(be(u.toDataURL(c.mimeType,c.quality)))}}},{key:"done",value:function(y){var m=y.naturalWidth,e=y.naturalHeight,t=y.result,l=this.file,r=this.image,f=this.options;if(Lt&&r.src.indexOf("blob:")===0&&Lt.revokeObjectURL(r.src),t)if(f.strict&&!f.retainExif&&t.size>l.size&&f.mimeType===l.type&&!(f.width>m||f.height>e||f.minWidth>m||f.minHeight>e||f.maxWidth<m||f.maxHeight<e))t=l;else{var g=new Date;t.lastModified=g.getTime(),t.lastModifiedDate=g,t.name=l.name,t.name&&t.type!==l.type&&(t.name=t.name.replace(pr,ar(t.type)))}else t=l;this.result=t,f.success&&f.success.call(this,t)}},{key:"fail",value:function(y){var m=this.options;if(m.error)m.error.call(this,y);else throw y}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=mr,W}},{key:"setDefaults",value:function(y){ne(ye,y)}}]),W}(),Pe={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(W,D){(function(y){W.exports=y()})(function(){return function y(m,e,t){function l(g,s){if(!e[g]){if(!m[g]){var o=typeof Xt=="function"&&Xt;if(!s&&o)return o(g,!0);if(r)return r(g,!0);var a=new Error("Cannot find module '"+g+"'");throw a.code="MODULE_NOT_FOUND",a}var i=e[g]={exports:{}};m[g][0].call(i.exports,function(c){var u=m[g][1][c];return l(u||c)},i,i.exports,y,m,e,t)}return e[g].exports}for(var r=typeof Xt=="function"&&Xt,f=0;f<t.length;f++)l(t[f]);return l}({1:[function(y,m,e){var t=y("./utils"),l=y("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(f){for(var g,s,o,a,i,c,u,_=[],p=0,C=f.length,S=C,z=t.getTypeOf(f)!=="string";p<f.length;)S=C-p,o=z?(g=f[p++],s=p<C?f[p++]:0,p<C?f[p++]:0):(g=f.charCodeAt(p++),s=p<C?f.charCodeAt(p++):0,p<C?f.charCodeAt(p++):0),a=g>>2,i=(3&g)<<4|s>>4,c=1<S?(15&s)<<2|o>>6:64,u=2<S?63&o:64,_.push(r.charAt(a)+r.charAt(i)+r.charAt(c)+r.charAt(u));return _.join("")},e.decode=function(f){var g,s,o,a,i,c,u=0,_=0,p="data:";if(f.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var C,S=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===r.charAt(64)&&S--,f.charAt(f.length-2)===r.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=l.uint8array?new Uint8Array(0|S):new Array(0|S);u<f.length;)g=r.indexOf(f.charAt(u++))<<2|(a=r.indexOf(f.charAt(u++)))>>4,s=(15&a)<<4|(i=r.indexOf(f.charAt(u++)))>>2,o=(3&i)<<6|(c=r.indexOf(f.charAt(u++))),C[_++]=g,i!==64&&(C[_++]=s),c!==64&&(C[_++]=o);return C}},{"./support":30,"./utils":32}],2:[function(y,m,e){var t=y("./external"),l=y("./stream/DataWorker"),r=y("./stream/Crc32Probe"),f=y("./stream/DataLengthProbe");function g(s,o,a,i,c){this.compressedSize=s,this.uncompressedSize=o,this.crc32=a,this.compression=i,this.compressedContent=c}g.prototype={getContentWorker:function(){var s=new l(t.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),o=this;return s.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),s},getCompressedWorker:function(){return new l(t.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(s,o,a){return s.pipe(new r).pipe(new f("uncompressedSize")).pipe(o.compressWorker(a)).pipe(new f("compressedSize")).withStreamInfo("compression",o)},m.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(y,m,e){var t=y("./stream/GenericWorker");e.STORE={magic:"\0\0",compressWorker:function(){return new t("STORE compression")},uncompressWorker:function(){return new t("STORE decompression")}},e.DEFLATE=y("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(y,m,e){var t=y("./utils"),l=function(){for(var r,f=[],g=0;g<256;g++){r=g;for(var s=0;s<8;s++)r=1&r?3988292384^r>>>1:r>>>1;f[g]=r}return f}();m.exports=function(r,f){return r!==void 0&&r.length?t.getTypeOf(r)!=="string"?function(g,s,o,a){var i=l,c=a+o;g^=-1;for(var u=a;u<c;u++)g=g>>>8^i[255&(g^s[u])];return-1^g}(0|f,r,r.length,0):function(g,s,o,a){var i=l,c=a+o;g^=-1;for(var u=a;u<c;u++)g=g>>>8^i[255&(g^s.charCodeAt(u))];return-1^g}(0|f,r,r.length,0):0}},{"./utils":32}],5:[function(y,m,e){e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},{}],6:[function(y,m,e){var t=null;t=typeof Promise!="undefined"?Promise:y("lie"),m.exports={Promise:t}},{lie:37}],7:[function(y,m,e){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",l=y("pako"),r=y("./utils"),f=y("./stream/GenericWorker"),g=t?"uint8array":"array";function s(o,a){f.call(this,"FlateWorker/"+o),this._pako=null,this._pakoAction=o,this._pakoOptions=a,this.meta={}}e.magic="\b\0",r.inherits(s,f),s.prototype.processChunk=function(o){this.meta=o.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(g,o.data),!1)},s.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var o=this;this._pako.onData=function(a){o.push({data:a,meta:o.meta})}},e.compressWorker=function(o){return new s("Deflate",o)},e.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(y,m,e){function t(i,c){var u,_="";for(u=0;u<c;u++)_+=String.fromCharCode(255&i),i>>>=8;return _}function l(i,c,u,_,p,C){var S,z,B=i.file,E=i.compression,O=C!==g.utf8encode,k=r.transformTo("string",C(B.name)),v=r.transformTo("string",g.utf8encode(B.name)),R=B.comment,x=r.transformTo("string",C(R)),h=r.transformTo("string",g.utf8encode(R)),w=v.length!==B.name.length,n=h.length!==R.length,U="",A="",b="",H=B.dir,F=B.date,G={crc32:0,compressedSize:0,uncompressedSize:0};c&&!u||(G.crc32=i.crc32,G.compressedSize=i.compressedSize,G.uncompressedSize=i.uncompressedSize);var N=0;c&&(N|=8),O||!w&&!n||(N|=2048);var P=0,$=0;H&&(P|=16),p==="UNIX"?($=798,P|=function(L,et){var st=L;return L||(st=et?16893:33204),(65535&st)<<16}(B.unixPermissions,H)):($=20,P|=function(L){return 63&(L||0)}(B.dosPermissions)),S=F.getUTCHours(),S<<=6,S|=F.getUTCMinutes(),S<<=5,S|=F.getUTCSeconds()/2,z=F.getUTCFullYear()-1980,z<<=4,z|=F.getUTCMonth()+1,z<<=5,z|=F.getUTCDate(),w&&(A=t(1,1)+t(s(k),4)+v,U+="up"+t(A.length,2)+A),n&&(b=t(1,1)+t(s(x),4)+h,U+="uc"+t(b.length,2)+b);var Z="";return Z+=`
\0`,Z+=t(N,2),Z+=E.magic,Z+=t(S,2),Z+=t(z,2),Z+=t(G.crc32,4),Z+=t(G.compressedSize,4),Z+=t(G.uncompressedSize,4),Z+=t(k.length,2),Z+=t(U.length,2),{fileRecord:o.LOCAL_FILE_HEADER+Z+k+U,dirRecord:o.CENTRAL_FILE_HEADER+t($,2)+Z+t(x.length,2)+"\0\0\0\0"+t(P,4)+t(_,4)+k+U+x}}var r=y("../utils"),f=y("../stream/GenericWorker"),g=y("../utf8"),s=y("../crc32"),o=y("../signature");function a(i,c,u,_){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=c,this.zipPlatform=u,this.encodeFileName=_,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(a,f),a.prototype.push=function(i){var c=i.meta.percent||0,u=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,f.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:u?(c+100*(u-_-1))/u:100}}))},a.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var c=this.streamFiles&&!i.file.dir;if(c){var u=l(i,c,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},a.prototype.closedSource=function(i){this.accumulate=!1;var c=this.streamFiles&&!i.file.dir,u=l(i,c,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),c)this.push({data:function(_){return o.DATA_DESCRIPTOR+t(_.crc32,4)+t(_.compressedSize,4)+t(_.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},a.prototype.flush=function(){for(var i=this.bytesWritten,c=0;c<this.dirRecords.length;c++)this.push({data:this.dirRecords[c],meta:{percent:100}});var u=this.bytesWritten-i,_=function(p,C,S,z,B){var E=r.transformTo("string",B(z));return o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+t(p,2)+t(p,2)+t(C,4)+t(S,4)+t(E.length,2)+E}(this.dirRecords.length,u,i,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},a.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},a.prototype.registerPrevious=function(i){this._sources.push(i);var c=this;return i.on("data",function(u){c.processChunk(u)}),i.on("end",function(){c.closedSource(c.previous.streamInfo),c._sources.length?c.prepareNextSource():c.end()}),i.on("error",function(u){c.error(u)}),this},a.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},a.prototype.error=function(i){var c=this._sources;if(!f.prototype.error.call(this,i))return!1;for(var u=0;u<c.length;u++)try{c[u].error(i)}catch{}return!0},a.prototype.lock=function(){f.prototype.lock.call(this);for(var i=this._sources,c=0;c<i.length;c++)i[c].lock()},m.exports=a},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(y,m,e){var t=y("../compressions"),l=y("./ZipFileWorker");e.generateWorker=function(r,f,g){var s=new l(f.streamFiles,g,f.platform,f.encodeFileName),o=0;try{r.forEach(function(a,i){o++;var c=function(C,S){var z=C||S,B=t[z];if(!B)throw new Error(z+" is not a valid compression method !");return B}(i.options.compression,f.compression),u=i.options.compressionOptions||f.compressionOptions||{},_=i.dir,p=i.date;i._compressWorker(c,u).withStreamInfo("file",{name:a,dir:_,date:p,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)}),s.entriesCount=o}catch(a){s.error(a)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(y,m,e){function t(){if(!(this instanceof t))return new t;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new t;for(var r in this)typeof this[r]!="function"&&(l[r]=this[r]);return l}}(t.prototype=y("./object")).loadAsync=y("./load"),t.support=y("./support"),t.defaults=y("./defaults"),t.version="3.10.1",t.loadAsync=function(l,r){return new t().loadAsync(l,r)},t.external=y("./external"),m.exports=t},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(y,m,e){var t=y("./utils"),l=y("./external"),r=y("./utf8"),f=y("./zipEntries"),g=y("./stream/Crc32Probe"),s=y("./nodejsUtils");function o(a){return new l.Promise(function(i,c){var u=a.decompressed.getContentWorker().pipe(new g);u.on("error",function(_){c(_)}).on("end",function(){u.streamInfo.crc32!==a.decompressed.crc32?c(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}m.exports=function(a,i){var c=this;return i=t.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),s.isNode&&s.isStream(a)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):t.prepareContent("the loaded zip file",a,!0,i.optimizedBinaryString,i.base64).then(function(u){var _=new f(i);return _.load(u),_}).then(function(u){var _=[l.Promise.resolve(u)],p=u.files;if(i.checkCRC32)for(var C=0;C<p.length;C++)_.push(o(p[C]));return l.Promise.all(_)}).then(function(u){for(var _=u.shift(),p=_.files,C=0;C<p.length;C++){var S=p[C],z=S.fileNameStr,B=t.resolve(S.fileNameStr);c.file(B,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:i.createFolders}),S.dir||(c.file(B).unsafeOriginalName=z)}return _.zipComment.length&&(c.comment=_.zipComment),c})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(y,m,e){var t=y("../utils"),l=y("../stream/GenericWorker");function r(f,g){l.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(g)}t.inherits(r,l),r.prototype._bindStream=function(f){var g=this;(this._stream=f).pause(),f.on("data",function(s){g.push({data:s,meta:{percent:0}})}).on("error",function(s){g.isPaused?this.generatedError=s:g.error(s)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(y,m,e){var t=y("readable-stream").Readable;function l(r,f,g){t.call(this,f),this._helper=r;var s=this;r.on("data",function(o,a){s.push(o)||s._helper.pause(),g&&g(a)}).on("error",function(o){s.emit("error",o)}).on("end",function(){s.push(null)})}y("../utils").inherits(l,t),l.prototype._read=function(){this._helper.resume()},m.exports=l},{"../utils":32,"readable-stream":16}],14:[function(y,m,e){m.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(t,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,l);if(typeof t=="number")throw new Error('The "data" argument must not be a number');return new Buffer(t,l)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var l=new Buffer(t);return l.fill(0),l},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&typeof t.on=="function"&&typeof t.pause=="function"&&typeof t.resume=="function"}}},{}],15:[function(y,m,e){function t(B,E,O){var k,v=r.getTypeOf(E),R=r.extend(O||{},s);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(B=p(B)),R.createFolders&&(k=_(B))&&C.call(this,k,!0);var x=v==="string"&&R.binary===!1&&R.base64===!1;O&&O.binary!==void 0||(R.binary=!x),(E instanceof o&&E.uncompressedSize===0||R.dir||!E||E.length===0)&&(R.base64=!1,R.binary=!0,E="",R.compression="STORE",v="string");var h=null;h=E instanceof o||E instanceof f?E:c.isNode&&c.isStream(E)?new u(B,E):r.prepareContent(B,E,R.binary,R.optimizedBinaryString,R.base64);var w=new a(B,h,R);this.files[B]=w}var l=y("./utf8"),r=y("./utils"),f=y("./stream/GenericWorker"),g=y("./stream/StreamHelper"),s=y("./defaults"),o=y("./compressedObject"),a=y("./zipObject"),i=y("./generate"),c=y("./nodejsUtils"),u=y("./nodejs/NodejsStreamInputAdapter"),_=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var E=B.lastIndexOf("/");return 0<E?B.substring(0,E):""},p=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},C=function(B,E){return E=E!==void 0?E:s.createFolders,B=p(B),this.files[B]||t.call(this,B,null,{dir:!0,createFolders:E}),this.files[B]};function S(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var E,O,k;for(E in this.files)k=this.files[E],(O=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&B(O,k)},filter:function(B){var E=[];return this.forEach(function(O,k){B(O,k)&&E.push(k)}),E},file:function(B,E,O){if(arguments.length!==1)return B=this.root+B,t.call(this,B,E,O),this;if(S(B)){var k=B;return this.filter(function(R,x){return!x.dir&&k.test(R)})}var v=this.files[this.root+B];return v&&!v.dir?v:null},folder:function(B){if(!B)return this;if(S(B))return this.filter(function(v,R){return R.dir&&B.test(v)});var E=this.root+B,O=C.call(this,E),k=this.clone();return k.root=O.name,k},remove:function(B){B=this.root+B;var E=this.files[B];if(E||(B.slice(-1)!=="/"&&(B+="/"),E=this.files[B]),E&&!E.dir)delete this.files[B];else for(var O=this.filter(function(v,R){return R.name.slice(0,B.length)===B}),k=0;k<O.length;k++)delete this.files[O[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var E,O={};try{if((O=r.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");r.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var k=O.comment||this.comment||"";E=i.generateWorker(this,O,k)}catch(v){(E=new f("error")).error(v)}return new g(E,O.type||"string",O.mimeType)},generateAsync:function(B,E){return this.generateInternalStream(B).accumulate(E)},generateNodeStream:function(B,E){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(E)}};m.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(y,m,e){m.exports=y("stream")},{stream:void 0}],17:[function(y,m,e){var t=y("./DataReader");function l(r){t.call(this,r);for(var f=0;f<this.data.length;f++)r[f]=255&r[f]}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var f=r.charCodeAt(0),g=r.charCodeAt(1),s=r.charCodeAt(2),o=r.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===f&&this.data[a+1]===g&&this.data[a+2]===s&&this.data[a+3]===o)return a-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var f=r.charCodeAt(0),g=r.charCodeAt(1),s=r.charCodeAt(2),o=r.charCodeAt(3),a=this.readData(4);return f===a[0]&&g===a[1]&&s===a[2]&&o===a[3]},l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./DataReader":18}],18:[function(y,m,e){var t=y("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var f,g=0;for(this.checkOffset(r),f=this.index+r-1;f>=this.index;f--)g=(g<<8)+this.byteAt(f);return this.index+=r,g},readString:function(r){return t.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},m.exports=l},{"../utils":32}],19:[function(y,m,e){var t=y("./Uint8ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){this.checkOffset(r);var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(y,m,e){var t=y("./DataReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var f=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./DataReader":18}],21:[function(y,m,e){var t=y("./ArrayReader");function l(r){t.call(this,r)}y("../utils").inherits(l,t),l.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,f},m.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(y,m,e){var t=y("../utils"),l=y("../support"),r=y("./ArrayReader"),f=y("./StringReader"),g=y("./NodeBufferReader"),s=y("./Uint8ArrayReader");m.exports=function(o){var a=t.getTypeOf(o);return t.checkSupport(a),a!=="string"||l.uint8array?a==="nodebuffer"?new g(o):l.uint8array?new s(t.transformTo("uint8array",o)):new r(t.transformTo("array",o)):new f(o)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(y,m,e){e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(y,m,e){var t=y("./GenericWorker"),l=y("../utils");function r(f){t.call(this,"ConvertWorker to "+f),this.destType=f}l.inherits(r,t),r.prototype.processChunk=function(f){this.push({data:l.transformTo(this.destType,f.data),meta:f.meta})},m.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(y,m,e){var t=y("./GenericWorker"),l=y("../crc32");function r(){t.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}y("../utils").inherits(r,t),r.prototype.processChunk=function(f){this.streamInfo.crc32=l(f.data,this.streamInfo.crc32||0),this.push(f)},m.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(y,m,e){var t=y("../utils"),l=y("./GenericWorker");function r(f){l.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}t.inherits(r,l),r.prototype.processChunk=function(f){if(f){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+f.data.length}l.prototype.processChunk.call(this,f)},m.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(y,m,e){var t=y("../utils"),l=y("./GenericWorker");function r(f){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(s){g.dataIsReady=!0,g.data=s,g.max=s&&s.length||0,g.type=t.getTypeOf(s),g.isPaused||g._tickAndRepeat()},function(s){g.error(s)})}t.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,t.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(t.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,g);break;case"uint8array":f=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":f=this.data.slice(this.index,g)}return this.index=g,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(y,m,e){function t(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var f=0;f<this._listeners[l].length;f++)this._listeners[l][f].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(f){r.processChunk(f)}),l.on("end",function(){r.end()}),l.on("error",function(f){r.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},m.exports=t},{}],29:[function(y,m,e){var t=y("../utils"),l=y("./ConvertWorker"),r=y("./GenericWorker"),f=y("../base64"),g=y("../support"),s=y("../external"),o=null;if(g.nodestream)try{o=y("../nodejs/NodejsStreamOutputAdapter")}catch{}function a(c,u){return new s.Promise(function(_,p){var C=[],S=c._internalType,z=c._outputType,B=c._mimeType;c.on("data",function(E,O){C.push(E),u&&u(O)}).on("error",function(E){C=[],p(E)}).on("end",function(){try{var E=function(O,k,v){switch(O){case"blob":return t.newBlob(t.transformTo("arraybuffer",k),v);case"base64":return f.encode(k);default:return t.transformTo(O,k)}}(z,function(O,k){var v,R=0,x=null,h=0;for(v=0;v<k.length;v++)h+=k[v].length;switch(O){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(x=new Uint8Array(h),v=0;v<k.length;v++)x.set(k[v],R),R+=k[v].length;return x;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+O+"'")}}(S,C),B);_(E)}catch(O){p(O)}C=[]}).resume()})}function i(c,u,_){var p=u;switch(u){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=u,this._mimeType=_,t.checkSupport(p),this._worker=c.pipe(new l(p)),c.lock()}catch(C){this._worker=new r("error"),this._worker.error(C)}}i.prototype={accumulate:function(c){return a(this,c)},on:function(c,u){var _=this;return c==="data"?this._worker.on(c,function(p){u.call(_,p.data,p.meta)}):this._worker.on(c,function(){t.delay(u,arguments,_)}),this},resume:function(){return t.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(t.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new o(this,{objectMode:this._outputType!=="nodebuffer"},c)}},m.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(y,m,e){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",e.nodebuffer=typeof Buffer!="undefined",e.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")e.blob=!1;else{var t=new ArrayBuffer(0);try{e.blob=new Blob([t],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(t),e.blob=l.getBlob("application/zip").size===0}catch{e.blob=!1}}}try{e.nodestream=!!y("readable-stream").Readable}catch{e.nodestream=!1}},{"readable-stream":16}],31:[function(y,m,e){for(var t=y("./utils"),l=y("./support"),r=y("./nodejsUtils"),f=y("./stream/GenericWorker"),g=new Array(256),s=0;s<256;s++)g[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;g[254]=g[254]=1;function o(){f.call(this,"utf-8 decode"),this.leftOver=null}function a(){f.call(this,"utf-8 encode")}e.utf8encode=function(i){return l.nodebuffer?r.newBufferFrom(i,"utf-8"):function(c){var u,_,p,C,S,z=c.length,B=0;for(C=0;C<z;C++)(64512&(_=c.charCodeAt(C)))==55296&&C+1<z&&(64512&(p=c.charCodeAt(C+1)))==56320&&(_=65536+(_-55296<<10)+(p-56320),C++),B+=_<128?1:_<2048?2:_<65536?3:4;for(u=l.uint8array?new Uint8Array(B):new Array(B),C=S=0;S<B;C++)(64512&(_=c.charCodeAt(C)))==55296&&C+1<z&&(64512&(p=c.charCodeAt(C+1)))==56320&&(_=65536+(_-55296<<10)+(p-56320),C++),_<128?u[S++]=_:(_<2048?u[S++]=192|_>>>6:(_<65536?u[S++]=224|_>>>12:(u[S++]=240|_>>>18,u[S++]=128|_>>>12&63),u[S++]=128|_>>>6&63),u[S++]=128|63&_);return u}(i)},e.utf8decode=function(i){return l.nodebuffer?t.transformTo("nodebuffer",i).toString("utf-8"):function(c){var u,_,p,C,S=c.length,z=new Array(2*S);for(u=_=0;u<S;)if((p=c[u++])<128)z[_++]=p;else if(4<(C=g[p]))z[_++]=65533,u+=C-1;else{for(p&=C===2?31:C===3?15:7;1<C&&u<S;)p=p<<6|63&c[u++],C--;1<C?z[_++]=65533:p<65536?z[_++]=p:(p-=65536,z[_++]=55296|p>>10&1023,z[_++]=56320|1023&p)}return z.length!==_&&(z.subarray?z=z.subarray(0,_):z.length=_),t.applyFromCharCode(z)}(i=t.transformTo(l.uint8array?"uint8array":"array",i))},t.inherits(o,f),o.prototype.processChunk=function(i){var c=t.transformTo(l.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var u=c;(c=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),c.set(u,this.leftOver.length)}else c=this.leftOver.concat(c);this.leftOver=null}var _=function(C,S){var z;for((S=S||C.length)>C.length&&(S=C.length),z=S-1;0<=z&&(192&C[z])==128;)z--;return z<0||z===0?S:z+g[C[z]]>S?z:S}(c),p=c;_!==c.length&&(l.uint8array?(p=c.subarray(0,_),this.leftOver=c.subarray(_,c.length)):(p=c.slice(0,_),this.leftOver=c.slice(_,c.length))),this.push({data:e.utf8decode(p),meta:i.meta})},o.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=o,t.inherits(a,f),a.prototype.processChunk=function(i){this.push({data:e.utf8encode(i.data),meta:i.meta})},e.Utf8EncodeWorker=a},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(y,m,e){var t=y("./support"),l=y("./base64"),r=y("./nodejsUtils"),f=y("./external");function g(u){return u}function s(u,_){for(var p=0;p<u.length;++p)_[p]=255&u.charCodeAt(p);return _}y("setimmediate"),e.newBlob=function(u,_){e.checkSupport("blob");try{return new Blob([u],{type:_})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(u),p.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var o={stringifyByChunk:function(u,_,p){var C=[],S=0,z=u.length;if(z<=p)return String.fromCharCode.apply(null,u);for(;S<z;)_==="array"||_==="nodebuffer"?C.push(String.fromCharCode.apply(null,u.slice(S,Math.min(S+p,z)))):C.push(String.fromCharCode.apply(null,u.subarray(S,Math.min(S+p,z)))),S+=p;return C.join("")},stringifyByChar:function(u){for(var _="",p=0;p<u.length;p++)_+=String.fromCharCode(u[p]);return _},applyCanBeUsed:{uint8array:function(){try{return t.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return t.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function a(u){var _=65536,p=e.getTypeOf(u),C=!0;if(p==="uint8array"?C=o.applyCanBeUsed.uint8array:p==="nodebuffer"&&(C=o.applyCanBeUsed.nodebuffer),C)for(;1<_;)try{return o.stringifyByChunk(u,p,_)}catch{_=Math.floor(_/2)}return o.stringifyByChar(u)}function i(u,_){for(var p=0;p<u.length;p++)_[p]=u[p];return _}e.applyFromCharCode=a;var c={};c.string={string:g,array:function(u){return s(u,new Array(u.length))},arraybuffer:function(u){return c.string.uint8array(u).buffer},uint8array:function(u){return s(u,new Uint8Array(u.length))},nodebuffer:function(u){return s(u,r.allocBuffer(u.length))}},c.array={string:a,array:g,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(u)}},c.arraybuffer={string:function(u){return a(new Uint8Array(u))},array:function(u){return i(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:g,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return r.newBufferFrom(new Uint8Array(u))}},c.uint8array={string:a,array:function(u){return i(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:g,nodebuffer:function(u){return r.newBufferFrom(u)}},c.nodebuffer={string:a,array:function(u){return i(u,new Array(u.length))},arraybuffer:function(u){return c.nodebuffer.uint8array(u).buffer},uint8array:function(u){return i(u,new Uint8Array(u.length))},nodebuffer:g},e.transformTo=function(u,_){if(_=_||"",!u)return _;e.checkSupport(u);var p=e.getTypeOf(_);return c[p][u](_)},e.resolve=function(u){for(var _=u.split("/"),p=[],C=0;C<_.length;C++){var S=_[C];S==="."||S===""&&C!==0&&C!==_.length-1||(S===".."?p.pop():p.push(S))}return p.join("/")},e.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":t.nodebuffer&&r.isBuffer(u)?"nodebuffer":t.uint8array&&u instanceof Uint8Array?"uint8array":t.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(u){if(!t[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(u){var _,p,C="";for(p=0;p<(u||"").length;p++)C+="\\x"+((_=u.charCodeAt(p))<16?"0":"")+_.toString(16).toUpperCase();return C},e.delay=function(u,_,p){setImmediate(function(){u.apply(p||null,_||[])})},e.inherits=function(u,_){function p(){}p.prototype=_.prototype,u.prototype=new p},e.extend=function(){var u,_,p={};for(u=0;u<arguments.length;u++)for(_ in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],_)&&p[_]===void 0&&(p[_]=arguments[u][_]);return p},e.prepareContent=function(u,_,p,C,S){return f.Promise.resolve(_).then(function(z){return t.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader!="undefined"?new f.Promise(function(B,E){var O=new FileReader;O.onload=function(k){B(k.target.result)},O.onerror=function(k){E(k.target.error)},O.readAsArrayBuffer(z)}):z}).then(function(z){var B=e.getTypeOf(z);return B?(B==="arraybuffer"?z=e.transformTo("uint8array",z):B==="string"&&(S?z=l.decode(z):p&&C!==!0&&(z=function(E){return s(E,t.uint8array?new Uint8Array(E.length):new Array(E.length))}(z))),z):f.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(y,m,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./signature"),f=y("./zipEntry"),g=y("./support");function s(o){this.files=[],this.loadOptions=o}s.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(a)+", expected "+l.pretty(o)+")")}},isSignature:function(o,a){var i=this.reader.index;this.reader.setIndex(o);var c=this.reader.readString(4)===a;return this.reader.setIndex(i),c},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),a=g.uint8array?"uint8array":"array",i=l.transformTo(a,o);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,a,i,c=this.zip64EndOfCentralSize-44;0<c;)o=this.reader.readInt(2),a=this.reader.readInt(4),i=this.reader.readData(a),this.zip64ExtensibleData[o]={id:o,length:a,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,a;for(o=0;o<this.files.length;o++)a=this.files[o],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(o=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var a=o;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var c=a-i;if(0<c)this.isSignature(a,r.CENTRAL_FILE_HEADER)||(this.reader.zero=c);else if(c<0)throw new Error("Corrupted zip: missing "+Math.abs(c)+" bytes.")},prepareReader:function(o){this.reader=t(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(y,m,e){var t=y("./reader/readerFor"),l=y("./utils"),r=y("./compressedObject"),f=y("./crc32"),g=y("./utf8"),s=y("./compressions"),o=y("./support");function a(i,c){this.options=i,this.loadOptions=c}a.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var c,u;if(i.skip(22),this.fileNameLength=i.readInt(2),u=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((c=function(_){for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&s[p].magic===_)return s[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,c,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var c=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(c),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=t(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var c,u,_,p=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<p;)c=i.readInt(2),u=i.readInt(2),_=i.readData(u),this.extraFields[c]={id:c,length:u,value:_};i.setIndex(p)},handleUTF8:function(){var i=o.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var c=this.findExtraFieldUnicodePath();if(c!==null)this.fileNameStr=c;else{var u=l.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var p=l.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var c=t(i.value);return c.readInt(1)!==1||f(this.fileName)!==c.readInt(4)?null:g.utf8decode(c.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var c=t(i.value);return c.readInt(1)!==1||f(this.fileComment)!==c.readInt(4)?null:g.utf8decode(c.readData(i.length-5))}return null}},m.exports=a},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(y,m,e){function t(c,u,_){this.name=c,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=u,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=y("./stream/StreamHelper"),r=y("./stream/DataWorker"),f=y("./utf8"),g=y("./compressedObject"),s=y("./stream/GenericWorker");t.prototype={internalStream:function(c){var u=null,_="string";try{if(!c)throw new Error("No output type specified.");var p=(_=c.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),u=this._decompressWorker();var C=!this._dataBinary;C&&!p&&(u=u.pipe(new f.Utf8EncodeWorker)),!C&&p&&(u=u.pipe(new f.Utf8DecodeWorker))}catch(S){(u=new s("error")).error(S)}return new l(u,_,"")},async:function(c,u){return this.internalStream(c).accumulate(u)},nodeStream:function(c,u){return this.internalStream(c||"nodebuffer").toNodejsStream(u)},_compressWorker:function(c,u){if(this._data instanceof g&&this._data.compression.magic===c.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new f.Utf8EncodeWorker)),g.createWorkerFrom(_,c,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var o=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],a=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<o.length;i++)t.prototype[o[i]]=a;m.exports=t},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(y,m,e){(function(t){var l,r,f=t.MutationObserver||t.WebKitMutationObserver;if(f){var g=0,s=new f(c),o=t.document.createTextNode("");s.observe(o,{characterData:!0}),l=function(){o.data=g=++g%2}}else if(t.setImmediate||t.MessageChannel===void 0)l="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var u=t.document.createElement("script");u.onreadystatechange=function(){c(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},t.document.documentElement.appendChild(u)}:function(){setTimeout(c,0)};else{var a=new t.MessageChannel;a.port1.onmessage=c,l=function(){a.port2.postMessage(0)}}var i=[];function c(){var u,_;r=!0;for(var p=i.length;p;){for(_=i,i=[],u=-1;++u<p;)_[u]();p=i.length}r=!1}m.exports=function(u){i.push(u)!==1||r||l()}}).call(this,typeof Qt!="undefined"?Qt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(y,m,e){var t=y("immediate");function l(){}var r={},f=["REJECTED"],g=["FULFILLED"],s=["PENDING"];function o(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,p!==l&&u(this,p)}function a(p,C,S){this.promise=p,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function i(p,C,S){t(function(){var z;try{z=C(S)}catch(B){return r.reject(p,B)}z===p?r.reject(p,new TypeError("Cannot resolve promise with itself")):r.resolve(p,z)})}function c(p){var C=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof C=="function")return function(){C.apply(p,arguments)}}function u(p,C){var S=!1;function z(O){S||(S=!0,r.reject(p,O))}function B(O){S||(S=!0,r.resolve(p,O))}var E=_(function(){C(B,z)});E.status==="error"&&z(E.value)}function _(p,C){var S={};try{S.value=p(C),S.status="success"}catch(z){S.status="error",S.value=z}return S}(m.exports=o).prototype.finally=function(p){if(typeof p!="function")return this;var C=this.constructor;return this.then(function(S){return C.resolve(p()).then(function(){return S})},function(S){return C.resolve(p()).then(function(){throw S})})},o.prototype.catch=function(p){return this.then(null,p)},o.prototype.then=function(p,C){if(typeof p!="function"&&this.state===g||typeof C!="function"&&this.state===f)return this;var S=new this.constructor(l);return this.state!==s?i(S,this.state===g?p:C,this.outcome):this.queue.push(new a(S,p,C)),S},a.prototype.callFulfilled=function(p){r.resolve(this.promise,p)},a.prototype.otherCallFulfilled=function(p){i(this.promise,this.onFulfilled,p)},a.prototype.callRejected=function(p){r.reject(this.promise,p)},a.prototype.otherCallRejected=function(p){i(this.promise,this.onRejected,p)},r.resolve=function(p,C){var S=_(c,C);if(S.status==="error")return r.reject(p,S.value);var z=S.value;if(z)u(p,z);else{p.state=g,p.outcome=C;for(var B=-1,E=p.queue.length;++B<E;)p.queue[B].callFulfilled(C)}return p},r.reject=function(p,C){p.state=f,p.outcome=C;for(var S=-1,z=p.queue.length;++S<z;)p.queue[S].callRejected(C);return p},o.resolve=function(p){return p instanceof this?p:r.resolve(new this(l),p)},o.reject=function(p){var C=new this(l);return r.reject(C,p)},o.all=function(p){var C=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=p.length,z=!1;if(!S)return this.resolve([]);for(var B=new Array(S),E=0,O=-1,k=new this(l);++O<S;)v(p[O],O);return k;function v(R,x){C.resolve(R).then(function(h){B[x]=h,++E!==S||z||(z=!0,r.resolve(k,B))},function(h){z||(z=!0,r.reject(k,h))})}},o.race=function(p){var C=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=p.length,z=!1;if(!S)return this.resolve([]);for(var B=-1,E=new this(l);++B<S;)O=p[B],C.resolve(O).then(function(k){z||(z=!0,r.resolve(E,k))},function(k){z||(z=!0,r.reject(E,k))});var O;return E}},{immediate:36}],38:[function(y,m,e){var t={};(0,y("./lib/utils/common").assign)(t,y("./lib/deflate"),y("./lib/inflate"),y("./lib/zlib/constants")),m.exports=t},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(y,m,e){var t=y("./zlib/deflate"),l=y("./utils/common"),r=y("./utils/strings"),f=y("./zlib/messages"),g=y("./zlib/zstream"),s=Object.prototype.toString,o=0,a=-1,i=0,c=8;function u(p){if(!(this instanceof u))return new u(p);this.options=l.assign({level:a,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},p||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var S=t.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(S!==o)throw new Error(f[S]);if(C.header&&t.deflateSetHeader(this.strm,C.header),C.dictionary){var z;if(z=typeof C.dictionary=="string"?r.string2buf(C.dictionary):s.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(S=t.deflateSetDictionary(this.strm,z))!==o)throw new Error(f[S]);this._dict_set=!0}}function _(p,C){var S=new u(C);if(S.push(p,!0),S.err)throw S.msg||f[S.err];return S.result}u.prototype.push=function(p,C){var S,z,B=this.strm,E=this.options.chunkSize;if(this.ended)return!1;z=C===~~C?C:C===!0?4:0,typeof p=="string"?B.input=r.string2buf(p):s.call(p)==="[object ArrayBuffer]"?B.input=new Uint8Array(p):B.input=p,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new l.Buf8(E),B.next_out=0,B.avail_out=E),(S=t.deflate(B,z))!==1&&S!==o)return this.onEnd(S),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(l.shrinkBuf(B.output,B.next_out))):this.onData(l.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&S!==1);return z===4?(S=t.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===o):z!==2||(this.onEnd(o),!(B.avail_out=0))},u.prototype.onData=function(p){this.chunks.push(p)},u.prototype.onEnd=function(p){p===o&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},e.Deflate=u,e.deflate=_,e.deflateRaw=function(p,C){return(C=C||{}).raw=!0,_(p,C)},e.gzip=function(p,C){return(C=C||{}).gzip=!0,_(p,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(y,m,e){var t=y("./zlib/inflate"),l=y("./utils/common"),r=y("./utils/strings"),f=y("./zlib/constants"),g=y("./zlib/messages"),s=y("./zlib/zstream"),o=y("./zlib/gzheader"),a=Object.prototype.toString;function i(u){if(!(this instanceof i))return new i(u);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},u||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||u&&u.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var p=t.inflateInit2(this.strm,_.windowBits);if(p!==f.Z_OK)throw new Error(g[p]);this.header=new o,t.inflateGetHeader(this.strm,this.header)}function c(u,_){var p=new i(_);if(p.push(u,!0),p.err)throw p.msg||g[p.err];return p.result}i.prototype.push=function(u,_){var p,C,S,z,B,E,O=this.strm,k=this.options.chunkSize,v=this.options.dictionary,R=!1;if(this.ended)return!1;C=_===~~_?_:_===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof u=="string"?O.input=r.binstring2buf(u):a.call(u)==="[object ArrayBuffer]"?O.input=new Uint8Array(u):O.input=u,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(k),O.next_out=0,O.avail_out=k),(p=t.inflate(O,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&v&&(E=typeof v=="string"?r.string2buf(v):a.call(v)==="[object ArrayBuffer]"?new Uint8Array(v):v,p=t.inflateSetDictionary(this.strm,E)),p===f.Z_BUF_ERROR&&R===!0&&(p=f.Z_OK,R=!1),p!==f.Z_STREAM_END&&p!==f.Z_OK)return this.onEnd(p),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&p!==f.Z_STREAM_END&&(O.avail_in!==0||C!==f.Z_FINISH&&C!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=r.utf8border(O.output,O.next_out),z=O.next_out-S,B=r.buf2string(O.output,S),O.next_out=z,O.avail_out=k-z,z&&l.arraySet(O.output,O.output,S,z,0),this.onData(B)):this.onData(l.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(R=!0)}while((0<O.avail_in||O.avail_out===0)&&p!==f.Z_STREAM_END);return p===f.Z_STREAM_END&&(C=f.Z_FINISH),C===f.Z_FINISH?(p=t.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===f.Z_OK):C!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(O.avail_out=0))},i.prototype.onData=function(u){this.chunks.push(u)},i.prototype.onEnd=function(u){u===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},e.Inflate=i,e.inflate=c,e.inflateRaw=function(u,_){return(_=_||{}).raw=!0,c(u,_)},e.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(y,m,e){var t=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";e.assign=function(f){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var s=g.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var o in s)s.hasOwnProperty(o)&&(f[o]=s[o])}}return f},e.shrinkBuf=function(f,g){return f.length===g?f:f.subarray?f.subarray(0,g):(f.length=g,f)};var l={arraySet:function(f,g,s,o,a){if(g.subarray&&f.subarray)f.set(g.subarray(s,s+o),a);else for(var i=0;i<o;i++)f[a+i]=g[s+i]},flattenChunks:function(f){var g,s,o,a,i,c;for(g=o=0,s=f.length;g<s;g++)o+=f[g].length;for(c=new Uint8Array(o),g=a=0,s=f.length;g<s;g++)i=f[g],c.set(i,a),a+=i.length;return c}},r={arraySet:function(f,g,s,o,a){for(var i=0;i<o;i++)f[a+i]=g[s+i]},flattenChunks:function(f){return[].concat.apply([],f)}};e.setTyped=function(f){f?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,l)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,r))},e.setTyped(t)},{}],42:[function(y,m,e){var t=y("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var f=new t.Buf8(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function s(o,a){if(a<65537&&(o.subarray&&r||!o.subarray&&l))return String.fromCharCode.apply(null,t.shrinkBuf(o,a));for(var i="",c=0;c<a;c++)i+=String.fromCharCode(o[c]);return i}f[254]=f[254]=1,e.string2buf=function(o){var a,i,c,u,_,p=o.length,C=0;for(u=0;u<p;u++)(64512&(i=o.charCodeAt(u)))==55296&&u+1<p&&(64512&(c=o.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(c-56320),u++),C+=i<128?1:i<2048?2:i<65536?3:4;for(a=new t.Buf8(C),u=_=0;_<C;u++)(64512&(i=o.charCodeAt(u)))==55296&&u+1<p&&(64512&(c=o.charCodeAt(u+1)))==56320&&(i=65536+(i-55296<<10)+(c-56320),u++),i<128?a[_++]=i:(i<2048?a[_++]=192|i>>>6:(i<65536?a[_++]=224|i>>>12:(a[_++]=240|i>>>18,a[_++]=128|i>>>12&63),a[_++]=128|i>>>6&63),a[_++]=128|63&i);return a},e.buf2binstring=function(o){return s(o,o.length)},e.binstring2buf=function(o){for(var a=new t.Buf8(o.length),i=0,c=a.length;i<c;i++)a[i]=o.charCodeAt(i);return a},e.buf2string=function(o,a){var i,c,u,_,p=a||o.length,C=new Array(2*p);for(i=c=0;i<p;)if((u=o[i++])<128)C[c++]=u;else if(4<(_=f[u]))C[c++]=65533,i+=_-1;else{for(u&=_===2?31:_===3?15:7;1<_&&i<p;)u=u<<6|63&o[i++],_--;1<_?C[c++]=65533:u<65536?C[c++]=u:(u-=65536,C[c++]=55296|u>>10&1023,C[c++]=56320|1023&u)}return s(C,c)},e.utf8border=function(o,a){var i;for((a=a||o.length)>o.length&&(a=o.length),i=a-1;0<=i&&(192&o[i])==128;)i--;return i<0||i===0?a:i+f[o[i]]>a?i:a}},{"./common":41}],43:[function(y,m,e){m.exports=function(t,l,r,f){for(var g=65535&t|0,s=t>>>16&65535|0,o=0;r!==0;){for(r-=o=2e3<r?2e3:r;s=s+(g=g+l[f++]|0)|0,--o;);g%=65521,s%=65521}return g|s<<16|0}},{}],44:[function(y,m,e){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(y,m,e){var t=function(){for(var l,r=[],f=0;f<256;f++){l=f;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;r[f]=l}return r}();m.exports=function(l,r,f,g){var s=t,o=g+f;l^=-1;for(var a=g;a<o;a++)l=l>>>8^s[255&(l^r[a])];return-1^l}},{}],46:[function(y,m,e){var t,l=y("../utils/common"),r=y("./trees"),f=y("./adler32"),g=y("./crc32"),s=y("./messages"),o=0,a=4,i=0,c=-2,u=-1,_=4,p=2,C=8,S=9,z=286,B=30,E=19,O=2*z+1,k=15,v=3,R=258,x=R+v+1,h=42,w=113,n=1,U=2,A=3,b=4;function H(d,V){return d.msg=s[V],V}function F(d){return(d<<1)-(4<d?9:0)}function G(d){for(var V=d.length;0<=--V;)d[V]=0}function N(d){var V=d.state,K=V.pending;K>d.avail_out&&(K=d.avail_out),K!==0&&(l.arraySet(d.output,V.pending_buf,V.pending_out,K,d.next_out),d.next_out+=K,V.pending_out+=K,d.total_out+=K,d.avail_out-=K,V.pending-=K,V.pending===0&&(V.pending_out=0))}function P(d,V){r._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,V),d.block_start=d.strstart,N(d.strm)}function $(d,V){d.pending_buf[d.pending++]=V}function Z(d,V){d.pending_buf[d.pending++]=V>>>8&255,d.pending_buf[d.pending++]=255&V}function L(d,V){var K,T,I=d.max_chain_length,M=d.strstart,Q=d.prev_length,X=d.nice_match,j=d.strstart>d.w_size-x?d.strstart-(d.w_size-x):0,Y=d.window,J=d.w_mask,q=d.prev,it=d.strstart+R,ft=Y[M+Q-1],at=Y[M+Q];d.prev_length>=d.good_match&&(I>>=2),X>d.lookahead&&(X=d.lookahead);do if(Y[(K=V)+Q]===at&&Y[K+Q-1]===ft&&Y[K]===Y[M]&&Y[++K]===Y[M+1]){M+=2,K++;do;while(Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&Y[++M]===Y[++K]&&M<it);if(T=R-(it-M),M=it-R,Q<T){if(d.match_start=V,X<=(Q=T))break;ft=Y[M+Q-1],at=Y[M+Q]}}while((V=q[V&J])>j&&--I!=0);return Q<=d.lookahead?Q:d.lookahead}function et(d){var V,K,T,I,M,Q,X,j,Y,J,q=d.w_size;do{if(I=d.window_size-d.lookahead-d.strstart,d.strstart>=q+(q-x)){for(l.arraySet(d.window,d.window,q,q,0),d.match_start-=q,d.strstart-=q,d.block_start-=q,V=K=d.hash_size;T=d.head[--V],d.head[V]=q<=T?T-q:0,--K;);for(V=K=q;T=d.prev[--V],d.prev[V]=q<=T?T-q:0,--K;);I+=q}if(d.strm.avail_in===0)break;if(Q=d.strm,X=d.window,j=d.strstart+d.lookahead,Y=I,J=void 0,J=Q.avail_in,Y<J&&(J=Y),K=J===0?0:(Q.avail_in-=J,l.arraySet(X,Q.input,Q.next_in,J,j),Q.state.wrap===1?Q.adler=f(Q.adler,X,J,j):Q.state.wrap===2&&(Q.adler=g(Q.adler,X,J,j)),Q.next_in+=J,Q.total_in+=J,J),d.lookahead+=K,d.lookahead+d.insert>=v)for(M=d.strstart-d.insert,d.ins_h=d.window[M],d.ins_h=(d.ins_h<<d.hash_shift^d.window[M+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[M+v-1])&d.hash_mask,d.prev[M&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=M,M++,d.insert--,!(d.lookahead+d.insert<v)););}while(d.lookahead<x&&d.strm.avail_in!==0)}function st(d,V){for(var K,T;;){if(d.lookahead<x){if(et(d),d.lookahead<x&&V===o)return n;if(d.lookahead===0)break}if(K=0,d.lookahead>=v&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+v-1])&d.hash_mask,K=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),K!==0&&d.strstart-K<=d.w_size-x&&(d.match_length=L(d,K)),d.match_length>=v)if(T=r._tr_tally(d,d.strstart-d.match_start,d.match_length-v),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=v){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+v-1])&d.hash_mask,K=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else T=r._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(T&&(P(d,!1),d.strm.avail_out===0))return n}return d.insert=d.strstart<v-1?d.strstart:v-1,V===a?(P(d,!0),d.strm.avail_out===0?A:b):d.last_lit&&(P(d,!1),d.strm.avail_out===0)?n:U}function rt(d,V){for(var K,T,I;;){if(d.lookahead<x){if(et(d),d.lookahead<x&&V===o)return n;if(d.lookahead===0)break}if(K=0,d.lookahead>=v&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+v-1])&d.hash_mask,K=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=v-1,K!==0&&d.prev_length<d.max_lazy_match&&d.strstart-K<=d.w_size-x&&(d.match_length=L(d,K),d.match_length<=5&&(d.strategy===1||d.match_length===v&&4096<d.strstart-d.match_start)&&(d.match_length=v-1)),d.prev_length>=v&&d.match_length<=d.prev_length){for(I=d.strstart+d.lookahead-v,T=r._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-v),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=I&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+v-1])&d.hash_mask,K=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=v-1,d.strstart++,T&&(P(d,!1),d.strm.avail_out===0))return n}else if(d.match_available){if((T=r._tr_tally(d,0,d.window[d.strstart-1]))&&P(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return n}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(T=r._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<v-1?d.strstart:v-1,V===a?(P(d,!0),d.strm.avail_out===0?A:b):d.last_lit&&(P(d,!1),d.strm.avail_out===0)?n:U}function nt(d,V,K,T,I){this.good_length=d,this.max_lazy=V,this.nice_length=K,this.max_chain=T,this.func=I}function ot(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*O),this.dyn_dtree=new l.Buf16(2*(2*B+1)),this.bl_tree=new l.Buf16(2*(2*E+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(k+1),this.heap=new l.Buf16(2*z+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function lt(d){var V;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=p,(V=d.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?h:w,d.adler=V.wrap===2?0:1,V.last_flush=o,r._tr_init(V),i):H(d,c)}function ct(d){var V=lt(d);return V===i&&function(K){K.window_size=2*K.w_size,G(K.head),K.max_lazy_match=t[K.level].max_lazy,K.good_match=t[K.level].good_length,K.nice_match=t[K.level].nice_length,K.max_chain_length=t[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=v-1,K.match_available=0,K.ins_h=0}(d.state),V}function pt(d,V,K,T,I,M){if(!d)return c;var Q=1;if(V===u&&(V=6),T<0?(Q=0,T=-T):15<T&&(Q=2,T-=16),I<1||S<I||K!==C||T<8||15<T||V<0||9<V||M<0||_<M)return H(d,c);T===8&&(T=9);var X=new ot;return(d.state=X).strm=d,X.wrap=Q,X.gzhead=null,X.w_bits=T,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=I+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+v-1)/v),X.window=new l.Buf8(2*X.w_size),X.head=new l.Buf16(X.hash_size),X.prev=new l.Buf16(X.w_size),X.lit_bufsize=1<<I+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new l.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=V,X.strategy=M,X.method=K,ct(d)}t=[new nt(0,0,0,0,function(d,V){var K=65535;for(K>d.pending_buf_size-5&&(K=d.pending_buf_size-5);;){if(d.lookahead<=1){if(et(d),d.lookahead===0&&V===o)return n;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var T=d.block_start+K;if((d.strstart===0||d.strstart>=T)&&(d.lookahead=d.strstart-T,d.strstart=T,P(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-x&&(P(d,!1),d.strm.avail_out===0))return n}return d.insert=0,V===a?(P(d,!0),d.strm.avail_out===0?A:b):(d.strstart>d.block_start&&(P(d,!1),d.strm.avail_out),n)}),new nt(4,4,8,4,st),new nt(4,5,16,8,st),new nt(4,6,32,32,st),new nt(4,4,16,16,rt),new nt(8,16,32,32,rt),new nt(8,16,128,128,rt),new nt(8,32,128,256,rt),new nt(32,128,258,1024,rt),new nt(32,258,258,4096,rt)],e.deflateInit=function(d,V){return pt(d,V,C,15,8,0)},e.deflateInit2=pt,e.deflateReset=ct,e.deflateResetKeep=lt,e.deflateSetHeader=function(d,V){return d&&d.state?d.state.wrap!==2?c:(d.state.gzhead=V,i):c},e.deflate=function(d,V){var K,T,I,M;if(!d||!d.state||5<V||V<0)return d?H(d,c):c;if(T=d.state,!d.output||!d.input&&d.avail_in!==0||T.status===666&&V!==a)return H(d,d.avail_out===0?-5:c);if(T.strm=d,K=T.last_flush,T.last_flush=V,T.status===h)if(T.wrap===2)d.adler=0,$(T,31),$(T,139),$(T,8),T.gzhead?($(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),$(T,255&T.gzhead.time),$(T,T.gzhead.time>>8&255),$(T,T.gzhead.time>>16&255),$(T,T.gzhead.time>>24&255),$(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),$(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&($(T,255&T.gzhead.extra.length),$(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(d.adler=g(d.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):($(T,0),$(T,0),$(T,0),$(T,0),$(T,0),$(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),$(T,3),T.status=w);else{var Q=C+(T.w_bits-8<<4)<<8;Q|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Q|=32),Q+=31-Q%31,T.status=w,Z(T,Q),T.strstart!==0&&(Z(T,d.adler>>>16),Z(T,65535&d.adler)),d.adler=1}if(T.status===69)if(T.gzhead.extra){for(I=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),N(d),I=T.pending,T.pending!==T.pending_buf_size));)$(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){I=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),N(d),I=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,$(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),M===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){I=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),N(d),I=T.pending,T.pending===T.pending_buf_size)){M=1;break}M=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,$(T,M)}while(M!==0);T.gzhead.hcrc&&T.pending>I&&(d.adler=g(d.adler,T.pending_buf,T.pending-I,I)),M===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&N(d),T.pending+2<=T.pending_buf_size&&($(T,255&d.adler),$(T,d.adler>>8&255),d.adler=0,T.status=w)):T.status=w),T.pending!==0){if(N(d),d.avail_out===0)return T.last_flush=-1,i}else if(d.avail_in===0&&F(V)<=F(K)&&V!==a)return H(d,-5);if(T.status===666&&d.avail_in!==0)return H(d,-5);if(d.avail_in!==0||T.lookahead!==0||V!==o&&T.status!==666){var X=T.strategy===2?function(j,Y){for(var J;;){if(j.lookahead===0&&(et(j),j.lookahead===0)){if(Y===o)return n;break}if(j.match_length=0,J=r._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,J&&(P(j,!1),j.strm.avail_out===0))return n}return j.insert=0,Y===a?(P(j,!0),j.strm.avail_out===0?A:b):j.last_lit&&(P(j,!1),j.strm.avail_out===0)?n:U}(T,V):T.strategy===3?function(j,Y){for(var J,q,it,ft,at=j.window;;){if(j.lookahead<=R){if(et(j),j.lookahead<=R&&Y===o)return n;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=v&&0<j.strstart&&(q=at[it=j.strstart-1])===at[++it]&&q===at[++it]&&q===at[++it]){ft=j.strstart+R;do;while(q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&q===at[++it]&&it<ft);j.match_length=R-(ft-it),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=v?(J=r._tr_tally(j,1,j.match_length-v),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(J=r._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),J&&(P(j,!1),j.strm.avail_out===0))return n}return j.insert=0,Y===a?(P(j,!0),j.strm.avail_out===0?A:b):j.last_lit&&(P(j,!1),j.strm.avail_out===0)?n:U}(T,V):t[T.level].func(T,V);if(X!==A&&X!==b||(T.status=666),X===n||X===A)return d.avail_out===0&&(T.last_flush=-1),i;if(X===U&&(V===1?r._tr_align(T):V!==5&&(r._tr_stored_block(T,0,0,!1),V===3&&(G(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),N(d),d.avail_out===0))return T.last_flush=-1,i}return V!==a?i:T.wrap<=0?1:(T.wrap===2?($(T,255&d.adler),$(T,d.adler>>8&255),$(T,d.adler>>16&255),$(T,d.adler>>24&255),$(T,255&d.total_in),$(T,d.total_in>>8&255),$(T,d.total_in>>16&255),$(T,d.total_in>>24&255)):(Z(T,d.adler>>>16),Z(T,65535&d.adler)),N(d),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?i:1)},e.deflateEnd=function(d){var V;return d&&d.state?(V=d.state.status)!==h&&V!==69&&V!==73&&V!==91&&V!==103&&V!==w&&V!==666?H(d,c):(d.state=null,V===w?H(d,-3):i):c},e.deflateSetDictionary=function(d,V){var K,T,I,M,Q,X,j,Y,J=V.length;if(!d||!d.state||(M=(K=d.state).wrap)===2||M===1&&K.status!==h||K.lookahead)return c;for(M===1&&(d.adler=f(d.adler,V,J,0)),K.wrap=0,J>=K.w_size&&(M===0&&(G(K.head),K.strstart=0,K.block_start=0,K.insert=0),Y=new l.Buf8(K.w_size),l.arraySet(Y,V,J-K.w_size,K.w_size,0),V=Y,J=K.w_size),Q=d.avail_in,X=d.next_in,j=d.input,d.avail_in=J,d.next_in=0,d.input=V,et(K);K.lookahead>=v;){for(T=K.strstart,I=K.lookahead-(v-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[T+v-1])&K.hash_mask,K.prev[T&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=T,T++,--I;);K.strstart=T,K.lookahead=v-1,et(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=v-1,K.match_available=0,d.next_in=X,d.input=j,d.avail_in=Q,K.wrap=M,i},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(y,m,e){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(y,m,e){m.exports=function(t,l){var r,f,g,s,o,a,i,c,u,_,p,C,S,z,B,E,O,k,v,R,x,h,w,n,U;r=t.state,f=t.next_in,n=t.input,g=f+(t.avail_in-5),s=t.next_out,U=t.output,o=s-(l-t.avail_out),a=s+(t.avail_out-257),i=r.dmax,c=r.wsize,u=r.whave,_=r.wnext,p=r.window,C=r.hold,S=r.bits,z=r.lencode,B=r.distcode,E=(1<<r.lenbits)-1,O=(1<<r.distbits)-1;t:do{S<15&&(C+=n[f++]<<S,S+=8,C+=n[f++]<<S,S+=8),k=z[C&E];e:for(;;){if(C>>>=v=k>>>24,S-=v,(v=k>>>16&255)===0)U[s++]=65535&k;else{if(!(16&v)){if((64&v)==0){k=z[(65535&k)+(C&(1<<v)-1)];continue e}if(32&v){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}R=65535&k,(v&=15)&&(S<v&&(C+=n[f++]<<S,S+=8),R+=C&(1<<v)-1,C>>>=v,S-=v),S<15&&(C+=n[f++]<<S,S+=8,C+=n[f++]<<S,S+=8),k=B[C&O];r:for(;;){if(C>>>=v=k>>>24,S-=v,!(16&(v=k>>>16&255))){if((64&v)==0){k=B[(65535&k)+(C&(1<<v)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&k,S<(v&=15)&&(C+=n[f++]<<S,(S+=8)<v&&(C+=n[f++]<<S,S+=8)),i<(x+=C&(1<<v)-1)){t.msg="invalid distance too far back",r.mode=30;break t}if(C>>>=v,S-=v,(v=s-o)<x){if(u<(v=x-v)&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(w=p,(h=0)===_){if(h+=c-v,v<R){for(R-=v;U[s++]=p[h++],--v;);h=s-x,w=U}}else if(_<v){if(h+=c+_-v,(v-=_)<R){for(R-=v;U[s++]=p[h++],--v;);if(h=0,_<R){for(R-=v=_;U[s++]=p[h++],--v;);h=s-x,w=U}}}else if(h+=_-v,v<R){for(R-=v;U[s++]=p[h++],--v;);h=s-x,w=U}for(;2<R;)U[s++]=w[h++],U[s++]=w[h++],U[s++]=w[h++],R-=3;R&&(U[s++]=w[h++],1<R&&(U[s++]=w[h++]))}else{for(h=s-x;U[s++]=U[h++],U[s++]=U[h++],U[s++]=U[h++],2<(R-=3););R&&(U[s++]=U[h++],1<R&&(U[s++]=U[h++]))}break}}break}}while(f<g&&s<a);f-=R=S>>3,C&=(1<<(S-=R<<3))-1,t.next_in=f,t.next_out=s,t.avail_in=f<g?g-f+5:5-(f-g),t.avail_out=s<a?a-s+257:257-(s-a),r.hold=C,r.bits=S}},{}],49:[function(y,m,e){var t=y("../utils/common"),l=y("./adler32"),r=y("./crc32"),f=y("./inffast"),g=y("./inftrees"),s=1,o=2,a=0,i=-2,c=1,u=852,_=592;function p(h){return(h>>>24&255)+(h>>>8&65280)+((65280&h)<<8)+((255&h)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(h){var w;return h&&h.state?(w=h.state,h.total_in=h.total_out=w.total=0,h.msg="",w.wrap&&(h.adler=1&w.wrap),w.mode=c,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new t.Buf32(u),w.distcode=w.distdyn=new t.Buf32(_),w.sane=1,w.back=-1,a):i}function z(h){var w;return h&&h.state?((w=h.state).wsize=0,w.whave=0,w.wnext=0,S(h)):i}function B(h,w){var n,U;return h&&h.state?(U=h.state,w<0?(n=0,w=-w):(n=1+(w>>4),w<48&&(w&=15)),w&&(w<8||15<w)?i:(U.window!==null&&U.wbits!==w&&(U.window=null),U.wrap=n,U.wbits=w,z(h))):i}function E(h,w){var n,U;return h?(U=new C,(h.state=U).window=null,(n=B(h,w))!==a&&(h.state=null),n):i}var O,k,v=!0;function R(h){if(v){var w;for(O=new t.Buf32(512),k=new t.Buf32(32),w=0;w<144;)h.lens[w++]=8;for(;w<256;)h.lens[w++]=9;for(;w<280;)h.lens[w++]=7;for(;w<288;)h.lens[w++]=8;for(g(s,h.lens,0,288,O,0,h.work,{bits:9}),w=0;w<32;)h.lens[w++]=5;g(o,h.lens,0,32,k,0,h.work,{bits:5}),v=!1}h.lencode=O,h.lenbits=9,h.distcode=k,h.distbits=5}function x(h,w,n,U){var A,b=h.state;return b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new t.Buf8(b.wsize)),U>=b.wsize?(t.arraySet(b.window,w,n-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(U<(A=b.wsize-b.wnext)&&(A=U),t.arraySet(b.window,w,n-U,A,b.wnext),(U-=A)?(t.arraySet(b.window,w,n-U,U,0),b.wnext=U,b.whave=b.wsize):(b.wnext+=A,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=A))),0}e.inflateReset=z,e.inflateReset2=B,e.inflateResetKeep=S,e.inflateInit=function(h){return E(h,15)},e.inflateInit2=E,e.inflate=function(h,w){var n,U,A,b,H,F,G,N,P,$,Z,L,et,st,rt,nt,ot,lt,ct,pt,d,V,K,T,I=0,M=new t.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&h.avail_in!==0)return i;(n=h.state).mode===12&&(n.mode=13),H=h.next_out,A=h.output,G=h.avail_out,b=h.next_in,U=h.input,F=h.avail_in,N=n.hold,P=n.bits,$=F,Z=G,V=a;t:for(;;)switch(n.mode){case c:if(n.wrap===0){n.mode=13;break}for(;P<16;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(2&n.wrap&&N===35615){M[n.check=0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0),P=N=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&N)<<8)+(N>>8))%31){h.msg="incorrect header check",n.mode=30;break}if((15&N)!=8){h.msg="unknown compression method",n.mode=30;break}if(P-=4,d=8+(15&(N>>>=4)),n.wbits===0)n.wbits=d;else if(d>n.wbits){h.msg="invalid window size",n.mode=30;break}n.dmax=1<<d,h.adler=n.check=1,n.mode=512&N?10:12,P=N=0;break;case 2:for(;P<16;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(n.flags=N,(255&n.flags)!=8){h.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){h.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=N>>8&1),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0,n.mode=3;case 3:for(;P<32;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.head&&(n.head.time=N),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,M[2]=N>>>16&255,M[3]=N>>>24&255,n.check=r(n.check,M,4,0)),P=N=0,n.mode=4;case 4:for(;P<16;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.head&&(n.head.xflags=255&N,n.head.os=N>>8),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0,n.mode=5;case 5:if(1024&n.flags){for(;P<16;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.length=N,n.head&&(n.head.extra_len=N),512&n.flags&&(M[0]=255&N,M[1]=N>>>8&255,n.check=r(n.check,M,2,0)),P=N=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(F<(L=n.length)&&(L=F),L&&(n.head&&(d=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),t.arraySet(n.head.extra,U,b,L,d)),512&n.flags&&(n.check=r(n.check,U,L,b)),F-=L,b+=L,n.length-=L),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(F===0)break t;for(L=0;d=U[b+L++],n.head&&d&&n.length<65536&&(n.head.name+=String.fromCharCode(d)),d&&L<F;);if(512&n.flags&&(n.check=r(n.check,U,L,b)),F-=L,b+=L,d)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(F===0)break t;for(L=0;d=U[b+L++],n.head&&d&&n.length<65536&&(n.head.comment+=String.fromCharCode(d)),d&&L<F;);if(512&n.flags&&(n.check=r(n.check,U,L,b)),F-=L,b+=L,d)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;P<16;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(N!==(65535&n.check)){h.msg="header crc mismatch",n.mode=30;break}P=N=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),h.adler=n.check=0,n.mode=12;break;case 10:for(;P<32;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}h.adler=n.check=p(N),P=N=0,n.mode=11;case 11:if(n.havedict===0)return h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,2;h.adler=n.check=1,n.mode=12;case 12:if(w===5||w===6)break t;case 13:if(n.last){N>>>=7&P,P-=7&P,n.mode=27;break}for(;P<3;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}switch(n.last=1&N,P-=1,3&(N>>>=1)){case 0:n.mode=14;break;case 1:if(R(n),n.mode=20,w!==6)break;N>>>=2,P-=2;break t;case 2:n.mode=17;break;case 3:h.msg="invalid block type",n.mode=30}N>>>=2,P-=2;break;case 14:for(N>>>=7&P,P-=7&P;P<32;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if((65535&N)!=(N>>>16^65535)){h.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&N,P=N=0,n.mode=15,w===6)break t;case 15:n.mode=16;case 16:if(L=n.length){if(F<L&&(L=F),G<L&&(L=G),L===0)break t;t.arraySet(A,U,b,L,H),F-=L,b+=L,G-=L,H+=L,n.length-=L;break}n.mode=12;break;case 17:for(;P<14;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(n.nlen=257+(31&N),N>>>=5,P-=5,n.ndist=1+(31&N),N>>>=5,P-=5,n.ncode=4+(15&N),N>>>=4,P-=4,286<n.nlen||30<n.ndist){h.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;P<3;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.lens[Q[n.have++]]=7&N,N>>>=3,P-=3}for(;n.have<19;)n.lens[Q[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,K={bits:n.lenbits},V=g(0,n.lens,0,19,n.lencode,0,n.work,K),n.lenbits=K.bits,V){h.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;nt=(I=n.lencode[N&(1<<n.lenbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(ot<16)N>>>=rt,P-=rt,n.lens[n.have++]=ot;else{if(ot===16){for(T=rt+2;P<T;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(N>>>=rt,P-=rt,n.have===0){h.msg="invalid bit length repeat",n.mode=30;break}d=n.lens[n.have-1],L=3+(3&N),N>>>=2,P-=2}else if(ot===17){for(T=rt+3;P<T;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}P-=rt,d=0,L=3+(7&(N>>>=rt)),N>>>=3,P-=3}else{for(T=rt+7;P<T;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}P-=rt,d=0,L=11+(127&(N>>>=rt)),N>>>=7,P-=7}if(n.have+L>n.nlen+n.ndist){h.msg="invalid bit length repeat",n.mode=30;break}for(;L--;)n.lens[n.have++]=d}}if(n.mode===30)break;if(n.lens[256]===0){h.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,K={bits:n.lenbits},V=g(s,n.lens,0,n.nlen,n.lencode,0,n.work,K),n.lenbits=K.bits,V){h.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,K={bits:n.distbits},V=g(o,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,K),n.distbits=K.bits,V){h.msg="invalid distances set",n.mode=30;break}if(n.mode=20,w===6)break t;case 20:n.mode=21;case 21:if(6<=F&&258<=G){h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,f(h,Z),H=h.next_out,A=h.output,G=h.avail_out,b=h.next_in,U=h.input,F=h.avail_in,N=n.hold,P=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;nt=(I=n.lencode[N&(1<<n.lenbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(nt&&(240&nt)==0){for(lt=rt,ct=nt,pt=ot;nt=(I=n.lencode[pt+((N&(1<<lt+ct)-1)>>lt)])>>>16&255,ot=65535&I,!(lt+(rt=I>>>24)<=P);){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}N>>>=lt,P-=lt,n.back+=lt}if(N>>>=rt,P-=rt,n.back+=rt,n.length=ot,nt===0){n.mode=26;break}if(32&nt){n.back=-1,n.mode=12;break}if(64&nt){h.msg="invalid literal/length code",n.mode=30;break}n.extra=15&nt,n.mode=22;case 22:if(n.extra){for(T=n.extra;P<T;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.length+=N&(1<<n.extra)-1,N>>>=n.extra,P-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;nt=(I=n.distcode[N&(1<<n.distbits)-1])>>>16&255,ot=65535&I,!((rt=I>>>24)<=P);){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if((240&nt)==0){for(lt=rt,ct=nt,pt=ot;nt=(I=n.distcode[pt+((N&(1<<lt+ct)-1)>>lt)])>>>16&255,ot=65535&I,!(lt+(rt=I>>>24)<=P);){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}N>>>=lt,P-=lt,n.back+=lt}if(N>>>=rt,P-=rt,n.back+=rt,64&nt){h.msg="invalid distance code",n.mode=30;break}n.offset=ot,n.extra=15&nt,n.mode=24;case 24:if(n.extra){for(T=n.extra;P<T;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}n.offset+=N&(1<<n.extra)-1,N>>>=n.extra,P-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){h.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(G===0)break t;if(L=Z-G,n.offset>L){if((L=n.offset-L)>n.whave&&n.sane){h.msg="invalid distance too far back",n.mode=30;break}et=L>n.wnext?(L-=n.wnext,n.wsize-L):n.wnext-L,L>n.length&&(L=n.length),st=n.window}else st=A,et=H-n.offset,L=n.length;for(G<L&&(L=G),G-=L,n.length-=L;A[H++]=st[et++],--L;);n.length===0&&(n.mode=21);break;case 26:if(G===0)break t;A[H++]=n.length,G--,n.mode=21;break;case 27:if(n.wrap){for(;P<32;){if(F===0)break t;F--,N|=U[b++]<<P,P+=8}if(Z-=G,h.total_out+=Z,n.total+=Z,Z&&(h.adler=n.check=n.flags?r(n.check,A,Z,H-Z):l(n.check,A,Z,H-Z)),Z=G,(n.flags?N:p(N))!==n.check){h.msg="incorrect data check",n.mode=30;break}P=N=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;P<32;){if(F===0)break t;F--,N+=U[b++]<<P,P+=8}if(N!==(4294967295&n.total)){h.msg="incorrect length check",n.mode=30;break}P=N=0}n.mode=29;case 29:V=1;break t;case 30:V=-3;break t;case 31:return-4;case 32:default:return i}return h.next_out=H,h.avail_out=G,h.next_in=b,h.avail_in=F,n.hold=N,n.bits=P,(n.wsize||Z!==h.avail_out&&n.mode<30&&(n.mode<27||w!==4))&&x(h,h.output,h.next_out,Z-h.avail_out)?(n.mode=31,-4):($-=h.avail_in,Z-=h.avail_out,h.total_in+=$,h.total_out+=Z,n.total+=Z,n.wrap&&Z&&(h.adler=n.check=n.flags?r(n.check,A,Z,h.next_out-Z):l(n.check,A,Z,h.next_out-Z)),h.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),($==0&&Z===0||w===4)&&V===a&&(V=-5),V)},e.inflateEnd=function(h){if(!h||!h.state)return i;var w=h.state;return w.window&&(w.window=null),h.state=null,a},e.inflateGetHeader=function(h,w){var n;return h&&h.state?(2&(n=h.state).wrap)==0?i:((n.head=w).done=!1,a):i},e.inflateSetDictionary=function(h,w){var n,U=w.length;return h&&h.state?(n=h.state).wrap!==0&&n.mode!==11?i:n.mode===11&&l(1,w,U,0)!==n.check?-3:x(h,w,U,U)?(n.mode=31,-4):(n.havedict=1,a):i},e.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(y,m,e){var t=y("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(s,o,a,i,c,u,_,p){var C,S,z,B,E,O,k,v,R,x=p.bits,h=0,w=0,n=0,U=0,A=0,b=0,H=0,F=0,G=0,N=0,P=null,$=0,Z=new t.Buf16(16),L=new t.Buf16(16),et=null,st=0;for(h=0;h<=15;h++)Z[h]=0;for(w=0;w<i;w++)Z[o[a+w]]++;for(A=x,U=15;1<=U&&Z[U]===0;U--);if(U<A&&(A=U),U===0)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(n=1;n<U&&Z[n]===0;n++);for(A<n&&(A=n),h=F=1;h<=15;h++)if(F<<=1,(F-=Z[h])<0)return-1;if(0<F&&(s===0||U!==1))return-1;for(L[1]=0,h=1;h<15;h++)L[h+1]=L[h]+Z[h];for(w=0;w<i;w++)o[a+w]!==0&&(_[L[o[a+w]]++]=w);if(O=s===0?(P=et=_,19):s===1?(P=l,$-=257,et=r,st-=257,256):(P=f,et=g,-1),h=n,E=u,H=w=N=0,z=-1,B=(G=1<<(b=A))-1,s===1&&852<G||s===2&&592<G)return 1;for(;;){for(k=h-H,R=_[w]<O?(v=0,_[w]):_[w]>O?(v=et[st+_[w]],P[$+_[w]]):(v=96,0),C=1<<h-H,n=S=1<<b;c[E+(N>>H)+(S-=C)]=k<<24|v<<16|R|0,S!==0;);for(C=1<<h-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,w++,--Z[h]==0){if(h===U)break;h=o[a+_[w]]}if(A<h&&(N&B)!==z){for(H===0&&(H=A),E+=n,F=1<<(b=h-H);b+H<U&&!((F-=Z[b+H])<=0);)b++,F<<=1;if(G+=1<<b,s===1&&852<G||s===2&&592<G)return 1;c[z=N&B]=A<<24|b<<16|E-u|0}}return N!==0&&(c[E+N]=h-H<<24|64<<16|0),p.bits=A,0}},{"../utils/common":41}],51:[function(y,m,e){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(y,m,e){var t=y("../utils/common"),l=0,r=1;function f(I){for(var M=I.length;0<=--M;)I[M]=0}var g=0,s=29,o=256,a=o+1+s,i=30,c=19,u=2*a+1,_=15,p=16,C=7,S=256,z=16,B=17,E=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(a+2));f(x);var h=new Array(2*i);f(h);var w=new Array(512);f(w);var n=new Array(256);f(n);var U=new Array(s);f(U);var A,b,H,F=new Array(i);function G(I,M,Q,X,j){this.static_tree=I,this.extra_bits=M,this.extra_base=Q,this.elems=X,this.max_length=j,this.has_stree=I&&I.length}function N(I,M){this.dyn_tree=I,this.max_code=0,this.stat_desc=M}function P(I){return I<256?w[I]:w[256+(I>>>7)]}function $(I,M){I.pending_buf[I.pending++]=255&M,I.pending_buf[I.pending++]=M>>>8&255}function Z(I,M,Q){I.bi_valid>p-Q?(I.bi_buf|=M<<I.bi_valid&65535,$(I,I.bi_buf),I.bi_buf=M>>p-I.bi_valid,I.bi_valid+=Q-p):(I.bi_buf|=M<<I.bi_valid&65535,I.bi_valid+=Q)}function L(I,M,Q){Z(I,Q[2*M],Q[2*M+1])}function et(I,M){for(var Q=0;Q|=1&I,I>>>=1,Q<<=1,0<--M;);return Q>>>1}function st(I,M,Q){var X,j,Y=new Array(_+1),J=0;for(X=1;X<=_;X++)Y[X]=J=J+Q[X-1]<<1;for(j=0;j<=M;j++){var q=I[2*j+1];q!==0&&(I[2*j]=et(Y[q]++,q))}}function rt(I){var M;for(M=0;M<a;M++)I.dyn_ltree[2*M]=0;for(M=0;M<i;M++)I.dyn_dtree[2*M]=0;for(M=0;M<c;M++)I.bl_tree[2*M]=0;I.dyn_ltree[2*S]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function nt(I){8<I.bi_valid?$(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ot(I,M,Q,X){var j=2*M,Y=2*Q;return I[j]<I[Y]||I[j]===I[Y]&&X[M]<=X[Q]}function lt(I,M,Q){for(var X=I.heap[Q],j=Q<<1;j<=I.heap_len&&(j<I.heap_len&&ot(M,I.heap[j+1],I.heap[j],I.depth)&&j++,!ot(M,X,I.heap[j],I.depth));)I.heap[Q]=I.heap[j],Q=j,j<<=1;I.heap[Q]=X}function ct(I,M,Q){var X,j,Y,J,q=0;if(I.last_lit!==0)for(;X=I.pending_buf[I.d_buf+2*q]<<8|I.pending_buf[I.d_buf+2*q+1],j=I.pending_buf[I.l_buf+q],q++,X===0?L(I,j,M):(L(I,(Y=n[j])+o+1,M),(J=O[Y])!==0&&Z(I,j-=U[Y],J),L(I,Y=P(--X),Q),(J=k[Y])!==0&&Z(I,X-=F[Y],J)),q<I.last_lit;);L(I,S,M)}function pt(I,M){var Q,X,j,Y=M.dyn_tree,J=M.stat_desc.static_tree,q=M.stat_desc.has_stree,it=M.stat_desc.elems,ft=-1;for(I.heap_len=0,I.heap_max=u,Q=0;Q<it;Q++)Y[2*Q]!==0?(I.heap[++I.heap_len]=ft=Q,I.depth[Q]=0):Y[2*Q+1]=0;for(;I.heap_len<2;)Y[2*(j=I.heap[++I.heap_len]=ft<2?++ft:0)]=1,I.depth[j]=0,I.opt_len--,q&&(I.static_len-=J[2*j+1]);for(M.max_code=ft,Q=I.heap_len>>1;1<=Q;Q--)lt(I,Y,Q);for(j=it;Q=I.heap[1],I.heap[1]=I.heap[I.heap_len--],lt(I,Y,1),X=I.heap[1],I.heap[--I.heap_max]=Q,I.heap[--I.heap_max]=X,Y[2*j]=Y[2*Q]+Y[2*X],I.depth[j]=(I.depth[Q]>=I.depth[X]?I.depth[Q]:I.depth[X])+1,Y[2*Q+1]=Y[2*X+1]=j,I.heap[1]=j++,lt(I,Y,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(at,mt){var dt,ht,vt,ut,yt,St,xt=mt.dyn_tree,Kt=mt.max_code,jt=mt.stat_desc.static_tree,Vt=mt.stat_desc.has_stree,Rt=mt.stat_desc.extra_bits,$t=mt.stat_desc.extra_base,wt=mt.stat_desc.max_length,At=0;for(ut=0;ut<=_;ut++)at.bl_count[ut]=0;for(xt[2*at.heap[at.heap_max]+1]=0,dt=at.heap_max+1;dt<u;dt++)wt<(ut=xt[2*xt[2*(ht=at.heap[dt])+1]+1]+1)&&(ut=wt,At++),xt[2*ht+1]=ut,Kt<ht||(at.bl_count[ut]++,yt=0,$t<=ht&&(yt=Rt[ht-$t]),St=xt[2*ht],at.opt_len+=St*(ut+yt),Vt&&(at.static_len+=St*(jt[2*ht+1]+yt)));if(At!==0){do{for(ut=wt-1;at.bl_count[ut]===0;)ut--;at.bl_count[ut]--,at.bl_count[ut+1]+=2,at.bl_count[wt]--,At-=2}while(0<At);for(ut=wt;ut!==0;ut--)for(ht=at.bl_count[ut];ht!==0;)Kt<(vt=at.heap[--dt])||(xt[2*vt+1]!==ut&&(at.opt_len+=(ut-xt[2*vt+1])*xt[2*vt],xt[2*vt+1]=ut),ht--)}}(I,M),st(Y,ft,I.bl_count)}function d(I,M,Q){var X,j,Y=-1,J=M[1],q=0,it=7,ft=4;for(J===0&&(it=138,ft=3),M[2*(Q+1)+1]=65535,X=0;X<=Q;X++)j=J,J=M[2*(X+1)+1],++q<it&&j===J||(q<ft?I.bl_tree[2*j]+=q:j!==0?(j!==Y&&I.bl_tree[2*j]++,I.bl_tree[2*z]++):q<=10?I.bl_tree[2*B]++:I.bl_tree[2*E]++,Y=j,ft=(q=0)===J?(it=138,3):j===J?(it=6,3):(it=7,4))}function V(I,M,Q){var X,j,Y=-1,J=M[1],q=0,it=7,ft=4;for(J===0&&(it=138,ft=3),X=0;X<=Q;X++)if(j=J,J=M[2*(X+1)+1],!(++q<it&&j===J)){if(q<ft)for(;L(I,j,I.bl_tree),--q!=0;);else j!==0?(j!==Y&&(L(I,j,I.bl_tree),q--),L(I,z,I.bl_tree),Z(I,q-3,2)):q<=10?(L(I,B,I.bl_tree),Z(I,q-3,3)):(L(I,E,I.bl_tree),Z(I,q-11,7));Y=j,ft=(q=0)===J?(it=138,3):j===J?(it=6,3):(it=7,4)}}f(F);var K=!1;function T(I,M,Q,X){Z(I,(g<<1)+(X?1:0),3),function(j,Y,J,q){nt(j),q&&($(j,J),$(j,~J)),t.arraySet(j.pending_buf,j.window,Y,J,j.pending),j.pending+=J}(I,M,Q,!0)}e._tr_init=function(I){K||(function(){var M,Q,X,j,Y,J=new Array(_+1);for(j=X=0;j<s-1;j++)for(U[j]=X,M=0;M<1<<O[j];M++)n[X++]=j;for(n[X-1]=j,j=Y=0;j<16;j++)for(F[j]=Y,M=0;M<1<<k[j];M++)w[Y++]=j;for(Y>>=7;j<i;j++)for(F[j]=Y<<7,M=0;M<1<<k[j]-7;M++)w[256+Y++]=j;for(Q=0;Q<=_;Q++)J[Q]=0;for(M=0;M<=143;)x[2*M+1]=8,M++,J[8]++;for(;M<=255;)x[2*M+1]=9,M++,J[9]++;for(;M<=279;)x[2*M+1]=7,M++,J[7]++;for(;M<=287;)x[2*M+1]=8,M++,J[8]++;for(st(x,a+1,J),M=0;M<i;M++)h[2*M+1]=5,h[2*M]=et(M,5);A=new G(x,O,o+1,a,_),b=new G(h,k,0,i,_),H=new G(new Array(0),v,0,c,C)}(),K=!0),I.l_desc=new N(I.dyn_ltree,A),I.d_desc=new N(I.dyn_dtree,b),I.bl_desc=new N(I.bl_tree,H),I.bi_buf=0,I.bi_valid=0,rt(I)},e._tr_stored_block=T,e._tr_flush_block=function(I,M,Q,X){var j,Y,J=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(q){var it,ft=4093624447;for(it=0;it<=31;it++,ft>>>=1)if(1&ft&&q.dyn_ltree[2*it]!==0)return l;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return r;for(it=32;it<o;it++)if(q.dyn_ltree[2*it]!==0)return r;return l}(I)),pt(I,I.l_desc),pt(I,I.d_desc),J=function(q){var it;for(d(q,q.dyn_ltree,q.l_desc.max_code),d(q,q.dyn_dtree,q.d_desc.max_code),pt(q,q.bl_desc),it=c-1;3<=it&&q.bl_tree[2*R[it]+1]===0;it--);return q.opt_len+=3*(it+1)+5+5+4,it}(I),j=I.opt_len+3+7>>>3,(Y=I.static_len+3+7>>>3)<=j&&(j=Y)):j=Y=Q+5,Q+4<=j&&M!==-1?T(I,M,Q,X):I.strategy===4||Y===j?(Z(I,2+(X?1:0),3),ct(I,x,h)):(Z(I,4+(X?1:0),3),function(q,it,ft,at){var mt;for(Z(q,it-257,5),Z(q,ft-1,5),Z(q,at-4,4),mt=0;mt<at;mt++)Z(q,q.bl_tree[2*R[mt]+1],3);V(q,q.dyn_ltree,it-1),V(q,q.dyn_dtree,ft-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,J+1),ct(I,I.dyn_ltree,I.dyn_dtree)),rt(I),X&&nt(I)},e._tr_tally=function(I,M,Q){return I.pending_buf[I.d_buf+2*I.last_lit]=M>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&M,I.pending_buf[I.l_buf+I.last_lit]=255&Q,I.last_lit++,M===0?I.dyn_ltree[2*Q]++:(I.matches++,M--,I.dyn_ltree[2*(n[Q]+o+1)]++,I.dyn_dtree[2*P(M)]++),I.last_lit===I.lit_bufsize-1},e._tr_align=function(I){Z(I,2,3),L(I,S,x),function(M){M.bi_valid===16?($(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(y,m,e){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(y,m,e){(function(t){(function(l,r){if(!l.setImmediate){var f,g,s,o,a=1,i={},c=!1,u=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,f={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){C(z)})}:function(){if(l.postMessage&&!l.importScripts){var z=!0,B=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=B,z}}()?(o="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",S,!1):l.attachEvent("onmessage",S),function(z){l.postMessage(o+z,"*")}):l.MessageChannel?((s=new MessageChannel).port1.onmessage=function(z){C(z.data)},function(z){s.port2.postMessage(z)}):u&&"onreadystatechange"in u.createElement("script")?(g=u.documentElement,function(z){var B=u.createElement("script");B.onreadystatechange=function(){C(z),B.onreadystatechange=null,g.removeChild(B),B=null},g.appendChild(B)}):function(z){setTimeout(C,0,z)},_.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var B=new Array(arguments.length-1),E=0;E<B.length;E++)B[E]=arguments[E+1];var O={callback:z,args:B};return i[a]=O,f(a),a++},_.clearImmediate=p}function p(z){delete i[z]}function C(z){if(c)setTimeout(C,0,z);else{var B=i[z];if(B){c=!0;try{(function(E){var O=E.callback,k=E.args;switch(k.length){case 0:O();break;case 1:O(k[0]);break;case 2:O(k[0],k[1]);break;case 3:O(k[0],k[1],k[2]);break;default:O.apply(r,k)}})(B)}finally{p(z),c=!1}}}}function S(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(o)===0&&C(+z.data.slice(o.length))}})(typeof self=="undefined"?t===void 0?this:t:self)}).call(this,typeof Qt!="undefined"?Qt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(Pe);var _r=Pe.exports;const vr={class:"image-progess-wrap"},br={class:"container"},yr={class:"row"},wr={class:"col-12"},kr=tt("h2",null,"\u5716\u7247\u8655\u7406\u5DE5\u5177 (\u7D14\u700F\u89BD\u5668\u64CD\u4F5C)",-1),xr={class:"table-wrap"},Ar={class:"file-table"},Cr={colspan:"4",class:"col-origin"},Sr=tt("span",null,"\u4E0A\u50B3\u5716\u7247 (\u53EF\u63A5\u53D7\u7684\u5716\u7247\u683C\u5F0F\uFF1AJPEG, PNG, WebP)",-1),Er=tt("th",{colspan:"1",class:"col-file"},[tt("span",null,"\u8ABF\u6574\u5716\u7247\u6A94\u540D")],-1),zr=tt("th",{colspan:"4",class:"col-width"},[tt("span",null,"\u8ABF\u6574\u5716\u7247\u5C3A\u5BF8")],-1),Ir={colspan:"4",class:"col-size"},Ur=tt("span",null,"\u58D3\u7E2E\u5716\u7247",-1),Tr={class:"flex-row align-items-center gap-2"},Br={colspan:"4",class:"col-type"},Rr=tt("span",null,"\u8F49\u63DB\u5716\u7247\u683C\u5F0F",-1),Fr={class:"flex-row align-items-center gap-2"},Or=tt("th",{class:"col-origin text-center",width:"2%"},"#",-1),Dr=tt("th",{class:"col-origin text-center",width:"6%"},"\u683C\u5F0F\u652F\u63F4",-1),Pr=tt("th",{class:"col-origin text-center",width:"3%"},"\u9810\u89BD",-1),Lr=tt("th",{class:"col-origin",width:"16%"},"\u539F\u59CB\u8CC7\u8A0A",-1),Nr=tt("th",{class:"col-file",width:"16%"},"\u91CD\u65B0\u547D\u540D",-1),Mr={class:"col-width",width:"10%"},Wr={class:"flex-row align-items-center gap-2 mt-2"},jr=tt("span",null,"\u5168\u8A2D",-1),Hr=tt("th",{class:"col-width text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),Zr=tt("th",{class:"col-width text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),Gr=tt("th",{class:"col-width text-center",width:"3%"},"zip",-1),Kr={class:"col-size text-center",width:"5%"},Vr={class:"flex-row align-items-center justify-content-center gap-2 mt-2"},$r=tt("span",null,"\u5168\u9078",-1),Qr=tt("th",{class:"col-size text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),Xr=tt("th",{class:"col-size text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),Yr=tt("th",{class:"col-size text-center",width:"3%"},"zip",-1),qr={class:"col-type",width:"8%"},Jr={class:"flex-row align-items-center gap-2 mt-2"},tn=tt("option",{value:""},"\u8ACB\u9078\u64C7",-1),en=["value"],rn=tt("th",{class:"col-type text-end",width:"5%"},"\u58D3\u7E2E\u5F8C(KB)",-1),nn=tt("th",{class:"col-type text-center",width:"4%"},"\u662F\u5426\u8F49\u63DB",-1),an=tt("th",{class:"col-type text-center",width:"3%"},"zip",-1),sn={class:"col-origin text-center"},on={class:"col-origin text-center"},ln=tt("span",null,"\u4E0D\u652F\u63F4",-1),cn=["title"],fn={class:"col-origin text-center"},un={class:"image-wrap"},hn=["src"],dn={class:"col-origin"},pn=tt("br",null,null,-1),mn={class:"text-body-secondary"},gn={class:"col-file"},_n=["onUpdate:modelValue","disabled"],vn={class:"col-width"},bn=["onUpdate:modelValue","disabled"],yn={class:"col-width text-end"},wn={class:"col-width text-center"},kn={key:0,class:"material-symbols-rounded animate-rotate"},xn={key:0,class:"material-symbols-rounded text-success"},An={class:"col-width text-center"},Cn={key:0,class:"material-symbols-rounded"},Sn={class:"col-size text-center"},En=["onUpdate:modelValue","disabled"],zn={class:"col-size text-end"},In={class:"col-size text-center"},Un={key:0,class:"material-symbols-rounded animate-rotate"},Tn={key:0,class:"material-symbols-rounded text-success"},Bn={class:"col-size text-center"},Rn={key:0,class:"material-symbols-rounded"},Fn={class:"col-type"},On=["onUpdate:modelValue","disabled"],Dn=["value"],Pn={class:"col-type text-end"},Ln={class:"col-type text-center"},Nn={key:0,class:"material-symbols-rounded animate-rotate"},Mn={key:0,class:"material-symbols-rounded text-success"},Wn={class:"col-type text-center"},jn={key:0,class:"material-symbols-rounded"},Hn={class:"btns-wrap"},Zn=["disabled"],Gn=["disabled"],$n={__name:"ImageProcessor",setup(W){const D=Ut([]);let y=0,m=Ut(null);const e=Ut(0),t=Ut(!1),l=Ut(""),r=["WEBP","JPG","PNG"],f=Ut(1),g=Ut(.8);function s(x){if(!x)return"\u672A\u77E5";const h=String(x).toLowerCase();return h==="jpeg"?"jpg":h}function o(x){if(!x||x==="\u672A\u77E5")return"";const h=x.toLowerCase();return h==="jpg"||h==="jpeg"?"image/jpeg":`image/${h}`}async function a(x){try{const h=await createImageBitmap(x),{width:w,height:n}=h;return h.close(),{width:w,height:n}}catch{return{width:0,height:0}}}function i(x){if(!x)return!1;const h=s(x);return r.some(w=>w.toUpperCase()===h.toUpperCase())}function c(x,h){return new Promise((w,n)=>{try{new gr(x,{...h,success(U){w(U)},error(U){n(U)}})}catch(U){n(U)}})}async function u(x,h){return new Promise((w,n)=>{const U=new FileReader;U.onload=A=>{const b=new Image;b.onload=()=>{const H=Math.round(h*(b.height/b.width)),F=document.createElement("canvas");F.width=h,F.height=H,F.getContext("2d").drawImage(b,0,0,h,H),F.toBlob(N=>{w(N)},x.type||"image/png")},b.onerror=n,b.src=A.target.result},U.onerror=n,U.readAsDataURL(x)})}async function _(){for(const x of D.value){if(!x.isSupported)continue;const h=Number(x.originalWidth)||0,w=Number(x.resizeWidth)||h,n=w!==h;if(!n)continue;x.isResizeLoading=!0;let U=null;if(x.originalFile)U=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{let A=U;n&&(A=await u(U,w)),x.resizeSize=Math.round(A.size/1024),x.resizeBlob=A,x.isResizeStatus=!0}catch(A){console.warn(`\u5C3A\u5BF8\u8ABF\u6574\u5931\u6557 ${x.originalName}.${x.originalExt}:`,A),x.resizeSize="",x.resizeBlob=null,x.isResizeStatus=!1}finally{x.isResizeLoading=!1}}}async function p(){for(const x of D.value){if(!x.isSupported||!x.isNeedCompress)continue;x.isCompressedLoading=!0;let h=x.isResizeStatus&&x.resizeSize&&x.resizeBlob,w=null;if(h)w=x.resizeBlob;else if(x.originalFile)w=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{const n=x.originalExt,U=w.type&&w.type.startsWith("image/")?w.type:o(n),A={useWebWorker:!0,initialQuality:f.value,fileType:U};let b=w;try{const H=await c(w,A);b=H instanceof Blob?H:w}catch(H){console.warn("imageCompression failed, using target file",H)}x.compressedSize=Math.round(b.size/1024),x.compressedBlob=b,x.isCompressedStatus=!0}catch(n){console.warn(`\u58D3\u7E2E/\u8ABF\u6574\u5931\u6557 ${x.originalName}.${x.originalExt}:`,n),x.compressedSize="",x.compressedBlob=null,x.isCompressedStatus=!1}finally{x.isCompressedLoading=!1}}}async function C(){for(const x of D.value){if(!x.isSupported)continue;const h=o(x.convertType),w=o(x.originalExt);if(h===w)continue;x.isConvertTypeLoading=!0;let n=x.isCompressedStatus&&x.compressedSize&&x.compressedBlob,U=x.isResizeStatus&&x.resizeSize&&x.resizeBlob,A=null;if(U&&n)A=x.compressedBlob;else if(U&&!n)A=x.resizeBlob;else if(n&&!U)A=x.compressedBlob;else if(x.originalFile)A=x.originalFile;else{console.warn(`\u672A\u627E\u5230\u6587\u4EF6: ${x.originalName}.${x.originalExt}`);continue}try{const b={useWebWorker:!0,initialQuality:f.value,fileType:h};let H=A;try{const F=await bt(A,b);H=F instanceof Blob?F:A}catch(F){console.warn("imageCompression failed, using target file",F)}x.convertTypeSize=Math.round(H.size/1024),x.convertTypeBlob=H,x.isConvertTypeStatus=!0}catch(b){console.warn(`\u683C\u5F0F\u8F49\u63DB\u5931\u6557 ${x.originalName}.${x.originalExt}:`,b),x.convertTypeSize="",x.convertTypeBlob=null,x.isConvertTypeStatus=!1}finally{x.isConvertTypeLoading=!1}}}function S(x,h,w,n,U){const A=s(w),b=A!=="\u672A\u77E5"?`${h}.${A}`:`${h}_${U}`;x.file(b,n)}async function z(x){for(const h of D.value){const w=h.newName&&String(h.newName).trim()!==""?String(h.newName).trim().replace(/\.[^/.]+$/,""):h.originalName;let n=h.isCompressedStatus&&h.compressedBlob,U=h.isResizeStatus&&h.resizeBlob,A=h.isConvertTypeStatus&&h.convertTypeBlob;n&&U&&A?(S(x,w,h.originalExt,h.compressedBlob,"resize_compress_error"),h.isCompressedPacked=!0,S(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):U&&A&&!n?(S(x,w,h.originalExt,h.resizeBlob,"resize_error"),h.isResizePacked=!0,S(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):n&&A&&!U?(S(x,w,h.originalExt,h.compressedBlob,"compress_error"),h.isCompressedPacked=!0,S(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):n&&U&&!A?(S(x,w,h.originalExt,h.compressedBlob,"resize_compress_error"),h.isCompressedPacked=!0):A&&!n&&!U?(S(x,w,h.convertType,h.convertTypeBlob,"type_error"),h.isConvertTypePacked=!0):U&&!n&&!A?(S(x,w,h.originalExt,h.resizeBlob,"resize_error"),h.isResizePacked=!0):n&&!U&&!A&&(S(x,w,h.originalExt,h.compressedBlob,"compress_error"),h.isCompressedPacked=!0)}}function B(){for(const x of D.value)!x.isSupported||(e.value!=0?x.resizeWidth=e.value:x.resizeWidth=x.originalWidth)}function E(){for(const x of D.value)!x.isSupported||(t.value?x.isNeedCompress=!0:x.isNeedCompress=!1)}function O(){for(const x of D.value)!x.isSupported||(l.value!=""?x.convertType=l.value:x.convertType=x.originalType)}async function k(x){const h=x.target.files;if(!(!h||h.length===0)){for(const w of h){const{width:n,height:U}=await a(w),A=Math.round(w.size/1024),b=w.name.split("."),H=b.length>1?b.pop():"",F=s(H),G=b.length>0?b.join("."):w.name;let N="\u672A\u77E5";if(w.type){const L=w.type.split("/");if(L.length===2){let et=L[1].toUpperCase();et==="JPEG"&&(et="JPG"),N=et}}N==="\u672A\u77E5"&&F!=="\u672A\u77E5"&&(N=F.toUpperCase());const P=i(F);let $="";if(w.type&&w.type.startsWith("image/"))try{$=URL.createObjectURL(w)}catch{$=""}const Z=Ut({id:++y,originalFile:w,previewUrl:$,originalFullName:w.name,originalName:G,newName:G,originalWidth:n,originalHeight:U,originalSize:A,originalExt:F,originalType:N,isSupported:P,compressedSize:"",compressedBlob:null,isNeedCompress:!1,isCompressedPacked:!1,isCompressedStatus:!1,isCompressedLoading:!1,resizeWidth:n,resizeHeight:U,resizeSize:"",resizeBlob:null,isResizePacked:!1,isResizeStatus:!1,isResizeLoading:!1,convertType:N,convertTypeSize:"",convertTypeBlob:null,isConvertTypePacked:!1,isConvertTypeStatus:!1,isConvertTypeLoading:!1});D.value.push(Z.value),je(Z,L=>{const et=L.originalWidth,st=L.resizeWidth;L.resizeHeight=Math.round(st*(L.originalHeight/et))},{deep:!0})}x.target.value=""}}async function v(){if(D.value.length===0){alert("\u8ACB\u5148\u4E0A\u50B3\u5716\u7247");return}try{m.value=new _r;const x=m.value.folder("converted-images");await _(),await p(),await C(),await z(x)}catch(x){console.error("\u8F49\u63DB\u5931\u6557:",x),alert("\u5716\u7247\u8F49\u63DB\u5931\u6557\uFF1A"+x.message)}}async function R(){if(!m.value){alert("\u8ACB\u5148\u9EDE\u64CA\u300C\u8F49\u63DB\u300D\u6309\u9215");return}const x=await m.value.generateAsync({type:"blob"}),h=URL.createObjectURL(x),w=document.createElement("a");w.href=h,w.download="converted-images.zip",document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(h),m.value=null}return Le(()=>{new Ne(document.body,{selector:"[data-bs-toggle='tooltip']"}),Me(()=>{})}),(x,h)=>(gt(),_t("div",vr,[tt("div",br,[tt("div",yr,[tt("div",wr,[kr,tt("div",xr,[tt("table",Ar,[tt("tr",null,[tt("th",Cr,[Sr,tt("input",{type:"file",accept:"image/*",onChange:k,multiple:""},null,32)]),Er,zr,tt("th",Ir,[Ur,tt("label",Tr,[Dt(" \u54C1\u8CEA\uFF1A "),It(tt("input",{type:"range",min:"0.1",max:"1",step:"0.1","onUpdate:modelValue":h[0]||(h[0]=w=>f.value=w)},null,512),[[Zt,f.value,void 0,{number:!0}]]),tt("span",null,Ct(f.value*100)+"%",1)])]),tt("th",Br,[Rr,tt("label",Fr,[Dt(" \u54C1\u8CEA\uFF1A "),It(tt("input",{type:"range",min:"0.1",max:"1",step:"0.1","onUpdate:modelValue":h[1]||(h[1]=w=>g.value=w)},null,512),[[Zt,g.value,void 0,{number:!0}]]),tt("span",null,Ct(g.value*100)+"%",1)])])]),tt("tr",null,[Or,Dr,Pr,Lr,Nr,tt("th",Mr,[Dt(" \u8ABF\u6574\u5C3A\u5BF8 "),tt("label",Wr,[jr,It(tt("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":h[2]||(h[2]=w=>e.value=w),onChange:B},null,544),[[Zt,e.value,void 0,{number:!0}]])])]),Hr,Zr,Gr,tt("th",Kr,[Dt(" \u662F\u5426\u58D3\u7E2E "),tt("label",Vr,[It(tt("input",{type:"checkbox","onUpdate:modelValue":h[3]||(h[3]=w=>t.value=w),onChange:E},null,544),[[pe,t.value]]),$r])]),Qr,Xr,Yr,tt("th",qr,[Dt(" \u8F49\u6A94\u683C\u5F0F "),tt("label",Jr,[It(tt("select",{class:"form-select","onUpdate:modelValue":h[4]||(h[4]=w=>l.value=w),onChange:O},[tn,(gt(),_t(Pt,null,se(r,w=>tt("option",{key:`all-${w}`,value:w},Ct(w),9,en)),64))],544),[[me,l.value]])])]),rn,nn,an]),(gt(!0),_t(Pt,null,se(D.value,w=>(gt(),_t("tr",{key:w.id},[tt("td",sn,Ct(w.id),1),tt("td",on,[w.isSupported?Tt("",!0):(gt(),_t(Pt,{key:0},[ln,tt("span",{class:"material-symbols-rounded","data-bs-container":"body","data-bs-toggle":"tooltip","data-bs-placement":"right",title:`\u4E0D\u652F\u63F4 ${w.originalType} \u683C\u5F0F`},"info",8,cn)],64))]),tt("td",fn,[tt("div",un,[w.previewUrl?(gt(),_t("img",{key:0,src:w.previewUrl},null,8,hn)):Tt("",!0)])]),tt("td",dn,[Dt(Ct(w.originalFullName),1),pn,tt("span",mn,Ct(w.originalWidth)+" x "+Ct(w.originalHeight)+" ("+Ct(w.originalSize)+" KB) ",1)]),tt("td",gn,[It(tt("input",{type:"text",class:"form-control","onUpdate:modelValue":n=>w.newName=n,disabled:!w.isSupported},null,8,_n),[[Zt,w.newName]])]),tt("td",vn,[It(tt("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":n=>w.resizeWidth=n,disabled:!w.isSupported},null,8,bn),[[Zt,w.resizeWidth]]),Dt(" x "+Ct(w.resizeHeight),1)]),tt("td",yn,Ct(w.resizeSize),1),tt("td",wn,[w.isResizeLoading?(gt(),_t("span",kn,"progress_activity")):(gt(),_t(Pt,{key:1},[w.isResizeStatus?(gt(),_t("span",xn,"check")):Tt("",!0)],64))]),tt("td",An,[w.isResizePacked?(gt(),_t("span",Cn,"folder_zip")):Tt("",!0)]),tt("td",Sn,[It(tt("input",{type:"checkbox","onUpdate:modelValue":n=>w.isNeedCompress=n,disabled:!w.isSupported},null,8,En),[[pe,w.isNeedCompress]])]),tt("td",zn,Ct(w.compressedSize),1),tt("td",In,[w.isCompressedLoading?(gt(),_t("span",Un,"progress_activity")):(gt(),_t(Pt,{key:1},[w.isCompressedStatus?(gt(),_t("span",Tn,"check")):Tt("",!0)],64))]),tt("td",Bn,[w.isCompressedPacked?(gt(),_t("span",Rn,"folder_zip")):Tt("",!0)]),tt("td",Fn,[It(tt("select",{class:"form-select","onUpdate:modelValue":n=>w.convertType=n,disabled:!w.isSupported},[(gt(),_t(Pt,null,se(r,n=>tt("option",{key:n,value:n},Ct(n),9,Dn)),64))],8,On),[[me,w.convertType]])]),tt("td",Pn,Ct(w.convertTypeSize),1),tt("td",Ln,[w.isConvertTypeLoading?(gt(),_t("span",Nn,"progress_activity")):(gt(),_t(Pt,{key:1},[w.isConvertTypeStatus?(gt(),_t("span",Mn,"check")):Tt("",!0)],64))]),tt("td",Wn,[w.isConvertTypePacked?(gt(),_t("span",jn,"folder_zip")):Tt("",!0)])]))),128))])]),tt("div",Hn,[tt("button",{class:"btn btn-dark",disabled:D.value.length===0,onClick:v},"\u8F49\u63DB\u6A94\u6848",8,Zn),tt("button",{class:"btn btn-dark",disabled:!We(m),onClick:R},"\u4E0B\u8F09zip\u6A94\u6848",8,Gn)])])])])]))}};export{$n as default};
